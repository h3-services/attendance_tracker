var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function ee(e,t){return E(e.type,t,e.props)}function D(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function te(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var O=/\/+/g;function ne(e,t){return typeof e==`object`&&e&&e.key!=null?te(``+e.key):t.toString(36)}function re(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ie(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ie(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ne(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(O,`$&/`)+`/`),ie(o,r,i,``,function(e){return e})):o!=null&&(D(o)&&(o=ee(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(O,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ne(a,u),c+=ie(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ne(a,u++),c+=ie(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ie(re(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ae(e,t,n){if(e==null)return e;var r=[],i=0;return ie(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function oe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var k=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},A={map:ae,forEach:function(e,t,n){ae(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ae(e,function(){t++}),t},toArray:function(e){return ae(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=A,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=D,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:oe}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,k)}catch(e){k(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,D());else{var t=n(l);t!==null&&ne(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function ee(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ne(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?D():S=!1}}}var D;if(typeof y==`function`)D=function(){y(ee)};else if(typeof MessageChannel<`u`){var te=new MessageChannel,O=te.port2;te.port1.onmessage=ee,D=function(){O.postMessage(null)}}else D=function(){_(ee,0)};function ne(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ne(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,D()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),ee=Symbol.for(`react.memo`),D=Symbol.for(`react.lazy`),te=Symbol.for(`react.activity`),O=Symbol.for(`react.memo_cache_sentinel`),ne=Symbol.iterator;function re(e){return typeof e!=`object`||!e?null:(e=ne&&e[ne]||e[`@@iterator`],typeof e==`function`?e:null)}var ie=Symbol.for(`react.client.reference`);function ae(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case te:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case ee:return t=e.displayName||null,t===null?ae(e.type)||`Memo`:t;case D:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var oe=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],le=-1;function ue(e){return{current:e}}function j(e){0>le||(e.current=ce[le],ce[le]=null,le--)}function M(e,t){le++,ce[le]=e.current,e.current=t}var de=ue(null),fe=ue(null),pe=ue(null),me=ue(null);function he(e,t){switch(M(pe,t),M(fe,e),M(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ud(t),e=Wd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}j(de),M(de,e)}function ge(){j(de),j(fe),j(pe)}function _e(e){e.memoizedState!==null&&M(me,e);var t=de.current,n=Wd(t,e.type);t!==n&&(M(fe,e),M(de,n))}function ve(e){fe.current===e&&(j(de),j(fe)),me.current===e&&(j(me),$f._currentValue=se)}var ye,be;function xe(e){if(ye===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||``,be=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ye+e+be}var Se=!1;function Ce(e,t){if(!e||Se)return``;Se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Se=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?xe(n):``}function we(e,t){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe(`Lazy`);case 13:return e.child!==t&&t!==null?xe(`Suspense Fallback`):xe(`Suspense`);case 19:return xe(`SuspenseList`);case 0:case 15:return Ce(e.type,!1);case 11:return Ce(e.type.render,!1);case 1:return Ce(e.type,!0);case 31:return xe(`Activity`);default:return``}}function Te(e){try{var t=``,n=null;do t+=we(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ee=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Oe=t.unstable_cancelCallback,ke=t.unstable_shouldYield,Ae=t.unstable_requestPaint,je=t.unstable_now,Me=t.unstable_getCurrentPriorityLevel,Ne=t.unstable_ImmediatePriority,Pe=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,Ie=t.unstable_LowPriority,Le=t.unstable_IdlePriority,Re=t.log,ze=t.unstable_setDisableYieldValue,Be=null,Ve=null;function He(e){if(typeof Re==`function`&&ze(e),Ve&&typeof Ve.setStrictMode==`function`)try{Ve.setStrictMode(Be,e)}catch{}}var Ue=Math.clz32?Math.clz32:Ke,We=Math.log,Ge=Math.LN2;function Ke(e){return e>>>=0,e===0?32:31-(We(e)/Ge|0)|0}var qe=256,Je=262144,Ye=4194304;function Xe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ze(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Xe(n))):i=Xe(o):i=Xe(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Xe(n))):i=Xe(o)):i=Xe(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Qe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var e=Ye;return Ye<<=1,!(Ye&62914560)&&(Ye=4194304),e}function tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rt(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ue(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&it(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function it(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ue(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function at(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ue(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ot(e,t){var n=t&-t;return n=n&42?1:st(n),(n&(e.suspendedLanes|t))===0?n:0}function st(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ct(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function lt(){var e=A.p;return e===0?(e=window.event,e===void 0?32:hp(e.type)):e}function ut(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}var dt=Math.random().toString(36).slice(2),ft=`__reactFiber$`+dt,pt=`__reactProps$`+dt,mt=`__reactContainer$`+dt,ht=`__reactEvents$`+dt,gt=`__reactListeners$`+dt,_t=`__reactHandles$`+dt,vt=`__reactResources$`+dt,yt=`__reactMarker$`+dt;function bt(e){delete e[ft],delete e[pt],delete e[ht],delete e[gt],delete e[_t]}function xt(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ff(e);e!==null;){if(n=e[ft])return n;e=ff(e)}return t}e=n,n=e.parentNode}return null}function St(e){if(e=e[ft]||e[mt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ct(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function wt(e){var t=e[vt];return t||=e[vt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Tt(e){e[yt]=!0}var Et=new Set,Dt={};function Ot(e,t){kt(e,t),kt(e+`Capture`,t)}function kt(e,t){for(Dt[e]=t,e=0;e<t.length;e++)Et.add(t[e])}var At=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),jt={},Mt={};function Nt(e){return Ee.call(Mt,e)?!0:Ee.call(jt,e)?!1:At.test(e)?Mt[e]=!0:(jt[e]=!0,!1)}function Pt(e,t,n){if(Nt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ft(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function It(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Lt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Rt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function zt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bt(e){if(!e._valueTracker){var t=Rt(e)?`checked`:`value`;e._valueTracker=zt(e,t,``+e[t])}}function Vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Rt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Ht(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ut=/[\n"\\]/g;function Wt(e){return e.replace(Ut,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Gt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Lt(t)):e.value!==``+Lt(t)&&(e.value=``+Lt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):qt(e,o,Lt(n)):qt(e,o,Lt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Lt(s):e.removeAttribute(`name`)}function Kt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Bt(e);return}n=n==null?``:``+Lt(n),t=t==null?n:``+Lt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Bt(e)}function qt(e,t,n){t===`number`&&Ht(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Jt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Lt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yt(e,t,n){if(t!=null&&(t=``+Lt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Lt(n)}function Xt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(oe(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Lt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Bt(e)}function Zt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function $t(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Qt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function en(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&$t(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&$t(e,o,t[o])}function tn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var nn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),rn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function an(e){return rn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function on(){}var sn=null;function cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,un=null;function dn(e){var t=St(e);if(t&&(e=t.stateNode)){var n=e[pt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Wt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[pt]||null;if(!a)throw Error(i(90));Gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Vt(r)}break a;case`textarea`:Yt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Jt(e,!!n.multiple,t,!1)}}}var fn=!1;function pn(e,t,n){if(fn)return e(t,n);fn=!0;try{return e(t)}finally{if(fn=!1,(ln!==null||un!==null)&&(xu(),ln&&(t=ln,e=un,un=ln=null,dn(t),e)))for(t=0;t<e.length;t++)dn(e[t])}}function mn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[pt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var hn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),gn=!1;if(hn)try{var _n={};Object.defineProperty(_n,`passive`,{get:function(){gn=!0}}),window.addEventListener(`test`,_n,_n),window.removeEventListener(`test`,_n,_n)}catch{gn=!1}var vn=null,yn=null,bn=null;function xn(){if(bn)return bn;var e,t=yn,n=t.length,r,i=`value`in vn?vn.value:vn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return bn=i.slice(e,1<r?1-r:void 0)}function Sn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function wn(){return!1}function Tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Cn:wn,this.isPropagationStopped=wn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=Tn(En),On=h({},En,{view:0,detail:0}),kn=Tn(On),An,jn,Mn,Nn=h({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Mn&&(Mn&&e.type===`mousemove`?(An=e.screenX-Mn.screenX,jn=e.screenY-Mn.screenY):jn=An=0,Mn=e),An)},movementY:function(e){return`movementY`in e?e.movementY:jn}}),Pn=Tn(Nn),Fn=Tn(h({},Nn,{dataTransfer:0})),In=Tn(h({},On,{relatedTarget:0})),Ln=Tn(h({},En,{animationName:0,elapsedTime:0,pseudoElement:0})),Rn=Tn(h({},En,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),zn=Tn(h({},En,{data:0})),Bn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},N={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Vn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vn[e])?!!t[e]:!1}function Un(){return Hn}var Wn=Tn(h({},On,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=Sn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?N[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(e){return e.type===`keypress`?Sn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?Sn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Gn=Tn(h({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),P=Tn(h({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un})),Kn=Tn(h({},En,{propertyName:0,elapsedTime:0,pseudoElement:0})),qn=Tn(h({},Nn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Jn=Tn(h({},En,{newState:0,oldState:0})),Yn=[9,13,27,32],Xn=hn&&`CompositionEvent`in window,Zn=null;hn&&`documentMode`in document&&(Zn=document.documentMode);var Qn=hn&&`TextEvent`in window&&!Zn,$n=hn&&(!Xn||Zn&&8<Zn&&11>=Zn),er=` `,tr=!1;function nr(e,t){switch(e){case`keyup`:return Yn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function rr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var ir=!1;function ar(e,t){switch(e){case`compositionend`:return rr(t);case`keypress`:return t.which===32?(tr=!0,er):null;case`textInput`:return e=t.data,e===er&&tr?null:e;default:return null}}function or(e,t){if(ir)return e===`compositionend`||!Xn&&nr(e,t)?(e=xn(),bn=yn=vn=null,ir=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return $n&&t.locale!==`ko`?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!sr[e.type]:t===`textarea`}function lr(e,t,n,r){ln?un?un.push(r):un=[r]:ln=r,t=Dd(t,`onChange`),0<t.length&&(n=new Dn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var ur=null,dr=null;function fr(e){bd(e,0)}function pr(e){if(Vt(Ct(e)))return e}function mr(e,t){if(e===`change`)return t}var hr=!1;if(hn){var gr;if(hn){var _r=`oninput`in document;if(!_r){var vr=document.createElement(`div`);vr.setAttribute(`oninput`,`return;`),_r=typeof vr.oninput==`function`}gr=_r}else gr=!1;hr=gr&&(!document.documentMode||9<document.documentMode)}function yr(){ur&&(ur.detachEvent(`onpropertychange`,br),dr=ur=null)}function br(e){if(e.propertyName===`value`&&pr(dr)){var t=[];lr(t,dr,e,cn(e)),pn(fr,t)}}function xr(e,t,n){e===`focusin`?(yr(),ur=t,dr=n,ur.attachEvent(`onpropertychange`,br)):e===`focusout`&&yr()}function Sr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return pr(dr)}function Cr(e,t){if(e===`click`)return pr(t)}function wr(e,t){if(e===`input`||e===`change`)return pr(t)}function Tr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Er=typeof Object.is==`function`?Object.is:Tr;function Dr(e,t){if(Er(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ee.call(t,i)||!Er(e[i],t[i]))return!1}return!0}function Or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kr(e,t){var n=Or(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Or(n)}}function Ar(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ar(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ht(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ht(e.document)}return t}function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Nr=hn&&`documentMode`in document&&11>=document.documentMode,Pr=null,Fr=null,Ir=null,Lr=!1;function Rr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lr||Pr==null||Pr!==Ht(r)||(r=Pr,`selectionStart`in r&&Mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Dr(Ir,r)||(Ir=r,r=Dd(Fr,`onSelect`),0<r.length&&(t=new Dn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Br={animationend:zr(`Animation`,`AnimationEnd`),animationiteration:zr(`Animation`,`AnimationIteration`),animationstart:zr(`Animation`,`AnimationStart`),transitionrun:zr(`Transition`,`TransitionRun`),transitionstart:zr(`Transition`,`TransitionStart`),transitioncancel:zr(`Transition`,`TransitionCancel`),transitionend:zr(`Transition`,`TransitionEnd`)},Vr={},Hr={};hn&&(Hr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),`TransitionEvent`in window||delete Br.transitionend.transition);function F(e){if(Vr[e])return Vr[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hr)return Vr[e]=t[n];return e}var Ur=F(`animationend`),Wr=F(`animationiteration`),Gr=F(`animationstart`),Kr=F(`transitionrun`),qr=F(`transitionstart`),Jr=F(`transitioncancel`),Yr=F(`transitionend`),Xr=new Map,Zr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Zr.push(`scrollEnd`);function Qr(e,t){Xr.set(e,t),Ot(t,[e])}var $r=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ei=[],ti=0,ni=0;function ri(){for(var e=ti,t=ni=ti=0;t<e;){var n=ei[t];ei[t++]=null;var r=ei[t];ei[t++]=null;var i=ei[t];ei[t++]=null;var a=ei[t];if(ei[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&si(n,i,a)}}function ii(e,t,n,r){ei[ti++]=e,ei[ti++]=t,ei[ti++]=n,ei[ti++]=r,ni|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ai(e,t,n,r){return ii(e,t,n,r),ci(e)}function oi(e,t){return ii(e,null,null,t),ci(e)}function si(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ue(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ci(e){if(50<fu)throw fu=0,pu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var li={};function ui(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,n,r){return new ui(e,t,n,r)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,t){var n=e.alternate;return n===null?(n=di(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)fi(e)&&(s=1);else if(typeof e==`string`)s=Wf(e,n,de.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case te:return e=di(31,n,t,a),e.elementType=te,e.lanes=o,e;case y:return gi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=di(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=di(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=di(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case ee:s=14;break a;case D:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=di(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function gi(e,t,n,r){return e=di(7,e,r,t),e.lanes=n,e}function _i(e,t,n){return e=di(6,e,null,t),e.lanes=n,e}function vi(e){var t=di(18,null,null,0);return t.stateNode=e,t}function yi(e,t,n){return t=di(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bi=new WeakMap;function xi(e,t){if(typeof e==`object`&&e){var n=bi.get(e);return n===void 0?(t={value:e,source:t,stack:Te(t)},bi.set(e,t),t):n}return{value:e,source:t,stack:Te(t)}}var Si=[],Ci=0,wi=null,Ti=0,Ei=[],Di=0,Oi=null,ki=1,Ai=``;function ji(e,t){Si[Ci++]=Ti,Si[Ci++]=wi,wi=e,Ti=t}function Mi(e,t,n){Ei[Di++]=ki,Ei[Di++]=Ai,Ei[Di++]=Oi,Oi=e;var r=ki;e=Ai;var i=32-Ue(r)-1;r&=~(1<<i),n+=1;var a=32-Ue(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ki=1<<32-Ue(t)+i|n<<i|r,Ai=a+e}else ki=1<<a|n<<i|r,Ai=e}function Ni(e){e.return!==null&&(ji(e,1),Mi(e,1,0))}function Pi(e){for(;e===wi;)wi=Si[--Ci],Si[Ci]=null,Ti=Si[--Ci],Si[Ci]=null;for(;e===Oi;)Oi=Ei[--Di],Ei[Di]=null,Ai=Ei[--Di],Ei[Di]=null,ki=Ei[--Di],Ei[Di]=null}function Fi(e,t){Ei[Di++]=ki,Ei[Di++]=Ai,Ei[Di++]=Oi,ki=t.id,Ai=t.overflow,Oi=e}var Ii=null,Li=null,I=!1,Ri=null,zi=!1,Bi=Error(i(519));function Vi(e){throw Ki(xi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Bi}function Hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ft]=e,t[pt]=r,n){case`dialog`:Z(`cancel`,t),Z(`close`,t);break;case`iframe`:case`object`:case`embed`:Z(`load`,t);break;case`video`:case`audio`:for(n=0;n<vd.length;n++)Z(vd[n],t);break;case`source`:Z(`error`,t);break;case`img`:case`image`:case`link`:Z(`error`,t),Z(`load`,t);break;case`details`:Z(`toggle`,t);break;case`input`:Z(`invalid`,t),Kt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Z(`invalid`,t);break;case`textarea`:Z(`invalid`,t),Xt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Nd(t.textContent,n)?(r.popover!=null&&(Z(`beforetoggle`,t),Z(`toggle`,t)),r.onScroll!=null&&Z(`scroll`,t),r.onScrollEnd!=null&&Z(`scrollend`,t),r.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Vi(e,!0)}function L(e){for(Ii=e.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:Ii=Ii.return}}function Ui(e){if(e!==Ii)return!1;if(!I)return L(e),I=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Gd(e.type,e.memoizedProps)),n=!n),n&&Li&&Vi(e),L(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Li=df(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Li=df(e)}else t===27?(t=Li,$d(e.type)?(e=uf,uf=null,Li=e):Li=t):Li=Ii?Q(e.stateNode.nextSibling):null;return!0}function Wi(){Li=Ii=null,I=!1}function Gi(){var e=Ri;return e!==null&&(Ql===null?Ql=e:Ql.push.apply(Ql,e),Ri=null),e}function Ki(e){Ri===null?Ri=[e]:Ri.push(e)}var qi=ue(null),Ji=null,Yi=null;function Xi(e,t,n){M(qi,t._currentValue),t._currentValue=n}function Zi(e){e._currentValue=qi.current,j(qi)}function Qi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function $i(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Qi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Qi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ea(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Er(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===me.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[$f]:e.push($f))}a=a.return}e!==null&&$i(t,e,n,r),t.flags|=262144}function ta(e){for(e=e.firstContext;e!==null;){if(!Er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){Ji=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ra(e){return aa(Ji,e)}function ia(e,t){return Ji===null&&na(e),aa(e,t)}function aa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Yi===null){if(e===null)throw Error(i(308));Yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Yi=Yi.next=t;return n}var oa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},sa=t.unstable_scheduleCallback,ca=t.unstable_NormalPriority,la={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ua(){return{controller:new oa,data:new Map,refCount:0}}function da(e){e.refCount--,e.refCount===0&&sa(ca,function(){e.controller.abort()})}var fa=null,pa=0,ma=0,ha=null;function ga(e,t){if(fa===null){var n=fa=[];pa=0,ma=fd(),ha={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return pa++,t.then(_a,_a),t}function _a(){if(--pa===0&&fa!==null){ha!==null&&(ha.status=`fulfilled`);var e=fa;fa=null,ma=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function va(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ya=k.S;k.S=function(e,t){tu=je(),typeof t==`object`&&t&&typeof t.then==`function`&&ga(e,t),ya!==null&&ya(e,t)};var ba=ue(null);function xa(){var e=ba.current;return e===null?zl.pooledCache:e}function Sa(e,t){t===null?M(ba,ba.current):M(ba,t.pool)}function Ca(){var e=xa();return e===null?null:{parent:la._currentValue,pool:e}}var wa=Error(i(460)),Ta=Error(i(474)),Ea=Error(i(542)),Da={then:function(){}};function R(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Oa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ma(e),e;default:if(typeof t.status==`string`)t.then(on,on);else{if(e=zl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ma(e),e}throw Aa=t,wa}}function ka(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Aa=e,wa):e}}var Aa=null;function ja(){if(Aa===null)throw Error(i(459));var e=Aa;return Aa=null,e}function Ma(e){if(e===wa||e===Ea)throw Error(i(483))}var Na=null,Pa=0;function Fa(e){var t=Pa;return Pa+=1,Na===null&&(Na=[]),Oa(Na,e,t)}function Ia(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function La(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ra(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=pi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=_i(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===D&&ka(i)===t.type)?(t=a(t,n.props),Ia(t,n),t.return=e,t):(t=hi(n.type,n.key,n.props,null,e.mode,r),Ia(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=yi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=gi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=_i(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=hi(t.type,t.key,t.props,null,e.mode,n),Ia(n,t),n.return=e,n;case v:return t=yi(t,e.mode,n),t.return=e,t;case D:return t=ka(t),f(e,t,n)}if(oe(t)||re(t))return t=gi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Fa(t),n);if(t.$$typeof===C)return f(e,ia(e,t),n);La(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case D:return n=ka(n),p(e,t,n,r)}if(oe(n)||re(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Fa(n),r);if(n.$$typeof===C)return p(e,t,ia(e,n),r);La(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case D:return r=ka(r),m(e,t,n,r,i)}if(oe(r)||re(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Fa(r),i);if(r.$$typeof===C)return m(e,t,n,ia(t,r),i);La(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),I&&ji(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return I&&ji(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),I&&ji(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),I&&ji(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return I&&ji(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),I&&ji(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===D&&ka(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ia(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=gi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=hi(o.type,o.key,o.props,null,e.mode,c),Ia(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=yi(o,e.mode,c),c.return=e,e=c}return s(e);case D:return o=ka(o),b(e,r,o,c)}if(oe(o))return h(e,r,o,c);if(re(o)){if(l=re(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Fa(o),c);if(o.$$typeof===C)return b(e,r,ia(e,o),c);La(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=_i(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Pa=0;var i=b(e,t,n,r);return Na=null,i}catch(t){if(t===wa||t===Ea)throw t;var a=di(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var za=Ra(!0),Ba=Ra(!1),Va=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function z(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function B(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ci(e),si(e,null,n),t}return ii(e,r,t,n),ci(e)}function Wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,at(e,n)}}function Ga(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ka=!1;function qa(){if(Ka){var e=ha;if(e!==null)throw e}}function Ja(e,t,n,r){Ka=!1;var i=e.updateQueue;Va=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(J&f)===f:(r&f)===f){f!==0&&f===ma&&(Ka=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Va=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Kl|=o,e.lanes=o,e.memoizedState=d}}function Ya(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Xa(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ya(n[e],t)}var Za=ue(null),Qa=ue(0);function $a(e,t){e=Gl,M(Qa,e),M(Za,t),Gl=e|t.baseLanes}function eo(){M(Qa,Gl),M(Za,Za.current)}function to(){Gl=Qa.current,j(Za),j(Qa)}var no=ue(null),ro=null;function io(e){var t=e.alternate;M(lo,lo.current&1),M(no,e),ro===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(ro=e)}function ao(e){M(lo,lo.current),M(no,e),ro===null&&(ro=e)}function oo(e){e.tag===22?(M(lo,lo.current),M(no,e),ro===null&&(ro=e)):so(e)}function so(){M(lo,lo.current),M(no,no.current)}function co(e){j(no),ro===e&&(ro=null),j(lo)}var lo=ue(0);function uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sf(n)||cf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=0,V=null,po=null,mo=null,ho=!1,go=!1,_o=!1,vo=0,yo=0,bo=null,xo=0;function So(){throw Error(i(321))}function Co(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Er(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,a){return fo=a,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?zs:Bs,_o=!1,a=n(r,i),_o=!1,go&&(a=Eo(t,n,r,i)),To(e),a}function To(e){k.H=Rs;var t=po!==null&&po.next!==null;if(fo=0,mo=po=V=null,ho=!1,yo=0,bo=null,t)throw Error(i(300));e===null||rc||(e=e.dependencies,e!==null&&ta(e)&&(rc=!0))}function Eo(e,t,n,r){V=e;var a=0;do{if(go&&(bo=null),yo=0,go=!1,25<=a)throw Error(i(301));if(a+=1,mo=po=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=Vs,o=t(n,r)}while(go);return o}function Do(){var e=k.H,t=e.useState()[0];return t=typeof t.then==`function`?Po(t):t,e=e.useState()[0],(po===null?null:po.memoizedState)!==e&&(V.flags|=1024),t}function Oo(){var e=vo!==0;return vo=0,e}function ko(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ao(e){if(ho){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ho=!1}fo=0,mo=po=V=null,go=!1,yo=vo=0,bo=null}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mo===null?V.memoizedState=mo=e:mo=mo.next=e,mo}function Mo(){if(po===null){var e=V.alternate;e=e===null?null:e.memoizedState}else e=po.next;var t=mo===null?V.memoizedState:mo.next;if(t!==null)mo=t,po=e;else{if(e===null)throw V.alternate===null?Error(i(467)):Error(i(310));po=e,e={memoizedState:po.memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},mo===null?V.memoizedState=mo=e:mo=mo.next=e}return mo}function No(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var t=yo;return yo+=1,bo===null&&(bo=[]),e=Oa(bo,e,t),t=V,(mo===null?t.memoizedState:mo.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?zs:Bs),e}function Fo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Po(e);if(e.$$typeof===C)return ra(e)}throw Error(i(438,String(e)))}function Io(e){var t=null,n=V.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=V.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=No(),V.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function Lo(e,t){return typeof t==`function`?t(e):t}function Ro(e){return zo(Mo(),po,e)}function zo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(fo&f)===f:(J&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ma&&(d=!0);else if((fo&p)===p){u=u.next,p===ma&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,V.lanes|=p,Kl|=p;f=u.action,_o&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,V.lanes|=f,Kl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Er(o,e.memoizedState)&&(rc=!0,d&&(n=ha,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Bo(e){var t=Mo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Er(o,t.memoizedState)||(rc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vo(e,t,n){var r=V,a=Mo(),o=I;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Er((po||a).memoizedState,n);if(s&&(a.memoizedState=n,rc=!0),a=a.queue,us(Uo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||mo!==null&&mo.memoizedState.tag&1){if(r.flags|=2048,os(9,{destroy:void 0},Ho.bind(null,r,a,n,t),null),zl===null)throw Error(i(349));o||fo&127||H(r,t,n)}return n}function H(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t=No(),V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ho(e,t,n,r){t.value=n,t.getSnapshot=r,Wo(t)&&Go(e)}function Uo(e,t,n){return n(function(){Wo(t)&&Go(e)})}function Wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Er(e,n)}catch{return!0}}function Go(e){var t=oi(e,2);t!==null&&gu(t,e,2)}function Ko(e){var t=jo();if(typeof e==`function`){var n=e;if(e=n(),_o){He(!0);try{n()}finally{He(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:e},t}function qo(e,t,n,r){return e.baseState=n,zo(e,po,typeof r==`function`?r:Lo)}function Jo(e,t,n,r,a){if(Fs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};k.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Yo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Yo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=k.T,o={};k.T=o;try{var s=n(i,r),c=k.S;c!==null&&c(o,s),Xo(e,t,s)}catch(n){Qo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),k.T=a}}else try{a=n(i,r),Xo(e,t,a)}catch(n){Qo(e,t,n)}}function Xo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Zo(e,t,n)},function(n){return Qo(e,t,n)}):Zo(e,t,n)}function Zo(e,t,n){t.status=`fulfilled`,t.value=n,$o(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Yo(e,n)))}function Qo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,$o(t),t=t.next;while(t!==r)}e.action=null}function $o(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function es(e,t){return t}function ts(e,t){if(I){var n=zl.formState;if(n!==null){a:{var r=V;if(I){if(Li){b:{for(var i=Li,a=zi;i.nodeType!==8;){if(!a){i=null;break b}if(i=Q(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Li=Q(i.nextSibling),r=i.data===`F!`;break a}}Vi(r)}r=!1}r&&(t=n[0])}}return n=jo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n.queue=r,n=Ms.bind(null,V,r),r.dispatch=n,r=Ko(!1),a=Ps.bind(null,V,!1,r.queue),r=jo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Jo.bind(null,V,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ns(e){return rs(Mo(),po,e)}function rs(e,t,n){if(t=zo(e,t,es)[0],e=Ro(Lo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Po(t)}catch(e){throw e===wa?Ea:e}else r=t;t=Mo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(V.flags|=2048,os(9,{destroy:void 0},is.bind(null,i,n),null)),[r,a,e]}function is(e,t){e.action=t}function as(e){var t=Mo(),n=po;if(n!==null)return rs(t,n,e);Mo(),t=t.memoizedState,n=Mo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function os(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=V.updateQueue,t===null&&(t=No(),V.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ss(){return Mo().memoizedState}function cs(e,t,n,r){var i=jo();V.flags|=e,i.memoizedState=os(1|t,{destroy:void 0},n,r===void 0?null:r)}function U(e,t,n,r){var i=Mo();r=r===void 0?null:r;var a=i.memoizedState.inst;po!==null&&r!==null&&Co(r,po.memoizedState.deps)?i.memoizedState=os(t,a,n,r):(V.flags|=e,i.memoizedState=os(1|t,a,n,r))}function ls(e,t){cs(8390656,8,e,t)}function us(e,t){U(2048,8,e,t)}function ds(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=No(),V.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fs(e){var t=Mo().memoizedState;return ds({ref:t,nextImpl:e}),function(){if(K&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ps(e,t){return U(4,2,e,t)}function ms(e,t){return U(4,4,e,t)}function hs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gs(e,t,n){n=n==null?null:n.concat([e]),U(4,4,hs.bind(null,t,e),n)}function _s(){}function vs(e,t){var n=Mo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ys(e,t){var n=Mo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Co(t,r[1]))return r[0];if(r=e(),_o){He(!0);try{e()}finally{He(!1)}}return n.memoizedState=[r,t],r}function bs(e,t,n){return n===void 0||fo&1073741824&&!(J&261930)?e.memoizedState=t:(e.memoizedState=n,e=hu(),V.lanes|=e,Kl|=e,n)}function xs(e,t,n,r){return Er(n,t)?n:Za.current===null?!(fo&42)||fo&1073741824&&!(J&261930)?(rc=!0,e.memoizedState=n):(e=hu(),V.lanes|=e,Kl|=e,t):(e=bs(e,n,r),Er(e,t)||(rc=!0),e)}function Ss(e,t,n,r,i){var a=A.p;A.p=a!==0&&8>a?a:8;var o=k.T,s={};k.T=s,Ps(e,!1,t,n);try{var c=i(),l=k.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ns(e,t,va(c,r),mu(e)):Ns(e,t,r,mu(e))}catch(n){Ns(e,t,{then:function(){},status:`rejected`,reason:n},mu())}finally{A.p=a,o!==null&&s.types!==null&&(o.types=s.types),k.T=o}}function Cs(){}function ws(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ts(e).queue;Ss(e,a,t,se,n===null?Cs:function(){return Es(e),n(r)})}function Ts(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Es(e){var t=Ts(e);t.next===null&&(t=e.alternate.memoizedState),Ns(e,t.next.queue,{},mu())}function Ds(){return ra($f)}function Os(){return Mo().memoizedState}function ks(){return Mo().memoizedState}function As(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mu();e=z(n);var r=B(t,e,n);r!==null&&(gu(r,t,n),Wa(r,t,n)),t={cache:ua()},e.payload=t;return}t=t.return}}function js(e,t,n){var r=mu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Is(t,n):(n=ai(e,t,n,r),n!==null&&(gu(n,e,r),Ls(n,t,r)))}function Ms(e,t,n){Ns(e,t,n,mu())}function Ns(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Is(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Er(s,o))return ii(e,t,i,0),zl===null&&ri(),!1}catch{}if(n=ai(e,t,i,r),n!==null)return gu(n,e,r),Ls(n,t,r),!0}return!1}function Ps(e,t,n,r){if(r={lane:2,revertLane:fd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fs(e)){if(t)throw Error(i(479))}else t=ai(e,n,r,2),t!==null&&gu(t,e,2)}function Fs(e){var t=e.alternate;return e===V||t!==null&&t===V}function Is(e,t){go=ho=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ls(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,at(e,n)}}var Rs={readContext:ra,use:Fo,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useLayoutEffect:So,useInsertionEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useSyncExternalStore:So,useId:So,useHostTransitionStatus:So,useFormState:So,useActionState:So,useOptimistic:So,useMemoCache:So,useCacheRefresh:So};Rs.useEffectEvent=So;var zs={readContext:ra,use:Fo,useCallback:function(e,t){return jo().memoizedState=[e,t===void 0?null:t],e},useContext:ra,useEffect:ls,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),cs(4194308,4,hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){cs(4,2,e,t)},useMemo:function(e,t){var n=jo();t=t===void 0?null:t;var r=e();if(_o){He(!0);try{e()}finally{He(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=jo();if(n!==void 0){var i=n(t);if(_o){He(!0);try{n(t)}finally{He(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,V,e),[r.memoizedState,e]},useRef:function(e){var t=jo();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,n=Ms.bind(null,V,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_s,useDeferredValue:function(e,t){return bs(jo(),e,t)},useTransition:function(){var e=Ko(!1);return e=Ss.bind(null,V,e.queue,!0,!1),jo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=V,a=jo();if(I){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),zl===null)throw Error(i(349));J&127||H(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ls(Uo.bind(null,r,o,e),[e]),r.flags|=2048,os(9,{destroy:void 0},Ho.bind(null,r,o,n,t),null),n},useId:function(){var e=jo(),t=zl.identifierPrefix;if(I){var n=Ai,r=ki;n=(r&~(1<<32-Ue(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=vo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=xo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:ts,useActionState:ts,useOptimistic:function(e){var t=jo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ps.bind(null,V,!0,n),n.dispatch=t,[e,t]},useMemoCache:Io,useCacheRefresh:function(){return jo().memoizedState=As.bind(null,V)},useEffectEvent:function(e){var t=jo(),n={impl:e};return t.memoizedState=n,function(){if(K&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Bs={readContext:ra,use:Fo,useCallback:vs,useContext:ra,useEffect:us,useImperativeHandle:gs,useInsertionEffect:ps,useLayoutEffect:ms,useMemo:ys,useReducer:Ro,useRef:ss,useState:function(){return Ro(Lo)},useDebugValue:_s,useDeferredValue:function(e,t){return xs(Mo(),po.memoizedState,e,t)},useTransition:function(){var e=Ro(Lo)[0],t=Mo().memoizedState;return[typeof e==`boolean`?e:Po(e),t]},useSyncExternalStore:Vo,useId:Os,useHostTransitionStatus:Ds,useFormState:ns,useActionState:ns,useOptimistic:function(e,t){return qo(Mo(),po,e,t)},useMemoCache:Io,useCacheRefresh:ks};Bs.useEffectEvent=fs;var Vs={readContext:ra,use:Fo,useCallback:vs,useContext:ra,useEffect:us,useImperativeHandle:gs,useInsertionEffect:ps,useLayoutEffect:ms,useMemo:ys,useReducer:Bo,useRef:ss,useState:function(){return Bo(Lo)},useDebugValue:_s,useDeferredValue:function(e,t){var n=Mo();return po===null?bs(n,e,t):xs(n,po.memoizedState,e,t)},useTransition:function(){var e=Bo(Lo)[0],t=Mo().memoizedState;return[typeof e==`boolean`?e:Po(e),t]},useSyncExternalStore:Vo,useId:Os,useHostTransitionStatus:Ds,useFormState:as,useActionState:as,useOptimistic:function(e,t){var n=Mo();return po===null?(n.baseState=e,[e,n.queue.dispatch]):qo(n,po,e,t)},useMemoCache:Io,useCacheRefresh:ks};Vs.useEffectEvent=fs;function Hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mu(),i=z(r);i.payload=t,n!=null&&(i.callback=n),t=B(e,i,r),t!==null&&(gu(t,e,r),Wa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mu(),i=z(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=B(e,i,r),t!==null&&(gu(t,e,r),Wa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mu(),r=z(n);r.tag=2,t!=null&&(r.callback=t),t=B(e,r,n),t!==null&&(gu(t,e,n),Wa(t,e,n))}};function Ws(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Dr(n,r)||!Dr(i,a):!0}function Gs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ks(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function qs(e){$r(e)}function Js(e){console.error(e)}function Ys(e){$r(e)}function Xs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Zs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Qs(e,t,n){return n=z(n),n.tag=3,n.payload={element:null},n.callback=function(){Xs(e,t)},n}function $s(e){return e=z(e),e.tag=3,e}function ec(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Zs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Zs(t,n,r),typeof i!=`function`&&(iu===null?iu=new Set([this]):iu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function tc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&ea(t,n,a,!0),n=no.current,n!==null){switch(n.tag){case 31:case 13:return ro===null?Ou():n.alternate===null&&Y===0&&(Y=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Da?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ku(e,r,a)),!1;case 22:return n.flags|=65536,r===Da?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ku(e,r,a)),!1}throw Error(i(435,n.tag))}return Ku(e,r,a),Ou(),!1}if(I)return t=no.current,t===null?(r!==Bi&&(t=Error(i(423),{cause:r}),Ki(xi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=xi(r,n),a=Qs(e.stateNode,r,a),Ga(e,a),Y!==4&&(Y=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Bi&&(e=Error(i(422),{cause:r}),Ki(xi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=xi(o,n),Zl===null?Zl=[o]:Zl.push(o),Y!==4&&(Y=2),t===null)return!0;r=xi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Qs(n.stateNode,r,e),Ga(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(iu===null||!iu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=$s(a),ec(a,e,n,r),Ga(n,a),!1}n=n.return}while(n!==null);return!1}var nc=Error(i(461)),rc=!1;function ic(e,t,n,r){t.child=e===null?Ba(t,null,n,r):za(t,e.child,n,r)}function ac(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return na(t),r=wo(e,t,n,o,a,i),s=Oo(),e!==null&&!rc?(ko(e,t,i),Oc(e,t,i)):(I&&s&&Ni(t),t.flags|=1,ic(e,t,r,i),t.child)}function oc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!fi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,sc(e,t,a,r,i)):(e=hi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!kc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Dr:n,n(o,r)&&e.ref===t.ref)return Oc(e,t,i)}return t.flags|=1,e=pi(a,r),e.ref=t.ref,e.return=t,t.child=e}function sc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Dr(a,r)&&e.ref===t.ref)if(rc=!1,t.pendingProps=r=a,kc(e,i))e.flags&131072&&(rc=!0);else return t.lanes=e.lanes,Oc(e,t,i)}return hc(e,t,n,r,i)}function cc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return uc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sa(t,a===null?null:a.cachePool),a===null?eo():$a(t,a),oo(t);else return r=t.lanes=536870912,uc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Sa(t,null),eo(),so(t)):(Sa(t,a.cachePool),$a(t,a),so(t),t.memoizedState=null);return ic(e,t,i,n),t.child}function lc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uc(e,t,n,r,i){var a=xa();return a=a===null?null:{parent:la._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Sa(t,null),eo(),oo(t),e!==null&&ea(e,t,r,!0),t.childLanes=i,null}function dc(e,t){return t=Cc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fc(e,t,n){return za(t,e.child,null,n),e=dc(t,t.pendingProps),e.flags|=2,co(t),t.memoizedState=null,e}function pc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(I){if(r.mode===`hidden`)return e=dc(t,r),t.lanes=536870912,lc(null,e);if(ao(t),(e=Li)?(e=of(e,zi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi===null?null:{id:ki,overflow:Ai},retryLane:536870912,hydrationErrors:null},n=vi(e),n.return=t,t.child=n,Ii=t,Li=null)):e=null,e===null)throw Vi(t);return t.lanes=536870912,null}return dc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(ao(t),a)if(t.flags&256)t.flags&=-257,t=fc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(rc||ea(e,t,n,!1),a=(n&e.childLanes)!==0,rc||a){if(r=zl,r!==null&&(s=ot(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,oi(e,s),gu(r,e,s),nc;Ou(),t=fc(e,t,n)}else e=o.treeContext,Li=Q(s.nextSibling),Ii=t,I=!0,Ri=null,zi=!1,e!==null&&Fi(t,e),t=dc(t,r),t.flags|=4096;return t}return e=pi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hc(e,t,n,r,i){return na(t),n=wo(e,t,n,r,void 0,i),r=Oo(),e!==null&&!rc?(ko(e,t,i),Oc(e,t,i)):(I&&r&&Ni(t),t.flags|=1,ic(e,t,n,i),t.child)}function W(e,t,n,r,i,a){return na(t),t.updateQueue=null,n=Eo(t,r,n,i),To(e),r=Oo(),e!==null&&!rc?(ko(e,t,a),Oc(e,t,a)):(I&&r&&Ni(t),t.flags|=1,ic(e,t,n,a),t.child)}function gc(e,t,n,r,i){if(na(t),t.stateNode===null){var a=li,o=n.contextType;typeof o==`object`&&o&&(a=ra(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Us,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ha(t),o=n.contextType,a.context=typeof o==`object`&&o?ra(o):li,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Hs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Us.enqueueReplaceState(a,a.state,null),Ja(t,r,a,i),qa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ks(n,s);a.props=c;var l=a.context,u=n.contextType;o=li,typeof u==`object`&&u&&(o=ra(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Gs(t,a,r,o),Va=!1;var f=t.memoizedState;a.state=f,Ja(t,r,a,i),qa(),l=t.memoizedState,s||f!==l||Va?(typeof d==`function`&&(Hs(t,n,d,r),l=t.memoizedState),(c=Va||Ws(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ua(e,t),o=t.memoizedProps,u=Ks(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=li,typeof l==`object`&&l&&(c=ra(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Gs(t,a,r,c),Va=!1,f=t.memoizedState,a.state=f,Ja(t,r,a,i),qa();var p=t.memoizedState;o!==d||f!==p||Va||e!==null&&e.dependencies!==null&&ta(e.dependencies)?(typeof s==`function`&&(Hs(t,n,s,r),p=t.memoizedState),(u=Va||Ws(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ta(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,mc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=za(t,e.child,null,i),t.child=za(t,null,n,i)):ic(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Oc(e,t,i),e}function _c(e,t,n,r){return Wi(),t.flags|=256,ic(e,t,n,r),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:Ca()}}function bc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Yl),e}function xc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(lo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(I){if(a?io(t):so(t),(e=Li)?(e=of(e,zi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi===null?null:{id:ki,overflow:Ai},retryLane:536870912,hydrationErrors:null},n=vi(e),n.return=t,t.child=n,Ii=t,Li=null)):e=null,e===null)throw Vi(t);return cf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(so(t),a=t.mode,c=Cc({mode:`hidden`,children:c},a),r=gi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=yc(n),r.childLanes=bc(e,s,n),t.memoizedState=vc,lc(null,r)):(io(t),Sc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(io(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState===null?(so(t),c=r.fallback,a=t.mode,r=Cc({mode:`visible`,children:r.children},a),c=gi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,za(t,e.child,null,n),r=t.child,r.memoizedState=yc(n),r.childLanes=bc(e,s,n),t.memoizedState=vc,t=lc(null,r)):(so(t),t.child=e.child,t.flags|=128,t=null);else if(io(t),cf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ki({value:r,source:null,stack:null}),t=wc(e,t,n)}else if(rc||ea(e,t,n,!1),s=(n&e.childLanes)!==0,rc||s){if(s=zl,s!==null&&(r=ot(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,oi(e,r),gu(s,e,r),nc;sf(c)||Ou(),t=wc(e,t,n)}else sf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Li=Q(c.nextSibling),Ii=t,I=!0,Ri=null,zi=!1,e!==null&&Fi(t,e),t=Sc(t,r.children),t.flags|=4096);return t}return a?(so(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=pi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=gi(c,a,n,null),c.flags|=2):c=pi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,lc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=yc(n):(a=c.cachePool,a===null?a=Ca():(l=la._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=bc(e,s,n),t.memoizedState=vc,lc(e.child,r)):(io(t),n=e.child,e=n.sibling,n=pi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Sc(e,t){return t=Cc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Cc(e,t){return e=di(22,e,null,t),e.lanes=0,e}function wc(e,t,n){return za(t,e.child,null,n),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qi(e.return,t,n)}function Ec(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Dc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=lo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,M(lo,o),ic(e,t,r,n),r=I?Ti:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ec(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ec(t,!0,n,null,a,r);break;case`together`:Ec(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Oc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ea(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ta(e))):!0}function Ac(e,t,n){switch(t.tag){case 3:he(t,t.stateNode.containerInfo),Xi(t,la,e.memoizedState.cache),Wi();break;case 27:case 5:_e(t);break;case 4:he(t,t.stateNode.containerInfo);break;case 10:Xi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ao(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(io(t),e=Oc(e,t,n),e===null?null:e.sibling):xc(e,t,n):(io(t),t.flags|=128,null);io(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(ea(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Dc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),M(lo,lo.current),r)break;return null;case 22:return t.lanes=0,cc(e,t,n,t.pendingProps);case 24:Xi(t,la,e.memoizedState.cache)}return Oc(e,t,n)}function jc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rc=!0;else{if(!kc(e,n)&&!(t.flags&128))return rc=!1,Ac(e,t,n);rc=!!(e.flags&131072)}else rc=!1,I&&t.flags&1048576&&Mi(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=ka(t.elementType),t.type=e,typeof e==`function`)fi(e)?(r=Ks(e,r),t.tag=1,t=gc(null,t,e,r,n)):(t.tag=0,t=hc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=ac(null,t,e,r,n);break a}else if(a===ee){t.tag=14,t=oc(null,t,e,r,n);break a}}throw t=ae(e)||e,Error(i(306,t,``))}}return t;case 0:return hc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ks(r,t.pendingProps),gc(e,t,r,a,n);case 3:a:{if(he(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ua(e,t),Ja(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Xi(t,la,r),r!==o.cache&&$i(t,[la],n,!0),qa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=_c(e,t,r,n);break a}else if(r!==a){a=xi(Error(i(424)),t),Ki(a),t=_c(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Li=Q(e.firstChild),Ii=t,I=!0,Ri=null,zi=!0,n=Ba(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wi(),r===a){t=Oc(e,t,n);break a}ic(e,t,r,n)}t=t.child}return t;case 26:return mc(e,t),e===null?(n=Af(t.type,null,t.pendingProps,null))?t.memoizedState=n:I||(n=t.type,e=t.pendingProps,r=Hd(pe.current).createElement(n),r[ft]=t,r[pt]=e,Id(r,n,e),Tt(r),t.stateNode=r):t.memoizedState=Af(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&I&&(r=t.stateNode=pf(t.type,t.pendingProps,pe.current),Ii=t,zi=!0,a=Li,$d(t.type)?(uf=a,Li=Q(r.firstChild)):Li=a),ic(e,t,t.pendingProps.children,n),mc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&I&&((a=r=Li)&&(r=rf(r,t.type,t.pendingProps,zi),r===null?a=!1:(t.stateNode=r,Ii=t,Li=Q(r.firstChild),zi=!1,a=!0)),a||Vi(t)),_e(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Gd(a,o)?r=null:s!==null&&Gd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=wo(e,t,Do,null,null,n),$f._currentValue=a),mc(e,t),ic(e,t,r,n),t.child;case 6:return e===null&&I&&((e=n=Li)&&(n=af(n,t.pendingProps,zi),n===null?e=!1:(t.stateNode=n,Ii=t,Li=null,e=!0)),e||Vi(t)),null;case 13:return xc(e,t,n);case 4:return he(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=za(t,null,r,n):ic(e,t,r,n),t.child;case 11:return ac(e,t,t.type,t.pendingProps,n);case 7:return ic(e,t,t.pendingProps,n),t.child;case 8:return ic(e,t,t.pendingProps.children,n),t.child;case 12:return ic(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Xi(t,t.type,r.value),ic(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,na(t),a=ra(a),r=r(a),t.flags|=1,ic(e,t,r,n),t.child;case 14:return oc(e,t,t.type,t.pendingProps,n);case 15:return sc(e,t,t.type,t.pendingProps,n);case 19:return Dc(e,t,n);case 31:return pc(e,t,n);case 22:return cc(e,t,n,t.pendingProps);case 24:return na(t),r=ra(la),e===null?(a=xa(),a===null&&(a=zl,o=ua(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ha(t),Xi(t,la,a)):((e.lanes&n)!==0&&(Ua(e,t),Ja(t,null,null,n),qa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Xi(t,la,r),r!==a.cache&&$i(t,[la],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Xi(t,la,r))),ic(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Mc(e){e.flags|=4}function Nc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Tu())e.flags|=8192;else throw Aa=Da,Ta}else e.flags&=-16777217}function Pc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Gf(t))if(Tu())e.flags|=8192;else throw Aa=Da,Ta}function Fc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:et(),e.lanes|=t,Xl|=t)}function Ic(e,t){if(!I)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rc(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lc(t),null;case 1:return Lc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Zi(la),ge(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ui(t)?Mc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gi())),Lc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Mc(t),o===null?(Lc(t),Nc(t,a,null,r,n)):(Lc(t),Pc(t,o))):o?o===e.memoizedState?(Lc(t),t.flags&=-16777217):(Mc(t),Lc(t),Pc(t,o)):(e=e.memoizedProps,e!==r&&Mc(t),Lc(t),Nc(t,a,e,r,n)),null;case 27:if(ve(t),n=pe.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Lc(t),null}e=de.current,Ui(t)?Hi(t,e):(e=pf(a,r,n),t.stateNode=e,Mc(t))}return Lc(t),null;case 5:if(ve(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Lc(t),null}if(o=de.current,Ui(t))Hi(t,o);else{var s=Hd(pe.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[ft]=t,o[pt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Id(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Mc(t)}}return Lc(t),Nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=pe.current,Ui(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ii,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Nd(e.nodeValue,n)),e||Vi(t,!0)}else e=Hd(e).createTextNode(r),e[ft]=t,t.stateNode=e}return Lc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ui(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[ft]=t}else Wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lc(t),e=!1}else n=Gi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(co(t),t):(co(t),null);if(t.flags&128)throw Error(i(558))}return Lc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ui(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[ft]=t}else Wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lc(t),a=!1}else a=Gi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(co(t),t):(co(t),null)}return co(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fc(t,t.updateQueue),Lc(t),null);case 4:return ge(),e===null&&Cd(t.stateNode.containerInfo),Lc(t),null;case 10:return Zi(t.type),Lc(t),null;case 19:if(j(lo),r=t.memoizedState,r===null)return Lc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Ic(r,!1);else{if(Y!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uo(e),o!==null){for(t.flags|=128,Ic(r,!1),e=o.updateQueue,t.updateQueue=e,Fc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mi(n,e),n=n.sibling;return M(lo,lo.current&1|2),I&&ji(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&je()>nu&&(t.flags|=128,a=!0,Ic(r,!1),t.lanes=4194304)}else{if(!a)if(e=uo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fc(t,e),Ic(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!I)return Lc(t),null}else 2*je()-r.renderingStartTime>nu&&n!==536870912&&(t.flags|=128,a=!0,Ic(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Lc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=je(),e.sibling=null,n=lo.current,M(lo,a?n&1|2:n&1),I&&ji(t,r.treeForkCount),e);case 22:case 23:return co(t),to(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Lc(t),t.subtreeFlags&6&&(t.flags|=8192)):Lc(t),n=t.updateQueue,n!==null&&Fc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&j(ba),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Zi(la),Lc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function zc(e,t){switch(Pi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zi(la),ge(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ve(t),null;case 31:if(t.memoizedState!==null){if(co(t),t.alternate===null)throw Error(i(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(co(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return j(lo),null;case 4:return ge(),null;case 10:return Zi(t.type),null;case 22:case 23:return co(t),to(),e!==null&&j(ba),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Zi(la),null;case 25:return null;default:return null}}function Bc(e,t){switch(Pi(t),t.tag){case 3:Zi(la),ge();break;case 26:case 27:case 5:ve(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&co(t);break;case 13:co(t);break;case 19:j(lo);break;case 10:Zi(t.type);break;case 22:case 23:co(t),to(),e!==null&&j(ba);break;case 24:Zi(la)}}function Vc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){X(t,t.return,e)}}function Hc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){X(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){X(t,t.return,e)}}function Uc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xa(t,n)}catch(t){X(e,e.return,t)}}}function Wc(e,t,n){n.props=Ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){X(e,t,n)}}function Gc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){X(e,t,n)}}function Kc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){X(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){X(e,t,n)}else n.current=null}function qc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){X(e,e.return,t)}}function Jc(e,t,n){try{var r=e.stateNode;Ld(r,e.type,n,t),r[pt]=t}catch(t){X(e,e.return,t)}}function Yc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$d(e.type)||e.tag===4}function Xc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Yc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$d(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,n),e=e.sibling;e!==null;)Zc(e,t,n),e=e.sibling}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Id(t,r,n),t[ft]=e,t[pt]=n}catch(t){X(e,e.return,t)}}var el=!1,G=!1,tl=!1,nl=typeof WeakSet==`function`?WeakSet:Set,rl=null;function il(e,t){if(e=e.containerInfo,Bd=cp,e=jr(e),Mr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},cp=!1,rl=t;rl!==null;)if(t=rl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,rl=e;else for(;rl!==null;){switch(t=rl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ks(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){X(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:nf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,rl=e;break}rl=t.return}}function al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:bl(e,n),r&4&&Vc(5,n);break;case 1:if(bl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){X(n,n.return,e)}else{var i=Ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){X(n,n.return,e)}}r&64&&Uc(n),r&512&&Gc(n,n.return);break;case 3:if(bl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xa(e,t)}catch(e){X(n,n.return,e)}}break;case 27:t===null&&r&4&&$c(n);case 26:case 5:bl(e,n),t===null&&r&4&&qc(n),r&512&&Gc(n,n.return);break;case 12:bl(e,n);break;case 31:bl(e,n),r&4&&dl(e,n);break;case 13:bl(e,n),r&4&&fl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Yu.bind(null,n),lf(e,n))));break;case 22:if(r=n.memoizedState!==null||el,!r){t=t!==null&&t.memoizedState!==null||G,i=el;var a=G;el=r,(G=t)&&!a?Sl(e,n,(n.subtreeFlags&8772)!=0):bl(e,n),el=i,G=a}break;case 30:break;default:bl(e,n)}}function ol(e){var t=e.alternate;t!==null&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,cl=!1;function ll(e,t,n){for(n=n.child;n!==null;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(Ve&&typeof Ve.onCommitFiberUnmount==`function`)try{Ve.onCommitFiberUnmount(Be,n)}catch{}switch(n.tag){case 26:G||Kc(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:G||Kc(n,t);var r=sl,i=cl;$d(n.type)&&(sl=n.stateNode,cl=!1),ll(e,t,n),mf(n.stateNode),sl=r,cl=i;break;case 5:G||Kc(n,t);case 6:if(r=sl,i=cl,sl=null,ll(e,t,n),sl=r,cl=i,sl!==null)if(cl)try{(sl.nodeType===9?sl.body:sl.nodeName===`HTML`?sl.ownerDocument.body:sl).removeChild(n.stateNode)}catch(e){X(n,t,e)}else try{sl.removeChild(n.stateNode)}catch(e){X(n,t,e)}break;case 18:sl!==null&&(cl?(e=sl,ef(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Pp(e)):ef(sl,n.stateNode));break;case 4:r=sl,i=cl,sl=n.stateNode.containerInfo,cl=!0,ll(e,t,n),sl=r,cl=i;break;case 0:case 11:case 14:case 15:Hc(2,n,t),G||Hc(4,n,t),ll(e,t,n);break;case 1:G||(Kc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Wc(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:G=(r=G)||n.memoizedState!==null,ll(e,t,n),G=r;break;default:ll(e,t,n)}}function dl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pp(e)}catch(e){X(t,t.return,e)}}}function fl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pp(e)}catch(e){X(t,t.return,e)}}function pl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nl),t;default:throw Error(i(435,e.tag))}}function ml(e,t){var n=pl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Xu.bind(null,e,t);t.then(r,r)}})}function hl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if($d(c.type)){sl=c.stateNode,cl=!1;break a}break;case 5:sl=c.stateNode,cl=!1;break a;case 3:case 4:sl=c.stateNode.containerInfo,cl=!0;break a}c=c.return}if(sl===null)throw Error(i(160));ul(o,s,a),sl=null,cl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_l(t,e),t=t.sibling}var gl=null;function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),vl(e),r&4&&(Hc(3,e,e.return),Vc(3,e),Hc(5,e,e.return));break;case 1:hl(t,e),vl(e),r&512&&(G||n===null||Kc(n,n.return)),r&64&&el&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=gl;if(hl(t,e),vl(e),r&512&&(G||n===null||Kc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[yt]||o[ft]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Id(o,r,n),o[ft]=e,Tt(o),r=o;break a;case`link`:var s=Hf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Hf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[ft]=e,Tt(o),r=o}e.stateNode=r}else Uf(a,e.type,e.stateNode);else e.stateNode=Lf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Jc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Uf(a,e.type,e.stateNode):Lf(a,r,e.memoizedProps))}break;case 27:hl(t,e),vl(e),r&512&&(G||n===null||Kc(n,n.return)),n!==null&&r&4&&Jc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(hl(t,e),vl(e),r&512&&(G||n===null||Kc(n,n.return)),e.flags&32){a=e.stateNode;try{Zt(a,``)}catch(t){X(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Jc(e,a,n===null?a:n.memoizedProps)),r&1024&&(tl=!0);break;case 6:if(hl(t,e),vl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){X(e,e.return,t)}}break;case 3:if(Vf=null,a=gl,gl=_f(t.containerInfo),hl(t,e),gl=a,vl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pp(t.containerInfo)}catch(t){X(e,e.return,t)}tl&&(tl=!1,yl(e));break;case 4:r=gl,gl=_f(e.stateNode.containerInfo),hl(t,e),vl(e),gl=r;break;case 12:hl(t,e),vl(e);break;case 31:hl(t,e),vl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ml(e,r)));break;case 13:hl(t,e),vl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(eu=je()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ml(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=el,d=G;if(el=u||a,G=d||l,hl(t,e),G=d,el=u,vl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||el||G||xl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){X(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){X(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?tf(m,!0):tf(l.stateNode,!1)}catch(e){X(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ml(e,n))));break;case 19:hl(t,e),vl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ml(e,r)));break;case 30:break;case 21:break;default:hl(t,e),vl(e)}}function vl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Yc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Qc(e,Xc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Zt(o,``),n.flags&=-33),Qc(e,Xc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Zc(e,Xc(e),s);break;default:throw Error(i(161))}}catch(t){X(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)al(e,t.alternate,t),t=t.sibling}function xl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hc(4,t,t.return),xl(t);break;case 1:Kc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Wc(t,t.return,n),xl(t);break;case 27:mf(t.stateNode);case 26:case 5:Kc(t,t.return),xl(t);break;case 22:t.memoizedState===null&&xl(t);break;case 30:xl(t);break;default:xl(t)}e=e.sibling}}function Sl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Sl(i,a,n),Vc(4,a);break;case 1:if(Sl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){X(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ya(c[i],s)}catch(e){X(r,r.return,e)}}n&&o&64&&Uc(a),Gc(a,a.return);break;case 27:$c(a);case 26:case 5:Sl(i,a,n),n&&r===null&&o&4&&qc(a),Gc(a,a.return);break;case 12:Sl(i,a,n);break;case 31:Sl(i,a,n),n&&o&4&&dl(i,a);break;case 13:Sl(i,a,n),n&&o&4&&fl(i,a);break;case 22:a.memoizedState===null&&Sl(i,a,n),Gc(a,a.return);break;case 30:break;default:Sl(i,a,n)}t=t.sibling}}function Cl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&da(n))}function wl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&da(e))}function Tl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)El(e,t,n,r),t=t.sibling}function El(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Tl(e,t,n,r),i&2048&&Vc(9,t);break;case 1:Tl(e,t,n,r);break;case 3:Tl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&da(e)));break;case 12:if(i&2048){Tl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){X(t,t.return,e)}}else Tl(e,t,n,r);break;case 31:Tl(e,t,n,r);break;case 13:Tl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Tl(e,t,n,r):(a._visibility|=2,Dl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Tl(e,t,n,r):Ol(e,t),i&2048&&Cl(o,t);break;case 24:Tl(e,t,n,r),i&2048&&wl(t.alternate,t);break;default:Tl(e,t,n,r)}}function Dl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Dl(a,o,s,c,i),Vc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Dl(a,o,s,c,i)):u._visibility&2?Dl(a,o,s,c,i):Ol(a,o),i&&l&2048&&Cl(o.alternate,o);break;case 24:Dl(a,o,s,c,i),i&&l&2048&&wl(o.alternate,o);break;default:Dl(a,o,s,c,i)}t=t.sibling}}function Ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ol(n,r),i&2048&&Cl(r.alternate,r);break;case 24:Ol(n,r),i&2048&&wl(r.alternate,r);break;default:Ol(n,r)}t=t.sibling}}var kl=8192;function Al(e,t,n){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)jl(e,t,n),e=e.sibling}function jl(e,t,n){switch(e.tag){case 26:Al(e,t,n),e.flags&kl&&e.memoizedState!==null&&Kf(n,gl,e.memoizedState,e.memoizedProps);break;case 5:Al(e,t,n);break;case 3:case 4:var r=gl;gl=_f(e.stateNode.containerInfo),Al(e,t,n),gl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=kl,kl=16777216,Al(e,t,n),kl=r):Al(e,t,n));break;default:Al(e,t,n)}}function Ml(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Il(r,e)}Ml(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&Hc(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fl(e)):Nl(e);break;default:Nl(e)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Il(r,e)}Ml(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hc(8,t,t.return),Fl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fl(t));break;default:Fl(t)}e=e.sibling}}function Il(e,t){for(;rl!==null;){var n=rl;switch(n.tag){case 0:case 11:case 15:Hc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:da(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,rl=r;else a:for(n=e;rl!==null;){r=rl;var i=r.sibling,a=r.return;if(ol(r),r===n){rl=null;break a}if(i!==null){i.return=a,rl=i;break a}rl=a}}}var Ll={getCacheForType:function(e){var t=ra(la),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ra(la).controller.signal}},Rl=typeof WeakMap==`function`?WeakMap:Map,K=0,zl=null,q=null,J=0,Bl=0,Vl=null,Hl=!1,Ul=!1,Wl=!1,Gl=0,Y=0,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,Zl=null,Ql=null,$l=!1,eu=0,tu=0,nu=1/0,ru=null,iu=null,au=0,ou=null,su=null,cu=0,lu=0,uu=null,du=null,fu=0,pu=null;function mu(){return K&2&&J!==0?J&-J:k.T===null?lt():fd()}function hu(){if(Yl===0)if(!(J&536870912)||I){var e=Je;Je<<=1,!(Je&3932160)&&(Je=262144),Yl=e}else Yl=536870912;return e=no.current,e!==null&&(e.flags|=32),Yl}function gu(e,t,n){(e===zl&&(Bl===2||Bl===9)||e.cancelPendingCommit!==null)&&(Cu(e,0),bu(e,J,Yl,!1)),nt(e,n),(!(K&2)||e!==zl)&&(e===zl&&(!(K&2)&&(ql|=n),Y===4&&bu(e,J,Yl,!1)),id(e))}function _u(e,t,n){if(K&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Qe(e,t),a=r?ju(e,t):ku(e,t,!0),o=r;do{if(a===0){Ul&&!r&&bu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!yu(n)){a=ku(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Zl;var l=c.current.memoizedState.isDehydrated;if(l&&(Cu(c,s).flags|=256),s=ku(c,s,!1),s!==2){if(Wl&&!l){c.errorRecoveryDisabledLanes|=o,ql|=o,a=4;break a}o=Ql,Ql=a,o!==null&&(Ql===null?Ql=o:Ql.push.apply(Ql,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Cu(e,0),bu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:bu(r,t,Yl,!Hl);break a;case 2:Ql=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=eu+300-je(),10<a)){if(bu(r,t,Yl,!Hl),Ze(r,0,!0)!==0)break a;cu=t,r.timeoutHandle=Jd(vu.bind(null,r,n,Ql,ru,$l,t,Yl,ql,Xl,Hl,o,`Throttled`,-0,0),a);break a}vu(r,n,Ql,ru,$l,t,Yl,ql,Xl,Hl,o,null,-0,0)}}break}while(1);id(e)}function vu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},jl(t,a,d);var m=(a&62914560)===a?eu-je():(a&4194048)===a?tu-je():0;if(m=Jf(d,m),m!==null){cu=a,e.cancelPendingCommit=m(Ru.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),bu(e,a,o,!l);return}}Ru(e,t,a,n,r,i,o,s,c)}function yu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Er(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bu(e,t,n,r){t&=~Jl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ue(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&it(e,n,t)}function xu(){return K&6?!0:(ad(0,!1),!1)}function Su(){if(q!==null){if(Bl===0)var e=q.return;else e=q,Yi=Ji=null,Ao(e),Na=null,Pa=0,e=q;for(;e!==null;)Bc(e.alternate,e),e=e.return;q=null}}function Cu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cu=0,Su(),zl=e,q=n=pi(e.current,null),J=t,Bl=0,Vl=null,Hl=!1,Ul=Qe(e,t),Wl=!1,Xl=Yl=Jl=ql=Kl=Y=0,Ql=Zl=null,$l=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ue(r),a=1<<i;t|=e[i],r&=~a}return Gl=t,ri(),n}function wu(e,t){V=null,k.H=Rs,t===wa||t===Ea?(t=ja(),Bl=3):t===Ta?(t=ja(),Bl=4):Bl=t===nc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Vl=t,q===null&&(Y=1,Xs(e,xi(t,e.current)))}function Tu(){var e=no.current;return e===null?!0:(J&4194048)===J?ro===null:(J&62914560)===J||J&536870912?e===ro:!1}function Eu(){var e=k.H;return k.H=Rs,e===null?Rs:e}function Du(){var e=k.A;return k.A=Ll,e}function Ou(){Y=4,Hl||(J&4194048)!==J&&no.current!==null||(Ul=!0),!(Kl&134217727)&&!(ql&134217727)||zl===null||bu(zl,J,Yl,!1)}function ku(e,t,n){var r=K;K|=2;var i=Eu(),a=Du();(zl!==e||J!==t)&&(ru=null,Cu(e,t)),t=!1;var o=Y;a:do try{if(Bl!==0&&q!==null){var s=q,c=Vl;switch(Bl){case 8:Su(),o=6;break a;case 3:case 2:case 9:case 6:no.current===null&&(t=!0);var l=Bl;if(Bl=0,Vl=null,Fu(e,s,c,l),n&&Ul){o=0;break a}break;default:l=Bl,Bl=0,Vl=null,Fu(e,s,c,l)}}Au(),o=Y;break}catch(t){wu(e,t)}while(1);return t&&e.shellSuspendCounter++,Yi=Ji=null,K=r,k.H=i,k.A=a,q===null&&(zl=null,J=0,ri()),o}function Au(){for(;q!==null;)Nu(q)}function ju(e,t){var n=K;K|=2;var r=Eu(),a=Du();zl!==e||J!==t?(ru=null,nu=je()+500,Cu(e,t)):Ul=Qe(e,t);a:do try{if(Bl!==0&&q!==null){t=q;var o=Vl;b:switch(Bl){case 1:Bl=0,Vl=null,Fu(e,t,o,1);break;case 2:case 9:if(R(o)){Bl=0,Vl=null,Pu(t);break}t=function(){Bl!==2&&Bl!==9||zl!==e||(Bl=7),id(e)},o.then(t,t);break a;case 3:Bl=7;break a;case 4:Bl=5;break a;case 7:R(o)?(Bl=0,Vl=null,Pu(t)):(Bl=0,Vl=null,Fu(e,t,o,7));break;case 5:var s=null;switch(q.tag){case 26:s=q.memoizedState;case 5:case 27:var c=q;if(s?Gf(s):c.stateNode.complete){Bl=0,Vl=null;var l=c.sibling;if(l!==null)q=l;else{var u=c.return;u===null?q=null:(q=u,Iu(u))}break b}}Bl=0,Vl=null,Fu(e,t,o,5);break;case 6:Bl=0,Vl=null,Fu(e,t,o,6);break;case 8:Su(),Y=6;break a;default:throw Error(i(462))}}Mu();break}catch(t){wu(e,t)}while(1);return Yi=Ji=null,k.H=r,k.A=a,K=n,q===null?(zl=null,J=0,ri(),Y):0}function Mu(){for(;q!==null&&!ke();)Nu(q)}function Nu(e){var t=jc(e.alternate,e,Gl);e.memoizedProps=e.pendingProps,t===null?Iu(e):q=t}function Pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=W(n,t,t.pendingProps,t.type,void 0,J);break;case 11:t=W(n,t,t.pendingProps,t.type.render,t.ref,J);break;case 5:Ao(t);default:Bc(n,t),t=q=mi(t,Gl),t=jc(n,t,Gl)}e.memoizedProps=e.pendingProps,t===null?Iu(e):q=t}function Fu(e,t,n,r){Yi=Ji=null,Ao(t),Na=null,Pa=0;var i=t.return;try{if(tc(e,i,t,n,J)){Y=1,Xs(e,xi(n,e.current)),q=null;return}}catch(t){if(i!==null)throw q=i,t;Y=1,Xs(e,xi(n,e.current)),q=null;return}t.flags&32768?(I||r===1?e=!0:Ul||J&536870912?e=!1:(Hl=e=!0,(r===2||r===9||r===3||r===6)&&(r=no.current,r!==null&&r.tag===13&&(r.flags|=16384))),Lu(t,e)):Iu(t)}function Iu(e){var t=e;do{if(t.flags&32768){Lu(t,Hl);return}e=t.return;var n=Rc(t.alternate,t,Gl);if(n!==null){q=n;return}if(t=t.sibling,t!==null){q=t;return}q=t=e}while(t!==null);Y===0&&(Y=5)}function Lu(e,t){do{var n=zc(e.alternate,e);if(n!==null){n.flags&=32767,q=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){q=e;return}q=e=n}while(e!==null);Y=6,q=null}function Ru(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Uu();while(au!==0);if(K&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ni,rt(e,n,o,s,c,l),e===zl&&(q=zl=null,J=0),su=t,ou=e,cu=n,lu=o,uu=a,du=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Zu(Fe,function(){return Wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=k.T,k.T=null,a=A.p,A.p=2,s=K,K|=4;try{il(e,t,n)}finally{K=s,A.p=a,k.T=r}}au=1,zu(),Bu(),Vu()}}function zu(){if(au===1){au=0;var e=ou,t=su,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=k.T,k.T=null;var r=A.p;A.p=2;var i=K;K|=4;try{_l(t,e);var a=Vd,o=jr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ar(s.ownerDocument.documentElement,s)){if(c!==null&&Mr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=kr(s,h),v=kr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}cp=!!Bd,Vd=Bd=null}finally{K=i,A.p=r,k.T=n}}e.current=t,au=2}}function Bu(){if(au===2){au=0;var e=ou,t=su,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=k.T,k.T=null;var r=A.p;A.p=2;var i=K;K|=4;try{al(e,t.alternate,t)}finally{K=i,A.p=r,k.T=n}}au=3}}function Vu(){if(au===4||au===3){au=0,Ae();var e=ou,t=su,n=cu,r=du;t.subtreeFlags&10256||t.flags&10256?au=5:(au=0,su=ou=null,Hu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(iu=null),ct(n),t=t.stateNode,Ve&&typeof Ve.onCommitFiberRoot==`function`)try{Ve.onCommitFiberRoot(Be,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=k.T,i=A.p,A.p=2,k.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{k.T=t,A.p=i}}cu&3&&Uu(),id(e),i=e.pendingLanes,n&261930&&i&42?e===pu?fu++:(fu=0,pu=e):fu=0,ad(0,!1)}}function Hu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,da(t)))}function Uu(){return zu(),Bu(),Vu(),Wu()}function Wu(){if(au!==5)return!1;var e=ou,t=lu;lu=0;var n=ct(cu),r=k.T,a=A.p;try{A.p=32>n?32:n,k.T=null,n=uu,uu=null;var o=ou,s=cu;if(au=0,su=ou=null,cu=0,K&6)throw Error(i(331));var c=K;if(K|=4,Pl(o.current),El(o,o.current,s,n),K=c,ad(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot==`function`)try{Ve.onPostCommitFiberRoot(Be,o)}catch{}return!0}finally{A.p=a,k.T=r,Hu(e,t)}}function Gu(e,t,n){t=xi(n,t),t=Qs(e.stateNode,t,2),e=B(e,t,2),e!==null&&(nt(e,2),id(e))}function X(e,t,n){if(e.tag===3)Gu(e,e,n);else for(;t!==null;){if(t.tag===3){Gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(iu===null||!iu.has(r))){e=xi(n,e),n=$s(2),r=B(t,n,2),r!==null&&(ec(n,r,t,e),nt(r,2),id(r));break}}t=t.return}}function Ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Wl=!0,i.add(n),e=qu.bind(null,e,t,n),t.then(e,e))}function qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,zl===e&&(J&n)===n&&(Y===4||Y===3&&(J&62914560)===J&&300>je()-eu?!(K&2)&&Cu(e,0):Jl|=n,Xl===J&&(Xl=0)),id(e)}function Ju(e,t){t===0&&(t=et()),e=oi(e,t),e!==null&&(nt(e,t),id(e))}function Yu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ju(e,n)}function Xu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ju(e,n)}function Zu(e,t){return De(e,t)}var Qu=null,$u=null,ed=!1,td=!1,nd=!1,rd=0;function id(e){e!==$u&&e.next===null&&($u===null?Qu=$u=e:$u=$u.next=e),td=!0,ed||(ed=!0,dd())}function ad(e,t){if(!nd&&td){nd=!0;do for(var n=!1,r=Qu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ue(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ud(r,a))}else a=J,a=Ze(r,r===zl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Qe(r,a)||(n=!0,ud(r,a));r=r.next}while(n);nd=!1}}function od(){sd()}function sd(){td=ed=!1;var e=0;rd!==0&&qd()&&(e=rd);for(var t=je(),n=null,r=Qu;r!==null;){var i=r.next,a=cd(r,t);a===0?(r.next=null,n===null?Qu=i:n.next=i,i===null&&($u=n)):(n=r,(e!==0||a&3)&&(td=!0)),r=i}au!==0&&au!==5||ad(e,!1),rd!==0&&(rd=0)}function cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ue(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=$e(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=zl,n=J,n=Ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Bl===2||Bl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Qe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Oe(r),ct(n)){case 2:case 8:n=Pe;break;case 32:n=Fe;break;case 268435456:n=Le;break;default:n=Fe}return r=ld.bind(null,e),n=De(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Oe(r),e.callbackPriority=2,e.callbackNode=null,2}function ld(e,t){if(au!==0&&au!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Uu()&&e.callbackNode!==n)return null;var r=J;return r=Ze(e,e===zl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(_u(e,r,t),cd(e,je()),e.callbackNode!=null&&e.callbackNode===n?ld.bind(null,e):null)}function ud(e,t){if(Uu())return null;_u(e,t,!0)}function dd(){Zd(function(){K&6?De(Ne,od):sd()})}function fd(){if(rd===0){var e=ma;e===0&&(e=qe,qe<<=1,!(qe&261888)&&(qe=256)),rd=e}return rd}function pd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:an(``+e)}function md(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=pd((i[pt]||null).action),o=r.submitter;o&&(t=(t=o[pt]||null)?pd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Dn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(rd!==0){var e=o?md(i,o):new FormData(i);ws(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?md(i,o):new FormData(i),ws(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var gd=0;gd<Zr.length;gd++){var _d=Zr[gd];Qr(_d.toLowerCase(),`on`+(_d[0].toUpperCase()+_d.slice(1)))}Qr(Ur,`onAnimationEnd`),Qr(Wr,`onAnimationIteration`),Qr(Gr,`onAnimationStart`),Qr(`dblclick`,`onDoubleClick`),Qr(`focusin`,`onFocus`),Qr(`focusout`,`onBlur`),Qr(Kr,`onTransitionRun`),Qr(qr,`onTransitionStart`),Qr(Jr,`onTransitionCancel`),Qr(Yr,`onTransitionEnd`),kt(`onMouseEnter`,[`mouseout`,`mouseover`]),kt(`onMouseLeave`,[`mouseout`,`mouseover`]),kt(`onPointerEnter`,[`pointerout`,`pointerover`]),kt(`onPointerLeave`,[`pointerout`,`pointerover`]),Ot(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Ot(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Ot(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Ot(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var vd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),yd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(vd));function bd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$r(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$r(e)}i.currentTarget=null,a=c}}}}function Z(e,t){var n=t[ht];n===void 0&&(n=t[ht]=new Set);var r=e+`__bubble`;n.has(r)||(wd(t,e,2,!1),n.add(r))}function xd(e,t,n){var r=0;t&&(r|=4),wd(n,e,r,t)}var Sd=`_reactListening`+Math.random().toString(36).slice(2);function Cd(e){if(!e[Sd]){e[Sd]=!0,Et.forEach(function(t){t!==`selectionchange`&&(yd.has(t)||xd(t,!1,e),xd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sd]||(t[Sd]=!0,xd(`selectionchange`,!1,t))}}function wd(e,t,n,r){switch(hp(t)){case 2:var i=lp;break;case 8:i=up;break;default:i=dp}n=i.bind(null,t,n,e),i=void 0,!gn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Td(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=xt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}pn(function(){var r=a,i=cn(n),s=[];a:{var c=Xr.get(e);if(c!==void 0){var l=Dn,u=e;switch(e){case`keypress`:if(Sn(n)===0)break a;case`keydown`:case`keyup`:l=Wn;break;case`focusin`:u=`focus`,l=In;break;case`focusout`:u=`blur`,l=In;break;case`beforeblur`:case`afterblur`:l=In;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Pn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Fn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=P;break;case Ur:case Wr:case Gr:l=Ln;break;case Yr:l=Kn;break;case`scroll`:case`scrollend`:l=kn;break;case`wheel`:l=qn;break;case`copy`:case`cut`:case`paste`:l=Rn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Gn;break;case`toggle`:case`beforetoggle`:l=Jn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=mn(m,p),g!=null&&d.push(Ed(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==sn&&(u=n.relatedTarget||n.fromElement)&&(xt(u)||u[mt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?xt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Pn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Gn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ct(l),h=u==null?c:Ct(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,xt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Od,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&kd(s,c,l,d,!1),u!==null&&f!==null&&kd(s,f,u,d,!0)}}a:{if(c=r?Ct(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=mr;else if(cr(c))if(hr)v=wr;else{v=Sr;var y=xr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&tn(r.elementType)&&(v=mr):v=Cr;if(v&&=v(e,r)){lr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&qt(c,`number`,c.value)}switch(y=r?Ct(r):window,e){case`focusin`:(cr(y)||y.contentEditable===`true`)&&(Pr=y,Fr=r,Ir=null);break;case`focusout`:Ir=Fr=Pr=null;break;case`mousedown`:Lr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Lr=!1,Rr(s,n,i);break;case`selectionchange`:if(Nr)break;case`keydown`:case`keyup`:Rr(s,n,i)}var b;if(Xn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else ir?nr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&($n&&n.locale!==`ko`&&(ir||x!==`onCompositionStart`?x===`onCompositionEnd`&&ir&&(b=xn()):(vn=i,yn=`value`in vn?vn.value:vn.textContent,ir=!0)),y=Dd(r,x),0<y.length&&(x=new zn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=rr(n),b!==null&&(x.data=b)))),(b=Qn?ar(e,n):or(e,n))&&(x=Dd(r,`onBeforeInput`),0<x.length&&(y=new zn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),hd(s,e,r,n,i)}bd(s,t)})}function Ed(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=mn(e,n),i!=null&&r.unshift(Ed(e,i,a)),i=mn(e,t),i!=null&&r.push(Ed(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Od(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=mn(n,a),l!=null&&o.unshift(Ed(n,l,c))):i||(l=mn(n,a),l!=null&&o.push(Ed(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ad=/\r\n?/g,jd=/\u0000|\uFFFD/g;function Md(e){return(typeof e==`string`?e:``+e).replace(Ad,`
`).replace(jd,``)}function Nd(e,t){return t=Md(t),Md(e)===t}function Pd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Zt(e,``+r);break;case`className`:Ft(e,`class`,r);break;case`tabIndex`:Ft(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ft(e,n,r);break;case`style`:en(e,r,o);break;case`data`:if(t!==`object`){Ft(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=an(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Pd(e,t,`name`,a.name,a,null),Pd(e,t,`formEncType`,a.formEncType,a,null),Pd(e,t,`formMethod`,a.formMethod,a,null),Pd(e,t,`formTarget`,a.formTarget,a,null)):(Pd(e,t,`encType`,a.encType,a,null),Pd(e,t,`method`,a.method,a,null),Pd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=an(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=on);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=an(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Z(`beforetoggle`,e),Z(`toggle`,e),Pt(e,`popover`,r);break;case`xlinkActuate`:It(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:It(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:It(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:It(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Pt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=nn.get(n)||n,Pt(e,n,r))}}function Fd(e,t,n,r,a,o){switch(n){case`style`:en(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Zt(e,``+r);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=on);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Dt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[pt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Pt(e,n,r)}}}function Id(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Z(`error`,e),Z(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Pd(e,t,o,s,n,null)}}a&&Pd(e,t,`srcSet`,n.srcSet,n,null),r&&Pd(e,t,`src`,n.src,n,null);return;case`input`:Z(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Pd(e,t,r,d,n,null)}}Kt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Z(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Pd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Jt(e,!!r,n,!0):Jt(e,!!r,t,!1);return;case`textarea`:for(s in Z(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Pd(e,t,s,c,n,null)}Xt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Pd(e,t,l,r,n,null)}return;case`dialog`:Z(`beforetoggle`,e),Z(`toggle`,e),Z(`cancel`,e),Z(`close`,e);break;case`iframe`:case`object`:Z(`load`,e);break;case`video`:case`audio`:for(r=0;r<vd.length;r++)Z(vd[r],e);break;case`image`:Z(`error`,e),Z(`load`,e);break;case`details`:Z(`toggle`,e);break;case`embed`:case`source`:case`link`:Z(`error`,e),Z(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Pd(e,t,u,r,n,null)}return;default:if(tn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Fd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Pd(e,t,c,r,n,null))}function Ld(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Pd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Pd(e,t,p,m,r,f)}}Gt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Pd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Pd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Jt(e,!!n,n?[]:``,!1):Jt(e,!!n,t,!0)):Jt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Pd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Pd(e,t,s,a,r,o)}Yt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Pd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Pd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Pd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Pd(e,t,u,p,r,m)}return;default:if(tn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Fd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Fd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Pd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Pd(e,t,f,p,r,m)}function Rd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function zd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Rd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Rd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Bd=null,Vd=null;function Hd(e){return e.nodeType===9?e:e.ownerDocument}function Ud(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Gd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=null;function qd(){var e=window.event;return e&&e.type===`popstate`?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var Jd=typeof setTimeout==`function`?setTimeout:void 0,Yd=typeof clearTimeout==`function`?clearTimeout:void 0,Xd=typeof Promise==`function`?Promise:void 0,Zd=typeof queueMicrotask==`function`?queueMicrotask:Xd===void 0?Jd:function(e){return Xd.resolve(null).then(e).catch(Qd)};function Qd(e){setTimeout(function(){throw e})}function $d(e){return e===`head`}function ef(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Pp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)mf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,mf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[yt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&mf(e.ownerDocument.body);n=i}while(n);Pp(t)}function tf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:nf(n),bt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function rf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[yt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=Q(e.nextSibling),e===null)break}return null}function af(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=Q(e.nextSibling),e===null))return null;return e}function of(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=Q(e.nextSibling),e===null))return null;return e}function sf(e){return e.data===`$?`||e.data===`$~`}function cf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function lf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function Q(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var uf=null;function df(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return Q(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function pf(e,t,n){switch(t=Hd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function mf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bt(e)}var hf=new Map,gf=new Set;function _f(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vf=A.d;A.d={f:yf,r:bf,D:Cf,C:wf,L:Tf,m:Ef,X:Of,S:Df,M:kf};function yf(){var e=vf.f(),t=xu();return e||t}function bf(e){var t=St(e);t!==null&&t.tag===5&&t.type===`form`?Es(t):vf.r(e)}var xf=typeof document>`u`?null:document;function Sf(e,t,n){var r=xf;if(r&&typeof t==`string`&&t){var i=Wt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),gf.has(i)||(gf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Id(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function Cf(e){vf.D(e),Sf(`dns-prefetch`,e,null)}function wf(e,t){vf.C(e,t),Sf(`preconnect`,e,t)}function Tf(e,t,n){vf.L(e,t,n);var r=xf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Wt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Wt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Wt(n.imageSizes)+`"]`)):i+=`[href="`+Wt(e)+`"]`;var a=i;switch(t){case`style`:a=jf(e);break;case`script`:a=Ff(e)}hf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),hf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Mf(a))||t===`script`&&r.querySelector(If(a))||(t=r.createElement(`link`),Id(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function Ef(e,t){vf.m(e,t);var n=xf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Wt(r)+`"][href="`+Wt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Ff(e)}if(!hf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),hf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(If(a)))return}r=n.createElement(`link`),Id(r,`link`,e),Tt(r),n.head.appendChild(r)}}}function Df(e,t,n){vf.S(e,t,n);var r=xf;if(r&&e){var i=wt(r).hoistableStyles,a=jf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Mf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=hf.get(a))&&zf(e,n);var c=o=r.createElement(`link`);Tt(c),Id(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Rf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Of(e,t){vf.X(e,t);var n=xf;if(n&&e){var r=wt(n).hoistableScripts,i=Ff(e),a=r.get(i);a||(a=n.querySelector(If(i)),a||(e=h({src:e,async:!0},t),(t=hf.get(i))&&Bf(e,t),a=n.createElement(`script`),Tt(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t){vf.M(e,t);var n=xf;if(n&&e){var r=wt(n).hoistableScripts,i=Ff(e),a=r.get(i);a||(a=n.querySelector(If(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=hf.get(i))&&Bf(e,t),a=n.createElement(`script`),Tt(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Af(e,t,n,r){var a=(a=pe.current)?_f(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=jf(n.href),n=wt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=jf(n.href);var o=wt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Mf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),hf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hf.set(e,n),o||Pf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Ff(n),n=wt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function jf(e){return`href="`+Wt(e)+`"`}function Mf(e){return`link[rel="stylesheet"][`+e+`]`}function Nf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Id(t,`link`,n),Tt(t),e.head.appendChild(t))}function Ff(e){return`[src="`+Wt(e)+`"]`}function If(e){return`script[async]`+e}function Lf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Wt(n.href)+`"]`);if(r)return t.instance=r,Tt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Tt(r),Id(r,`style`,a),Rf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=jf(n.href);var o=e.querySelector(Mf(a));if(o)return t.state.loading|=4,t.instance=o,Tt(o),o;r=Nf(n),(a=hf.get(a))&&zf(r,a),o=(e.ownerDocument||e).createElement(`link`),Tt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Id(o,`link`,r),t.state.loading|=4,Rf(o,n.precedence,e),t.instance=o;case`script`:return o=Ff(n.src),(a=e.querySelector(If(o)))?(t.instance=a,Tt(a),a):(r=n,(a=hf.get(o))&&(r=h({},n),Bf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Tt(a),Id(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Rf(r,n.precedence,e));return t.instance}function Rf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Bf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Vf=null;function Hf(e,t,n){if(Vf===null){var r=new Map,i=Vf=new Map;i.set(n,r)}else i=Vf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[yt]||a[ft]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Uf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Wf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Gf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Kf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=jf(r.href),a=t.querySelector(Mf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Yf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Tt(a);return}a=t.ownerDocument||t,r=Nf(r),(i=hf.get(i))&&zf(r,i),a=a.createElement(`link`),Tt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Id(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Yf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var qf=0;function Jf(e,t){return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&qf===0&&(qf=62500*zd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>qf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xf=null;function Zf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xf=new Map,t.forEach(Qf,e),Xf=null,Yf.call(e))}function Qf(e,t){if(!(t.state.loading&4)){var n=Xf.get(e);if(n)var r=n.get(null);else{n=new Map,Xf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Yf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $f={$$typeof:C,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function ep(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function tp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new ep(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=di(3,null,null,t),e.current=a,a.stateNode=e,t=ua(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ha(a),e}function np(e){return e?(e=li,e):li}function rp(e,t,n,r,i,a){i=np(i),r.context===null?r.context=i:r.pendingContext=i,r=z(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=B(e,r,t),n!==null&&(gu(n,e,t),Wa(n,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ap(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function op(e){if(e.tag===13||e.tag===31){var t=oi(e,67108864);t!==null&&gu(t,e,67108864),ap(e,67108864)}}function sp(e){if(e.tag===13||e.tag===31){var t=mu();t=st(t);var n=oi(e,t);n!==null&&gu(n,e,t),ap(e,t)}}var cp=!0;function lp(e,t,n,r){var i=k.T;k.T=null;var a=A.p;try{A.p=2,dp(e,t,n,r)}finally{A.p=a,k.T=i}}function up(e,t,n,r){var i=k.T;k.T=null;var a=A.p;try{A.p=8,dp(e,t,n,r)}finally{A.p=a,k.T=i}}function dp(e,t,n,r){if(cp){var i=fp(r);if(i===null)Td(e,t,r,pp,n),wp(e,r);else if(Ep(i,e,t,n,r))r.stopPropagation();else if(wp(e,r),t&4&&-1<Cp.indexOf(e)){for(;i!==null;){var a=St(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Xe(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ue(o);s.entanglements[1]|=c,o&=~c}id(a),!(K&6)&&(nu=je()+500,ad(0,!1))}}break;case 31:case 13:s=oi(a,2),s!==null&&gu(s,a,2),xu(),ap(a,2)}if(a=fp(r),a===null&&Td(e,t,r,pp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}function fp(e){return e=cn(e),mp(e)}var pp=null;function mp(e){if(pp=null,e=xt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pp=e,null}function hp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Me()){case Ne:return 2;case Pe:return 8;case Fe:case Ie:return 32;case Le:return 268435456;default:return 32}default:return 32}}var gp=!1,_p=null,vp=null,yp=null,bp=new Map,xp=new Map,Sp=[],Cp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function wp(e,t){switch(e){case`focusin`:case`focusout`:_p=null;break;case`dragenter`:case`dragleave`:vp=null;break;case`mouseover`:case`mouseout`:yp=null;break;case`pointerover`:case`pointerout`:bp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:xp.delete(t.pointerId)}}function Tp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=St(t),t!==null&&op(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ep(e,t,n,r,i){switch(t){case`focusin`:return _p=Tp(_p,e,t,n,r,i),!0;case`dragenter`:return vp=Tp(vp,e,t,n,r,i),!0;case`mouseover`:return yp=Tp(yp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return bp.set(a,Tp(bp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,xp.set(a,Tp(xp.get(a)||null,e,t,n,r,i)),!0}return!1}function Dp(e){var t=xt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ut(e.priority,function(){sp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ut(e.priority,function(){sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Op(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sn=r,n.target.dispatchEvent(r),sn=null}else return t=St(n),t!==null&&op(t),e.blockedOn=n,!1;t.shift()}return!0}function kp(e,t,n){Op(e)&&n.delete(t)}function Ap(){gp=!1,_p!==null&&Op(_p)&&(_p=null),vp!==null&&Op(vp)&&(vp=null),yp!==null&&Op(yp)&&(yp=null),bp.forEach(kp),xp.forEach(kp)}function jp(e,n){e.blockedOn===n&&(e.blockedOn=null,gp||(gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ap)))}var Mp=null;function Np(e){Mp!==e&&(Mp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mp===e&&(Mp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(mp(r||n)===null)continue;break}var a=St(n);a!==null&&(e.splice(t,3),t-=3,ws(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pp(e){function t(t){return jp(t,e)}_p!==null&&jp(_p,e),vp!==null&&jp(vp,e),yp!==null&&jp(yp,e),bp.forEach(t),xp.forEach(t);for(var n=0;n<Sp.length;n++){var r=Sp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Sp.length&&(n=Sp[0],n.blockedOn===null);)Dp(n),n.blockedOn===null&&Sp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[pt]||null;if(typeof a==`function`)o||Np(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[pt]||null)s=o.formAction;else if(mp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Np(n)}}}function Fp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Ip(e){this._internalRoot=e}Lp.prototype.render=Ip.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;rp(n,mu(),e,t,null,null)},Lp.prototype.unmount=Ip.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),xu(),t[mt]=null}};function Lp(e){this._internalRoot=e}Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sp.length&&t!==0&&t<Sp[n].priority;n++);Sp.splice(n,0,e),n===0&&Dp(e)}};var Rp=n.version;if(Rp!==`19.2.3`)throw Error(i(527,Rp,`19.2.3`));A.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var zp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:k,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Be=Bp.inject(zp),Ve=Bp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=qs,s=Js,c=Ys;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=tp(e,1,!1,null,null,n,r,null,o,s,c,Fp),e[mt]=t.current,Cd(e),new Ip(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u(),1),v=`modulepreload`,y=function(e){return`/attendance_tracker/`+e},b={};const x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=y(t,n),t in b)return;b[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:v,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var S=`popstate`;function C(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return D(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:te(t)}return ne(t,n,null,e)}function w(e,t){if(e===!1||e==null)throw Error(t)}function T(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function E(){return Math.random().toString(36).substring(2,10)}function ee(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?O(t):t,state:n,key:t&&t.key||r||E()}}function te({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function O(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ne(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=D(h.location,e,t);n&&n(r,e),l=u()+1;let d=ee(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=D(h.location,e,t);n&&n(r,e),l=u();let i=ee(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return re(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(S,d),c=e,()=>{i.removeEventListener(S,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function re(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),w(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:te(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function ie(e,t,n=`/`){return ae(e,t,n,!1)}function ae(e,t,n,r){let i=ye((typeof t==`string`?O(t):t).pathname||`/`,n);if(i==null)return null;let a=k(e);se(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=ve(i);o=he(a[e],t,r)}return o}function oe(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function k(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;w(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Oe([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(w(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),k(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:pe(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of A(e.path))a(e,t,!0,n)}),t}function A(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=A(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function se(e){e.sort((e,t)=>e.score===t.score?me(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var ce=/^:[\w-]+$/,le=3,ue=2,j=1,M=10,de=-2,fe=e=>e===`*`;function pe(e,t){let n=e.split(`/`),r=n.length;return n.some(fe)&&(r+=de),t&&(r+=ue),n.filter(e=>!fe(e)).reduce((e,t)=>e+(ce.test(t)?le:t===``?j:M),r)}function me(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function he(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=ge({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=ge({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Oe([a,u.pathname]),pathnameBase:ke(Oe([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Oe([a,u.pathnameBase]))}return o}function ge(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function _e(e,t=!1,n=!0){T(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function ve(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return T(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ye(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=e=>be.test(e);function Se(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?O(e):e,a;if(n)if(xe(n))a=n;else{if(n.includes(`//`)){let e=n;n=n.replace(/\/\/+/g,`/`),T(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${n}`)}a=n.startsWith(`/`)?Ce(n.substring(1),`/`):Ce(n,t)}else a=t;return{pathname:a,search:Ae(r),hash:je(i)}}function Ce(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function we(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Te(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ee(e){let t=Te(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function De(e,t,n,r=!1){let i;typeof e==`string`?i=O(e):(i={...e},w(!i.pathname||!i.pathname.includes(`?`),we(`?`,`pathname`,`search`,i)),w(!i.pathname||!i.pathname.includes(`#`),we(`#`,`pathname`,`hash`,i)),w(!i.search||!i.search.includes(`#`),we(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=Se(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Oe=e=>e.join(`/`).replace(/\/\/+/g,`/`),ke=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Ae=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,je=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,Me=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ne(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Pe(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Fe=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Ie(e,t){let n=e;if(typeof n!=`string`||!be.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Fe)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=ye(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{T(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Le=_.createContext(null);Le.displayName=`DataRouter`;var Re=_.createContext(null);Re.displayName=`DataRouterState`;var ze=_.createContext(!1),Be=_.createContext({isTransitioning:!1});Be.displayName=`ViewTransition`;var Ve=_.createContext(new Map);Ve.displayName=`Fetchers`;var He=_.createContext(null);He.displayName=`Await`;var Ue=_.createContext(null);Ue.displayName=`Navigation`;var We=_.createContext(null);We.displayName=`Location`;var Ge=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ge.displayName=`Route`;var Ke=_.createContext(null);Ke.displayName=`RouteError`;var qe=`REACT_ROUTER_ERROR`,Je=`REDIRECT`,Ye=`ROUTE_ERROR_RESPONSE`;function Xe(e){if(e.startsWith(`${qe}:${Je}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Ze(e){if(e.startsWith(`${qe}:${Ye}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new Me(t.status,t.statusText,t.data)}catch{}}function Qe(e,{relative:t}={}){w($e(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=_.useContext(Ue),{hash:i,pathname:a,search:o}=ct(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Oe([n,a])),r.createHref({pathname:s,search:o,hash:i})}function $e(){return _.useContext(We)!=null}function et(){return w($e(),`useLocation() may be used only in the context of a <Router> component.`),_.useContext(We).location}var tt=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function nt(e){_.useContext(Ue).static||_.useLayoutEffect(e)}function rt(){let{isDataRoute:e}=_.useContext(Ge);return e?Dt():it()}function it(){w($e(),`useNavigate() may be used only in the context of a <Router> component.`);let e=_.useContext(Le),{basename:t,navigator:n}=_.useContext(Ue),{matches:r}=_.useContext(Ge),{pathname:i}=et(),a=JSON.stringify(Ee(r)),o=_.useRef(!1);return nt(()=>{o.current=!0}),_.useCallback((r,s={})=>{if(T(o.current,tt),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=De(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Oe([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var at=_.createContext(null);function ot(){return _.useContext(at)}function st(e){let t=_.useContext(Ge).outlet;return _.useMemo(()=>t&&_.createElement(at.Provider,{value:e},t),[t,e])}function ct(e,{relative:t}={}){let{matches:n}=_.useContext(Ge),{pathname:r}=et(),i=JSON.stringify(Ee(n));return _.useMemo(()=>De(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function lt(e,t){return ut(e,t)}function ut(e,t,n,r,i){w($e(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=_.useContext(Ue),{matches:o}=_.useContext(Ge),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;kt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=et(),p;if(t){let e=typeof t==`string`?O(t):t;w(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=ie(e,{pathname:h});T(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),T(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=_t(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Oe([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Oe([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&v?_.createElement(We.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},v):v}function dt(){let e=Et(),t=Ne(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=_.createElement(_.Fragment,null,_.createElement(`p`,null,` Hey developer `),_.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,_.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,_.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),_.createElement(_.Fragment,null,_.createElement(`h2`,null,`Unexpected Application Error!`),_.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?_.createElement(`pre`,{style:i},n):null,o)}var ft=_.createElement(dt,null),pt=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Ze(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:_.createElement(Ge.Provider,{value:this.props.routeContext},_.createElement(Ke.Provider,{value:e,children:this.props.component}));return this.context?_.createElement(ht,{error:e},t):t}};pt.contextType=ze;var mt=new WeakMap;function ht({children:e,error:t}){let{basename:n}=_.useContext(Ue);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Xe(t.digest);if(e){let r=mt.get(t);if(r)throw r;let i=Ie(e.location,n);if(Fe&&!mt.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw mt.set(t,n),n}return _.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function gt({routeContext:e,match:t,children:n}){let r=_.useContext(Le);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ge.Provider,{value:e},n)}function _t(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);w(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Pe(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||ft,s&&(c<0&&i===0?(kt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?_.createElement(r.route.Component,null):r.route.element?r.route.element:e,_.createElement(gt,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?_.createElement(pt,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function vt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yt(e){let t=_.useContext(Le);return w(t,vt(e)),t}function bt(e){let t=_.useContext(Re);return w(t,vt(e)),t}function xt(e){let t=_.useContext(Ge);return w(t,vt(e)),t}function St(e){let t=xt(e),n=t.matches[t.matches.length-1];return w(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ct(){return St(`useRouteId`)}function wt(){return bt(`useNavigation`).navigation}function Tt(){let{matches:e,loaderData:t}=bt(`useMatches`);return _.useMemo(()=>e.map(e=>oe(e,t)),[e,t])}function Et(){let e=_.useContext(Ke),t=bt(`useRouteError`),n=St(`useRouteError`);return e===void 0?t.errors?.[n]:e}function Dt(){let{router:e}=yt(`useNavigate`),t=St(`useNavigate`),n=_.useRef(!1);return nt(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{T(n.current,tt),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Ot={};function kt(e,t,n){!t&&!Ot[e]&&(Ot[e]=!0,T(!1,n))}_.useOptimistic,_.memo(At);function At({routes:e,future:t,state:n,onError:r}){return ut(e,void 0,n,r,t)}function jt({to:e,replace:t,state:n,relative:r}){w($e(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=_.useContext(Ue);T(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=_.useContext(Ge),{pathname:o}=et(),s=rt(),c=De(e,Ee(a),o,r===`path`),l=JSON.stringify(c);return _.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function Mt(e){return st(e.context)}function Nt(e){w(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function Pt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){w(!$e(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=_.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=O(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=_.useMemo(()=>{let e=ye(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return T(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:_.createElement(Ue.Provider,{value:c},_.createElement(We.Provider,{children:t,value:m}))}function Ft({children:e,location:t}){return lt(It(e),t)}function It(e,t=[]){let n=[];return _.Children.forEach(e,(e,r)=>{if(!_.isValidElement(e))return;let i=[...t,r];if(e.type===_.Fragment){n.push.apply(n,It(e.props.children,i));return}w(e.type===Nt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),w(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=It(e.props.children,i)),n.push(a)}),n}var Lt=`get`,Rt=`application/x-www-form-urlencoded`;function zt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Bt(e){return zt(e)&&e.tagName.toLowerCase()===`button`}function Vt(e){return zt(e)&&e.tagName.toLowerCase()===`form`}function Ht(e){return zt(e)&&e.tagName.toLowerCase()===`input`}function Ut(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wt(e,t){return e.button===0&&(!t||t===`_self`)&&!Ut(e)}var Gt=null;function Kt(){if(Gt===null)try{new FormData(document.createElement(`form`),0),Gt=!1}catch{Gt=!0}return Gt}var qt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Jt(e){return e!=null&&!qt.has(e)?(T(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rt}"`),null):e}function Yt(e,t){let n,r,i,a,o;if(Vt(e)){let o=e.getAttribute(`action`);r=o?ye(o,t):null,n=e.getAttribute(`method`)||Lt,i=Jt(e.getAttribute(`enctype`))||Rt,a=new FormData(e)}else if(Bt(e)||Ht(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?ye(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Lt,i=Jt(e.getAttribute(`formenctype`))||Jt(o.getAttribute(`enctype`))||Rt,a=new FormData(o,e),!Kt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(zt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Lt,r=null,i=Rt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);function Xt(e,t){if(e===!1||e==null)throw Error(t)}function Zt(e,t,n){let r=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return r.pathname===`/`?r.pathname=`_root.${n}`:t&&ye(r.pathname,t)===`/`?r.pathname=`${t.replace(/\/$/,``)}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,``)}.${n}`,r}async function Qt(e,t){if(e.id in t)return t[e.id];try{let n=await x(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $t(e){return e!=null&&typeof e.page==`string`}function en(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function tn(e,t,n){return sn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Qt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(en).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function nn(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function rn(e,t,{includeHydrateFallback:n}={}){return an(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function an(e){return[...new Set(e)]}function on(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function sn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!$t(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(on(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function cn(){let e=_.useContext(Le);return Xt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function ln(){let e=_.useContext(Re);return Xt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var un=_.createContext(void 0);un.displayName=`FrameworkContext`;function dn(){let e=_.useContext(un);return Xt(e,`You must render this element inside a <HydratedRouter> element`),e}function fn(e,t){let n=_.useContext(un),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=_.useRef(null);_.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),_.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:pn(s,p),onBlur:pn(c,m),onMouseEnter:pn(l,p),onMouseLeave:pn(u,m),onTouchStart:pn(d,p)}]:[a,f,{}]:[!1,f,{}]}function pn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mn({page:e,...t}){let{router:n}=cn(),r=_.useMemo(()=>ie(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(gn,{page:e,matches:r,...t}):null}function hn(e){let{manifest:t,routeModules:n}=dn(),[r,i]=_.useState([]);return _.useEffect(()=>{let r=!1;return tn(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function gn({page:e,matches:t,...n}){let r=et(),{manifest:i,routeModules:a}=dn(),{basename:o}=cn(),{loaderData:s,matches:c}=ln(),l=_.useMemo(()=>nn(e,t,c,i,r,`data`),[e,t,c,i,r]),u=_.useMemo(()=>nn(e,t,c,i,r,`assets`),[e,t,c,i,r]),d=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,c=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];!t||!t.hasLoader||(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?c=!0:n.add(e.route.id))}),n.size===0)return[];let u=Zt(e,o,`data`);return c&&n.size>0&&u.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[u.pathname+u.search]},[o,s,r,i,l,t,e,a]),f=_.useMemo(()=>rn(u,i),[u,i]),p=hn(u);return _.createElement(_.Fragment,null,d.map(e=>_.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),f.map(e=>_.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),p.map(({key:e,link:t})=>_.createElement(`link`,{key:e,nonce:n.nonce,...t})))}function _n(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var vn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{vn&&(window.__reactRouterVersion=`7.11.0`)}catch{}function yn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current??=C({window:r,v5Compat:!0});let a=i.current,[o,s]=_.useState({action:a.action,location:a.location}),c=_.useCallback(e=>{n===!1?s(e):_.startTransition(()=>s(e))},[n]);return _.useLayoutEffect(()=>a.listen(c),[a,c]),_.createElement(Pt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function bn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=_.useState({action:n.action,location:n.location}),o=_.useCallback(e=>{r===!1?a(e):_.startTransition(()=>a(e))},[r]);return _.useLayoutEffect(()=>n.listen(o),[n,o]),_.createElement(Pt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}bn.displayName=`unstable_HistoryRouter`;var xn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=_.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=_.useContext(Ue),g=typeof c==`string`&&xn.test(c),v=Ie(c,m);c=v.to;let y=Qe(c,{relative:r}),[b,x,S]=fn(n,f),C=kn(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=_.createElement(`a`,{...f,...S,href:v.absoluteURL||y,onClick:v.isExternal||i?e:w,ref:_n(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return b&&!g?_.createElement(_.Fragment,null,T,_.createElement(mn,{page:y})):T});Sn.displayName=`Link`;var Cn=_.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=ct(a,{relative:c.relative}),d=et(),f=_.useContext(Re),{navigator:p,basename:m}=_.useContext(Ue),h=f!=null&&zn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,v=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=ye(y,m)||y);let b=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=v===g||!r&&v.startsWith(g)&&v.charAt(b)===`/`,S=y!=null&&(y===g||!r&&y.startsWith(g)&&y.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return _.createElement(Sn,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});Cn.displayName=`NavLink`;var wn=_.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Lt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=_.useContext(Ue),g=Mn(),v=Nn(s,{relative:l}),y=o.toLowerCase()===`get`?`get`:`post`,b=typeof s==`string`&&xn.test(s);return _.createElement(`form`,{ref:m,method:y,action:v,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?_.startTransition(()=>p()):p()},...p,"data-discover":!b&&e===`render`?`true`:void 0})});wn.displayName=`Form`;function Tn({getKey:e,storageKey:t,...n}){let r=_.useContext(un),{basename:i}=_.useContext(Ue),a=et(),o=Tt();Ln({getKey:e,storageKey:t});let s=_.useMemo(()=>{if(!r||!e)return null;let t=In(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return _.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(t||Pn)}, ${JSON.stringify(s)})`}})}Tn.displayName=`ScrollRestoration`;function En(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dn(e){let t=_.useContext(Le);return w(t,En(e)),t}function On(e){let t=_.useContext(Re);return w(t,En(e)),t}function kn(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=rt(),u=et(),d=ct(e,{relative:a});return _.useCallback(f=>{if(Wt(f,t)){f.preventDefault();let t=n===void 0?te(u)===te(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?_.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var An=0,jn=()=>`__${String(++An)}__`;function Mn(){let{router:e}=Dn(`useSubmit`),{basename:t}=_.useContext(Ue),n=Ct(),r=e.fetch,i=e.navigate;return _.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Yt(e,t);a.navigate===!1?await r(a.fetcherKey||jn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Nn(e,{relative:t}={}){let{basename:n}=_.useContext(Ue),r=_.useContext(Ge);w(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...ct(e||`.`,{relative:t})},o=et();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Oe([n,a.pathname])),te(a)}var Pn=`react-router-scroll-positions`,Fn={};function In(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:ye(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Ln({getKey:e,storageKey:t}={}){let{router:n}=Dn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=On(`useScrollRestoration`),{basename:a}=_.useContext(Ue),o=et(),s=Tt(),c=wt();_.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Rn(_.useCallback(()=>{if(c.state===`idle`){let t=In(o,s,a,e);Fn[t]=window.scrollY}try{sessionStorage.setItem(t||Pn,JSON.stringify(Fn))}catch(e){T(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(_.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||Pn);e&&(Fn=JSON.parse(e))}catch{}},[t]),_.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(Fn,()=>window.scrollY,e?(t,n)=>In(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),_.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{T(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Rn(e,t){let{capture:n}=t||{};_.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function zn(e,{relative:t}={}){let n=_.useContext(Be);w(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dn(`useViewTransitionState`),i=ct(e,{relative:t});if(!n.isTransitioning)return!1;let a=ye(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ye(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ge(i.pathname,o)!=null||ge(i.pathname,a)!=null}var Bn=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),N=o(((e,t)=>{t.exports=Bn()}))(),Vn=({children:e,userProfile:t={name:`Jeevith`,role:`Developer`},onEditProfile:n})=>(0,N.jsxs)(`div`,{style:{minHeight:`100vh`,display:`flex`,flexDirection:`column`},children:[(0,N.jsxs)(`header`,{style:{backgroundColor:`transparent`,borderBottom:`none`,padding:`0.75rem 1.5rem`,display:`grid`,gridTemplateColumns:`1fr auto 1fr`,alignItems:`center`,boxShadow:`none`,position:`sticky`,top:0,zIndex:10},children:[(0,N.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`1rem`}}),(0,N.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`center`,whiteSpace:`nowrap`},children:(0,N.jsx)(Cn,{to:`/`,end:!0,style:{textDecoration:`none`,color:`inherit`,display:`flex`,alignItems:`center`},children:(0,N.jsx)(`span`,{style:{fontFamily:`'Croissant One', serif`,fontWeight:700,fontSize:`2.5rem`},children:`Hope3-Services`})})}),(0,N.jsxs)(`div`,{onClick:n,style:{display:`flex`,alignItems:`center`,gap:`1rem`,cursor:`pointer`,justifySelf:`end`},title:`Click to edit profile`,children:[(0,N.jsxs)(`div`,{style:{textAlign:`right`,display:`none`,md:`block`},children:[(0,N.jsx)(`div`,{style:{fontSize:`0.9rem`,fontWeight:600},children:t.name}),(0,N.jsx)(`div`,{style:{fontSize:`0.75rem`,color:`var(--text-secondary)`},children:t.role})]}),(0,N.jsx)(`div`,{style:{width:`40px`,height:`40px`,borderRadius:`50%`,backgroundColor:`var(--primary-color)`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`white`,fontWeight:600,border:`2px solid transparent`,transition:`all 0.2s`},onMouseOver:e=>e.currentTarget.style.borderColor=`var(--primary-color)`,onMouseOut:e=>e.currentTarget.style.borderColor=`transparent`,children:t.name.charAt(0).toUpperCase()})]})]}),(0,N.jsx)(`main`,{style:{flex:1,width:`100%`,maxWidth:`1600px`,margin:`0 auto`,padding:`1rem 2rem`,display:`flex`,flexDirection:`column`,gap:`1.2rem`},children:e})]}),Hn=({value:e,label:t,className:n=``})=>(0,N.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,margin:`0 15px`},children:[(0,N.jsx)(`div`,{className:n,style:{position:`relative`,width:`140px`,height:`140px`,borderRadius:`50%`,display:`flex`,alignItems:`center`,justifyContent:`center`,border:`1px solid #334155`,background:`#1e293b`,boxShadow:`0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)`,transition:`all 0.3s ease`},children:(0,N.jsx)(`div`,{style:{fontSize:`3.5rem`,fontWeight:700,color:`white`,fontFamily:`'Inter', sans-serif`},children:e.toString().padStart(2,`0`)})}),(0,N.jsx)(`span`,{style:{marginTop:`1.25rem`,fontSize:`0.8rem`,color:`#64748b`,textTransform:`uppercase`,letterSpacing:`2px`,fontWeight:600},children:t})]}),Un=({onStart:e,onEnd:t,onPause:n,onResume:r,activeSession:i,reminderInterval:a,setReminderInterval:o})=>{let[s,c]=(0,_.useState)(0);(0,_.useEffect)(()=>{let e=null;if(i){let t=()=>{let e=new Date,t=new Date(i.startTimeFull||i.startTimeStr);if(isNaN(t.getTime()))c(0);else{let n=Math.floor((e-t)/1e3),r=i.totalPausedSeconds||0;if(n-=r,i.lastPauseTime){let t=new Date(i.lastPauseTime),r=Math.floor((e-t)/1e3);n-=r}c(n>0?n:0)}};t(),e=setInterval(t,1e3)}else c(0);return()=>clearInterval(e)},[i]);let l=Math.floor(s/3600),u=Math.floor(s%3600/60),d=s%60;return(0,N.jsxs)(`div`,{style:{padding:`1.5rem`,display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,width:`100%`},children:[(0,N.jsxs)(`div`,{style:{marginBottom:`1.5rem`,textAlign:`center`},children:[(0,N.jsx)(`div`,{style:{fontSize:`0.75rem`,textTransform:`uppercase`,letterSpacing:`2px`,color:`#64748b`,fontWeight:700,marginBottom:`0.5rem`,background:`#f1f5f9`,padding:`2px 8px`,borderRadius:`4px`,display:`inline-block`},children:i?i.lastPauseTime?`Session Paused`:`Session Active`:`READY TO START`}),(0,N.jsx)(`div`,{style:{color:`#0f172a`,fontWeight:500,fontSize:`1.1rem`,marginTop:`0.5rem`},children:new Date().toLocaleDateString(`en-US`,{weekday:`long`,month:`long`,day:`numeric`})})]}),(0,N.jsxs)(`div`,{style:{marginBottom:`2rem`,display:`flex`,alignItems:`center`,gap:`0.8rem`},children:[(0,N.jsx)(`label`,{style:{fontSize:`0.9rem`,color:`#64748b`,fontWeight:500},children:`Remind me:`}),(0,N.jsxs)(`select`,{value:[0,60,300,600,1800,3600].includes(a)?a:-1,onChange:e=>{let t=parseInt(e.target.value);o&&o(t)},style:{padding:`0.4rem 0.8rem`,borderRadius:`8px`,border:`1px solid #E2E8F0`,color:`#0f172a`,fontSize:`0.9rem`,cursor:`pointer`,background:`white`},children:[(0,N.jsx)(`option`,{value:0,children:`Never`}),(0,N.jsx)(`option`,{value:60,children:`Test (1 min)`}),(0,N.jsx)(`option`,{value:300,children:`Every 5m`}),(0,N.jsx)(`option`,{value:600,children:`Every 10m`}),(0,N.jsx)(`option`,{value:1800,children:`Every 30m`}),(0,N.jsx)(`option`,{value:3600,children:`Every 1h`}),(0,N.jsx)(`option`,{value:-1,children:`Custom...`})]})]}),(0,N.jsxs)(`div`,{style:{display:`flex`,justifyContent:`center`,gap:`1rem`,marginBottom:`2.5rem`},children:[(0,N.jsx)(Hn,{value:l,label:`Hours`}),(0,N.jsx)(Hn,{value:u,label:`Minutes`}),(0,N.jsx)(Hn,{value:d,label:`Seconds`,className:i&&!i.lastPauseTime?`animate-pulse-seconds`:``})]}),i?(0,N.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`},children:[i.lastPauseTime?(0,N.jsx)(`button`,{onClick:r,style:{background:`#0f172a`,color:`white`,border:`none`,padding:`0.8rem 2.5rem`,borderRadius:`8px`,fontSize:`1rem`,fontWeight:600,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`0.6rem`},children:(0,N.jsx)(`span`,{children:` Resume Session`})}):(0,N.jsx)(`button`,{onClick:n,style:{background:`#facc15`,color:`#713f12`,border:`none`,padding:`0.8rem 2.5rem`,borderRadius:`8px`,fontSize:`1rem`,fontWeight:600,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`0.6rem`},children:(0,N.jsx)(`span`,{children:` Pause`})}),(0,N.jsx)(`button`,{onClick:t,style:{background:`white`,color:`#ef4444`,border:`1px solid #ef4444`,padding:`0.8rem 2.5rem`,borderRadius:`8px`,fontSize:`1rem`,fontWeight:600,cursor:`pointer`},children:`Stop Session`})]}):(0,N.jsxs)(`button`,{onClick:()=>e(),style:{background:`#0f172a`,color:`white`,border:`none`,padding:`1rem 3.5rem`,borderRadius:`8px`,fontSize:`1.2rem`,fontWeight:600,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`0.8rem`,transition:`all 0.2s ease`},children:[(0,N.jsx)(`span`,{style:{fontSize:`1rem`},children:``}),` Start Session`]})]})},Wn=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){let r=t?this.allAsyncListeners:this.allSyncListeners,i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){let r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let n=e.type;if(t&&`event`in e){let t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}let{frameworkOverrides:r}=this,i=e=>{let n=r?()=>r.wrapIncoming(e):e;t?this.dispatchAsync(n):n()},a=this.getListeners(n,t,!1);if((a?.size??0)>0){let t=new Set(a);for(let n of t)a?.has(n)&&i(()=>n(e))}let o=this.getGlobalListeners(t);if(o.size>0){let t=new Set(o);for(let r of t)i(()=>r(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(let t of e)t()}};function Gn(e){return e==null||e===``?null:e}function P(e){return e!=null&&e!==``}function Kn(e){return!P(e)}function qn(e){return e!=null&&typeof e.toString==`function`?e.toString():null}function Jn(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function Yn(e,t,n={}){n.transform&&(e=n.transform(e),t=n.transform(t));let r=e==null,i=t==null;if(e?.toNumber&&(e=e.toNumber()),t?.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function a(e,t){return e>t?1:e<t?-1:0}if(typeof e!=`string`||!n.accentedCompare)return a(e,t);try{return e.localeCompare(t)}catch{return a(e,t)}}var Xn=/[&<>"']/g,Zn={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#39;`};function Qn(e){return e?.toString().toString()??null}function $n(e){return Qn(e)?.replace(Xn,e=>Zn[e])??null}function er(e){return typeof e==`string`&&e.startsWith(`=`)&&e.length>1}function tr(e){return e.eRootDiv.getRootNode()}function nr(e){return tr(e).activeElement}function rr(e){let{gos:t,eRootDiv:n}=e,r=null,i=t.get(`getDocument`);return i&&P(i)?r=i():n&&(r=n.ownerDocument),r&&P(r)?r:document}function ir(e){let t=nr(e);return t===null||t===rr(e).body}function ar(e){return rr(e).defaultView||window}function or(e){let t=null,n=null;try{t=rr(e).fullscreenElement}catch{}finally{t||=tr(e),n=t.querySelector(`body`)||(t instanceof ShadowRoot?t:t instanceof Document?t?.documentElement:t)}return n}function sr(e){return or(e)?.clientWidth??(window.innerWidth||-1)}function cr(e){return or(e)?.clientHeight??(window.innerHeight||-1)}function lr(e,t,n){n==null||typeof n==`string`&&n==``?dr(e,t):ur(e,t,n)}function ur(e,t,n){e.setAttribute(fr(t),n.toString())}function dr(e,t){e.removeAttribute(fr(t))}function fr(e){return`aria-${e}`}function pr(e,t){t?e.setAttribute(`role`,t):e.removeAttribute(`role`)}function mr(e){let t=e?.direction;return t===`asc`?`ascending`:t===`desc`?`descending`:t===`mixed`?`other`:`none`}function hr(e){return e.getAttribute(`aria-label`)}function gr(e,t){lr(e,`label`,t)}function _r(e,t){lr(e,`labelledby`,t)}function vr(e,t){lr(e,`live`,t)}function yr(e,t){lr(e,`atomic`,t)}function br(e,t){lr(e,`relevant`,t)}function xr(e,t){lr(e,`invalid`,t)}function Sr(e,t){lr(e,`disabled`,t)}function Cr(e,t){lr(e,`hidden`,t)}function wr(e,t){ur(e,`expanded`,t)}function Tr(e,t){ur(e,`setsize`,t)}function Er(e,t){ur(e,`posinset`,t)}function Dr(e,t){ur(e,`rowcount`,t)}function Or(e,t){ur(e,`rowindex`,t)}function kr(e,t){ur(e,`rowspan`,t)}function Ar(e,t){ur(e,`colcount`,t)}function jr(e,t){ur(e,`colindex`,t)}function Mr(e,t){ur(e,`colspan`,t)}function Nr(e,t){ur(e,`sort`,t)}function Pr(e){dr(e,`sort`)}function Fr(e,t){lr(e,`selected`,t)}function Ir(e,t){lr(e,`controls`,t)}function Lr(e,t){Ir(e,t.id),_r(t,e.id)}function Rr(e,t){lr(e,`owns`,t)}function zr(e,t){return t===void 0?e(`ariaIndeterminate`,`indeterminate`):t===!0?e(`ariaChecked`,`checked`):e(`ariaUnchecked`,`unchecked`)}var Br=`[tabindex], input, select, button, textarea, [href]`,Vr=`[disabled], .ag-disabled:not(.ag-button), .ag-disabled *`;function Hr(e){return!e||!e.matches(`input, select, button, textarea`)||!e.matches(Vr)?!1:ri(e)}function F(e,t,n={}){let{skipAriaHidden:r}=n;e.classList.toggle(`ag-hidden`,!t),r||Cr(e,!t)}function Ur(e,t,n={}){let{skipAriaHidden:r}=n;e.classList.toggle(`ag-invisible`,!t),r||Cr(e,!t)}function Wr(e,t){let n=`disabled`,r=t?e=>e.setAttribute(n,``):e=>e.removeAttribute(n);r(e);let i=e.querySelectorAll(`input`)??[];for(let e of i)r(e)}function Gr(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n==`number`){if(++r>n)break}else if(e===n)break}return!1}function Kr(e){let{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:a,borderLeftWidth:o,paddingTop:s,paddingRight:c,paddingBottom:l,paddingLeft:u,marginTop:d,marginRight:f,marginBottom:p,marginLeft:m,boxSizing:h}=window.getComputedStyle(e),g=Number.parseFloat;return{height:g(t||`0`),width:g(n||`0`),borderTopWidth:g(r||`0`),borderRightWidth:g(i||`0`),borderBottomWidth:g(a||`0`),borderLeftWidth:g(o||`0`),paddingTop:g(s||`0`),paddingRight:g(c||`0`),paddingBottom:g(l||`0`),paddingLeft:g(u||`0`),marginTop:g(d||`0`),marginRight:g(f||`0`),marginBottom:g(p||`0`),marginLeft:g(m||`0`),boxSizing:h}}function qr(e){let t=Kr(e);return t.boxSizing===`border-box`?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function Jr(e){let t=Kr(e);return t.boxSizing===`border-box`?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function Yr(e){let{height:t,marginBottom:n,marginTop:r}=Kr(e);return Math.floor(t+n+r)}function Xr(e){let{width:t,marginLeft:n,marginRight:r}=Kr(e);return Math.floor(t+n+r)}function Zr(e){let t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:a}=Kr(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(a||0)}}function Qr(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function $r(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ei(e){for(;e?.firstChild;)e.firstChild.remove()}function ti(e){e?.parentNode&&e.remove()}function ni(e){return!!e.offsetParent}function ri(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!ni(e)||window.getComputedStyle(e).visibility!==`visible`)}function ii(e){let t=document.createElement(`div`);return t.innerHTML=(e||``).trim(),t.firstChild}function ai(e){return()=>{let t=e();return t?oi(t)||si(t):!0}}function oi(e){return e.clientWidth<e.scrollWidth}function si(e){return e.clientHeight<e.scrollHeight}function ci(e,t){t===`flex`?(e.style.removeProperty(`width`),e.style.removeProperty(`minWidth`),e.style.removeProperty(`maxWidth`),e.style.flex=`1 1 auto`):li(e,t)}function li(e,t){t=di(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function ui(e,t){t=di(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function di(e){return typeof e==`number`?`${e}px`:e}function fi(e){return e instanceof Node||e instanceof HTMLElement}function pi(e,t,n){n==null||n===``?e.removeAttribute(t):e.setAttribute(t,n.toString())}function mi(e,t,n){let r=ar(e).ResizeObserver,i=r?new r(n):null;return i?.observe(t),()=>i?.disconnect()}function hi(e,t){let n=ar(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var gi=`data-ref`,_i;function vi(){return _i??=document.createTextNode(` `),_i.cloneNode()}function yi(e){let{attrs:t,children:n,cls:r,ref:i,role:a,tag:o}=e,s=document.createElement(o);if(r&&(s.className=r),i&&s.setAttribute(gi,i),a&&s.setAttribute(`role`,a),t)for(let e of Object.keys(t))s.setAttribute(e,t[e]);if(n)if(typeof n==`string`)s.textContent=n;else{let e=!0;for(let t of n)t&&(typeof t==`string`?(s.appendChild(document.createTextNode(t)),e=!1):typeof t==`function`?s.appendChild(t()):(e&&=(s.appendChild(vi()),!1),s.append(yi(t)),s.appendChild(vi())))}return s}var bi=[`touchstart`,`touchend`,`touchmove`,`touchcancel`,`scroll`],xi=[`wheel`],Si={},Ci=(()=>{let e={select:`input`,change:`input`,submit:`form`,reset:`form`,error:`img`,load:`img`,abort:`img`};return t=>{if(typeof Si[t]==`boolean`)return Si[t];let n=document.createElement(e[t]||`div`);return t=`on`+t,Si[t]=t in n}})();function wi(e,t){return!t||!e?!1:Ei(t).indexOf(e)>=0}function Ti(e){let t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function Ei(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():Ti(t)}function Di(e,t,n){let r=Oi(t),i;r!=null&&(i={passive:r}),e.addEventListener(t,n,i)}var Oi=e=>{let t=bi.includes(e),n=xi.includes(e);if(t)return!0;if(n)return!1};function ki(e,t,n){if(n===0)return!1;let r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var Ai=(e,t)=>{let n=e.identifier;for(let e=0,r=t.length;e<r;++e){let r=t[e];if(r.identifier===n)return r}return null};function ji(e,t){return e.gos.isElementInThisInstance(t.target)}function Mi(e,t,n){let r=e.getBoundingClientRect().height,i=sr(n)-2,a=cr(n)-2;if(!e.offsetParent)return;let o=Zr(e.offsetParent),{clientY:s,clientX:c}=t,l=s-o.top-r/2,u=c-o.left-10,d=rr(n),f=d.defaultView||window,p=f.pageYOffset||d.documentElement.scrollTop,m=f.pageXOffset||d.documentElement.scrollLeft;i>0&&u+e.clientWidth>i+m&&(u=i+m-e.clientWidth),u<0&&(u=0),a>0&&l+e.clientHeight>a+p&&(l=a+p-e.clientHeight),l<0&&(l=0),e.style.left=`${u}px`,e.style.top=`${l}px`}var Ni=(e,...t)=>{for(let n of t){let[t,r,i,a]=n;t.addEventListener(r,i,a),e.push(n)}},Pi=e=>{if(e){for(let[t,n,r,i]of e)t.removeEventListener(n,r,i);e.length=0}},Fi=e=>{e.cancelable&&e.preventDefault()};function Ii(e,t){return t}function Li(e){return e?.getLocaleTextFunc()??Ii}function I(e,t,n,r){let i=t[n];return e.getLocaleTextFunc()(n,typeof i==`function`?i(r):i,r)}function Ri(e){return(t,n,r)=>e({key:t,defaultValue:n,variableValues:r})}function zi(e){return(t,n,r)=>{let i=e?.[t];if(i&&r?.length){let e=0;for(;!(e>=r.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",r[e++])}return i??n}}var Bi=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:`destroyed`})}addEventListener(e,t,n){this.localEventService||=new Wn,this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let n=[];for(let r of Object.keys(t)){let i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;if(Vi(e))e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null);else{let i=Hi(e);e instanceof HTMLElement?Di(e,t,n):i?e.addListener(t,n):e.addEventListener(t,n),r=i?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}setupPropertyListener(e,t){let{gos:n}=this;n.addPropertyEventListener(e,t);let r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(e=>e!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let n=e.join(`-`)+ this.propertyListenerId++,r=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=e.changeSet.id}t({type:`propertyChanged`,changeSet:e.changeSet,source:e.source})};for(let t of e)this.setupPropertyListener(t,r)}getLocaleTextFunc(){return Li(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Vi(e){return e.__addEventListener!==void 0}function Hi(e){return e.eventServiceType===`global`}var L=class extends Bi{},Ui=new Set,Wi=(e,t)=>{Ui.has(t)||(Ui.add(t),e())};Wi._set=Ui;var Gi={pending:!1,funcs:[]},Ki={pending:!1,funcs:[]};function qi(e,t=`setTimeout`,n){let r=t===`raf`?Ki:Gi;if(r.funcs.push(e),r.pending)return;r.pending=!0;let i=()=>{let e=r.funcs.slice();r.funcs.length=0,r.pending=!1;for(let t of e)t()};t===`raf`?hi(n,i):window.setTimeout(i,0)}function Ji(e,t,n){let r;return function(...i){let a=this;return window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(a,i)},n),r}}function Yi(e,t){let n=0;return function(...r){let i=this,a=Date.now();a-n<t||(n=a,e.apply(i,r))}}function Xi(e,t,n,r=100){let i=Date.now(),a=null,o=!1,s=()=>{a!=null&&(window.clearInterval(a),a=null)};e.addDestroyFunc(s);let c=()=>{let e=Date.now()-i>r;(t()||e)&&(n(),o=!0,s())};c(),o||(a=window.setInterval(c,10))}var Zi=new Set([`__proto__`,`constructor`,`prototype`]);function Qi(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(let n of Object.keys(e).filter(e=>!Zi.has(e)))t(n,e[n])}}function $i(e,t,n=!0,r=!1){P(t)&&Qi(t,(t,i)=>{let a=e[t];a!==i&&(r&&a==null&&typeof i==`object`&&i&&i.constructor===Object&&(a={},e[t]=a),ea(i)&&ea(a)&&!Array.isArray(a)?$i(a,i,n,r):(n||i!==void 0)&&(e[t]=i))})}function ea(e){return typeof e==`object`&&!!e}var ta=class e{static applyGlobalGridOptions(t){if(!e.gridOptions)return{...t};let n={};return $i(n,e.gridOptions,!0,!0),e.mergeStrategy===`deep`?$i(n,t,!0,!0):n={...n,...t},e.gridOptions.context&&(n.context=e.gridOptions.context),t.context&&(e.mergeStrategy===`deep`&&n.context&&$i(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(e.mergeStrategy===`deep`){let r=ra(t);if(r&&typeof r==`object`&&typeof n==`object`)return e.applyGlobalGridOptions({[t]:n})[t]}return n}};ta.gridOptions=void 0,ta.mergeStrategy=`shallow`;var na=ta;function ra(e){return na.gridOptions?.[e]}var ia={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:`hover`,tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:`standard`,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:`	`,suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:`never`,pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:`normal`,ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,refreshAfterGroupEdit:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:`singleColumn`,groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:`never`,suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:`clientSide`,asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:`_`,viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:`xy`,suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:`new`,reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,enableFilterHandlers:!1},aa=`https://www.ag-grid.com`;function oa(e,t,...n){e.get(`debug`)&&console.log(`AG Grid: `+t,...n)}function sa(e,...t){Wi(()=>console.warn(`AG Grid: `+e,...t),e+t?.join(``))}function ca(e,...t){Wi(()=>console.error(`AG Grid: `+e,...t),e+t?.join(``))}var la=new Set,ua={},da={},fa,pa=!1,ma=!1,ha=!1;function ga(e){let[t,n]=e.version.split(`.`)||[],[r,i]=fa.split(`.`)||[];return t===r&&n===i}function _a(e){fa||=e.version;let t=e=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${e} Please update all modules to the same version.`;e.version?ga(e)||ca(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${fa}.`)):ca(t(`'${e.moduleName}' is incompatible.`));let n=e.validate?.();n&&!n.isValid&&ca(`${n.message}`)}function va(e,t,n=!1){n||(pa=!0),_a(e);let r=e.rowModels??[`all`];la.add(e);let i;t===void 0?i=ua:(ma=!0,da[t]===void 0&&(da[t]={}),i=da[t]);for(let t of r)i[t]===void 0&&(i[t]={}),i[t][e.moduleName]=e;if(e.dependsOn)for(let r of e.dependsOn)va(r,t,n)}function ya(e){delete da[e]}function ba(e,t,n){let r=n=>!!ua[n]?.[e]||!!da[t]?.[n]?.[e];return r(n)||r(`all`)}function xa(){return ma}function Sa(e,t){let n=da[e]??{};return[...Object.values(ua.all??{}),...Object.values(n.all??{}),...Object.values(ua[t]??{}),...Object.values(n[t]??{})]}function Ca(){return new Set(la)}function wa(e,t){let n=da[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function Ta(){return pa}function Ea(){return ha}var Da=class{static register(e){va(e,void 0)}static registerModules(e){for(let t of e)va(t,void 0)}},R=`35.0.0`,Oa=2e3,ka=100,Aa=`_version_`,ja=null,Ma=`${aa}/javascript-data-grid`;function Na(e){ja=e}function Pa(e){Ma=e}function Fa(e,t,n){return ja?.(e,t)??[Ua(e,t,n)]}function Ia(e,t,n,r,i){e(`${r?`warning`:`error`} #${t}`,...Fa(t,n,i))}function La(e){if(!e)return String(e);let t={};for(let n of Object.keys(e))typeof e[n]!=`object`&&typeof e[n]!=`function`&&(t[n]=e[n]);return JSON.stringify(t)}function Ra(e){let t=e;return e instanceof Error?t=e.toString():typeof e==`object`&&(t=La(e)),t}function za(e){return e===void 0?`undefined`:e===null?`null`:e}function Ba(e,t){return`${e}?${t.toString()}`}function Va(e,t,n){let r=Array.from(t.entries()).sort((e,t)=>t[1].length-e[1].length),i=Ba(e,t);for(let[a,o]of r){if(a===Aa)continue;let r=i.length-n;if(r<=0)break;let s=r+3,c=o.length-s>ka?o.slice(0,o.length-s)+`...`:o.slice(0,ka)+`...`;t.set(a,c),i=Ba(e,t)}return i}function Ha(e,t){let n=new URLSearchParams;if(n.append(Aa,R),t)for(let e of Object.keys(t))n.append(e,Ra(t[e]));let r=`${Ma}/errors/${e}`,i=Ba(r,n);return i.length<=Oa?i:Va(r,n,Oa)}var Ua=(e,t,n)=>{let r=Ha(e,t),i=`${n?n+` 
`:``}Visit ${r}`;return Ea()?i:`${i}${n?``:` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function z(...e){Ia(sa,e[0],e[1],!0)}function B(...e){Ia(ca,e[0],e[1],!1)}function Wa(e,t,n){Ia(ca,e,t,!1,n)}function Ga(e,t){let n=t[0];return`error #${n} `+Fa(n,t[1],e).join(` `)}function Ka(...e){return Ga(void 0,e)}function qa(e,t){return e.get(`rowModelType`)===t}function Ja(e,t){return qa(e,`clientSide`)}function Ya(e,t){return qa(e,`serverSide`)}function Xa(e,t){return e.get(`domLayout`)===t}function Za(e){return Oo(e)!==void 0}function Qa(e){return typeof e.get(`getRowHeight`)==`function`}function $a(e,t){return t?!e.get(`enableStrictPivotColumnOrder`):e.get(`maintainColumnOrder`)}function eo({gos:e,formula:t}){let n=e.get(`rowNumbers`);return n||!!t?.active&&n!==!1}function to(e,t,n=!1,r){let{gos:i,environment:a}=e;if(r??=a.getDefaultRowHeight(),Qa(i)){if(n)return{height:r,estimated:!0};let e={node:t,data:t.data},a=i.getCallback(`getRowHeight`)(e);if(io(a))return a===0&&z(23),{height:Math.max(1,a),estimated:!1}}if(t.detail&&i.get(`masterDetail`))return no(i);let o=i.get(`rowHeight`);return{height:o&&io(o)?o:r,estimated:!1}}function no(e){if(e.get(`detailRowAutoHeight`))return{height:1,estimated:!1};let t=e.get(`detailRowHeight`);return io(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function ro(e){let{environment:t,gos:n}=e,r=n.get(`rowHeight`);if(!r||Kn(r))return t.getDefaultRowHeight();let i=t.refreshRowHeightVariable();return i===-1?(z(24),t.getDefaultRowHeight()):i}function io(e){return!isNaN(e)&&typeof e==`number`&&isFinite(e)}function ao(e,t,n){let r=t[e.getDomDataKey()];return r?r[n]:void 0}function oo(e,t,n,r){let i=e.getDomDataKey(),a=t[i];Kn(a)&&(a={},t[i]=a),a[n]=r}function so(e){return e.get(`ensureDomOrder`)?!1:e.get(`animateRows`)}function co(e){return!(e.get(`paginateChildRows`)||e.get(`groupHideOpenParents`)||Xa(e,`print`))}function lo(e){return!e.get(`autoGroupColumnDef`)?.comparator&&!e.get(`treeData`)}function uo(e){let t=e.get(`groupAggFiltering`);if(typeof t==`function`)return e.getCallback(`groupAggFiltering`);if(t===!0)return()=>!0}function fo(e){return e.get(`grandTotalRow`)}function V(e,t){return t?!1:e.get(`groupDisplayType`)===`groupRows`}function po(e,t,n){return!!t.group&&!t.footer&&V(e,n)}function mo(e){let t=e.getCallback(`getRowId`);return t===void 0?t:e=>{let n=t(e);return typeof n!=`string`&&(Wi(()=>z(25,{id:n}),`getRowIdString`),n=String(n)),n}}function ho(e,t){let n=e.get(`groupHideParentOfSingleChild`);return!!(n===!0||n===`leafGroupsOnly`&&t.leafGroup||e.get(`groupRemoveSingleChildren`)||e.get(`groupRemoveLowestSingleChildren`)&&t.leafGroup)}function go(e){let t=e.get(`maxConcurrentDatasourceRequests`);return t>0?t:void 0}function _o(e){return e?.checkboxes??!0}function vo(e){return e?.mode===`multiRow`&&(e.headerCheckbox??!0)}function yo(e){if(typeof e==`object`)return e.checkboxLocation??`selectionColumn`}function bo(e){return e?.hideDisabledCheckboxes??!1}function xo(e){return typeof e.get(`rowSelection`)!=`string`}function So(e){let t=e.get(`cellSelection`);return t===void 0?e.get(`enableRangeSelection`):!!t}function Co(e){let t=e.get(`cellSelection`)??!1;return(typeof t==`object`&&t.enableColumnSelection)??!1}function wo(e){let t=e.get(`rowSelection`)??`single`;if(typeof t==`string`){let t=e.get(`suppressRowClickSelection`),n=e.get(`suppressRowDeselection`);return t&&n?!1:t?`enableDeselection`:n?`enableSelection`:!0}return t.mode===`singleRow`||t.mode===`multiRow`?t.enableClickSelection??!1:!1}function To(e){let t=wo(e);return t===!0||t===`enableSelection`}function Eo(e){let t=wo(e);return t===!0||t===`enableDeselection`}function Do(e){let t=e.get(`rowSelection`);return typeof t==`string`?e.get(`isRowSelectable`):t?.isRowSelectable}function Oo(e){let t=`beanName`in e&&e.beanName===`gos`?e.get(`rowSelection`):e.rowSelection;if(typeof t==`string`)switch(t){case`multiple`:return`multiRow`;case`single`:return`singleRow`;default:return}switch(t?.mode){case`multiRow`:case`singleRow`:return t.mode;default:return}}function ko(e){return Oo(e)===`multiRow`}function Ao(e){let t=e.get(`rowSelection`);return typeof t==`string`?e.get(`rowMultiSelectWithClick`):t?.enableSelectionWithoutKeys??!1}function jo(e){let t=e.get(`rowSelection`);if(typeof t==`string`){let t=e.get(`groupSelectsChildren`),n=e.get(`groupSelectsFiltered`);return t&&n?`filteredDescendants`:t?`descendants`:`self`}return t?.mode===`multiRow`?t.groupSelects:void 0}function Mo(e,t=!0){let n=e.get(`rowSelection`);return typeof n==`object`?n.mode===`multiRow`?n.selectAll:`all`:t?`all`:void 0}function No(e){let t=e.get(`rowSelection`);return typeof t==`string`?!1:t?.mode===`multiRow`?t.ctrlASelectsRows??!1:!1}function Po(e){let t=jo(e);return t===`descendants`||t===`filteredDescendants`}function Fo(e){let t=e.get(`rowSelection`);return typeof t==`object`&&t.masterSelects||`self`}function Io(e){return e.isModuleRegistered(`SetFilter`)&&!e.get(`suppressSetFilterByDefault`)}function Lo(e){return e.get(`columnMenu`)===`legacy`}function Ro(e){return!Lo(e)}function zo(e){return!e||e.length<2?e:`on`+e[0].toUpperCase()+e.substring(1)}function Bo(e,t,n){typeof e!=`object`&&(e={});let r={...e};for(let e of n){let n=t[e];n!==void 0&&(r[e]=n)}return r}function Vo(e,t){if(!e)return;let n={},r=!1;for(let t of Object.keys(e))n[t]=e[t],r=!0;if(!r)return;let i={type:`gridOptionsChanged`,options:n};t.dispatchEvent(i);let a={type:`componentStateChanged`,...n};t.dispatchEvent(a)}function H(e,t){return e.addCommon(t)}function Ho(e,t){return e[t]??e.gridOptions?.[t]??ra(t)??ia[t]}function Uo({gos:e},t){return t.button===2||t.ctrlKey&&e.get(`allowContextMenuWithControlKey`)}var Wo={resizable:!0,sortable:!0},Go=0;function Ko(){return Go++}function qo(e){return e instanceof Xo}var Jo=[`asc`,`desc`,null],Yo=[{type:`absolute`,direction:`asc`},{type:`absolute`,direction:`desc`},null],Xo=class extends L{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=Ko(),this.autoHeaderHeight=null,this.sortDef=Zo(),this._wasSortExplicitlyRemoved=!1,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.formulaRef=null,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Wn,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=$n(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}initState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);let i=e.hide;i===void 0?this.visible=!e.initialHide:this.visible=!i,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){let r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent(`colDefChanged`,n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.initState(),this.initMinAndMaxWidths(),this.resetActualWidth(`gridInitializing`),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get(`suppressFieldDotNotation`);this.fieldContainsDots=P(t)&&t.includes(`.`)&&!r,this.tooltipFieldContainsDots=P(n)&&n.includes(`.`)&&!r}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??2**53-1}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){let e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:t=>{let n=e.recreateColDef(this.colDef);this.setColDef(n,n,t.source)}})}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,n=e.width,r=e.initialWidth;return t=n??r??200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return H(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue(`resizable`)}getColDefValue(e){return this.colDef[e]??Wo[e]}isColumnFunc(e,t){return typeof t==`boolean`?t:typeof t==`function`?t(this.createColumnFunctionCallbackParams(e)):!1}createColumnEvent(e,t){return H(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sortDef.direction}getSortDef(){return this.sortDef.direction?this.sortDef:null}getColDefAllowedSortTypes(){let e=[],{sort:t,initialSort:n}=this.colDef,r=t===null?t:rs(t?.type),i=n===null?n:rs(n?.type);return r&&e.push(r),i&&e.push(i),e}getSortingOrder(){let e=this.getColDefAllowedSortTypes().includes(`absolute`)?Yo:Jo;return(this.colDef.sortingOrder??this.gos.get(`sortingOrder`)??e).map(e=>Zo(e))}getAvailableSortTypes(){let e=this.getSortingOrder().reduce((e,t)=>(t.direction&&e.push(t.type),e),this.getColDefAllowedSortTypes());return new Set(e)}get wasSortExplicitlyRemoved(){return this._wasSortExplicitlyRemoved}setSortDef(e,t=!1){t||(this._wasSortExplicitlyRemoved=!e.direction),this.sortDef=e}isSortable(){return!!this.getColDefValue(`sortable`)}isSortAscending(){return this.getSort()===`asc`}isSortDescending(){return this.getSort()===`desc`}isSortNone(){return Kn(this.getSort())}isSorting(){return P(this.getSort())}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent(`leftChanged`,t))}isFilterActive(){return this.filterActive}isHovered(){return z(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent(`firstRightPinnedChanged`,t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent(`lastLeftPinnedChanged`,t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned===`left`||this.pinned===`right`}isPinnedLeft(){return this.pinned===`left`}isPinnedRight(){return this.pinned===`right`}getPinned(){return this.pinned}setVisible(e,t){let n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent(`visibleChanged`,t)),this.dispatchStateUpdatedEvent(`hide`)}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return H(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Kn(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Kn(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!==`flex`&&t!==`gridInitializing`&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent(`width`)}fireColumnWidthChangedEvent(e){this.dispatchColEvent(`widthChanged`,e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}isAllowFormula(){return this.colDef.allowFormula===!0}dispatchColEvent(e,t,n){let r=this.createColumnEvent(e,t);n&&$i(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:`columnStateUpdated`,key:e})}};function Zo(e){return es(e)?{direction:e.direction,type:e.type}:{direction:ns(e),type:rs(e)}}function Qo(e){return e===`asc`||e===`desc`||e===null}function $o(e){return e===`default`||e===`absolute`}function es(e){if(!e||typeof e!=`object`)return!1;let t=e;return $o(t.type)&&Qo(t.direction)}function ts(e,t){return e?t?e.type===t.type&&e.direction===t.direction:e?e.direction===null:!0:t?t.direction===null:!0}function ns(e){return Qo(e)?e:null}function rs(e){return $o(e)?e:`default`}function is(e){return e instanceof as}var as=class extends L{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=Ko(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:`expandedChanged`})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(let t of this.children)qo(t)?e(t):is(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(let t of this.children)qo(t)?e.push(t):is(t)&&t.addLeafColumns(e)}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);for(let t of this.getLeafColumns())t.__addEventListener(`visibleChanged`,e);this.expandableListenerRemoveCallback=()=>{for(let t of this.getLeafColumns())t.__removeEventListener(`visibleChanged`,e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1,r=this.findChildrenRemovingPadding();for(let i=0,a=r.length;i<a;i++){let a=r[i];if(!a.isVisible())continue;let o=a.getColumnGroupShow();o===`open`?(e=!0,n=!0):o===`closed`?(t=!0,n=!0):(e=!0,t=!0)}let i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:`expandableChanged`}))}findChildrenRemovingPadding(){let e=[],t=n=>{for(let r of n)is(r)&&r.isPadding()?t(r.children):e.push(r)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},os={numericColumn:{headerClass:`ag-right-aligned-header`,cellClass:`ag-right-aligned-cell`},rightAligned:{headerClass:`ag-right-aligned-header`,cellClass:`ag-right-aligned-cell`}};function ss(e,t,n){let r={},i=e.gos;return Object.assign(r,i.get(`defaultColGroupDef`)),Object.assign(r,t),i.validateColDef(r,n),r}var cs=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=qn(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+=`_`+n):r=n,!this.existingKeys[r]){let t=String(r);return e&&n>0&&z(273,{providedId:e,usedId:t}),this.existingKeys[t]=!0,t}n++}}};Object.freeze([]);function U(e){if(e?.length)return e[e.length-1]}function ls(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;let r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i]&&!n?.(e[i],t[i]))return!1;return!0}function us(e,t){if(e){for(let n of e)if(t(n))return!0}}function ds(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}function fs(e,t,n){for(let n=0;n<t.length;n++)ds(e,t[n]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var ps=`ag-Grid-AutoColumn`,ms=`ag-Grid-SelectionColumn`;function hs(e){let t=[],n=e=>{for(let r=0;r<e.length;r++){let i=e[r];qo(i)?t.push(i):is(i)&&n(i.getChildren())}};return n(e),t}function gs(e){return e.reduce((e,t)=>e+t.getActualWidth(),0)}function _s(e,t,n){let r={};if(!t)return;Hs(null,t,e=>{r[e.getInstanceId()]=e}),n&&Hs(null,n,e=>{r[e.getInstanceId()]=null});let i=Object.values(r).filter(e=>e!=null);e.context.destroyBeans(i)}function vs(e){return e.getId().startsWith(ps)}function ys(e){return(typeof e==`string`?e:`getColId`in e?e.getColId():e.colId)?.startsWith(`ag-Grid-SelectionColumn`)??!1}function bs(e){return(typeof e==`string`?e:`getColId`in e?e.getColId():e.colId)?.startsWith(`ag-Grid-RowNumbersColumn`)??!1}function xs(e){return ys(e)||bs(e)}function Ss(e){let t=[];return e instanceof Array?t=e:typeof e==`string`&&(t=e.split(`,`)),t}function Cs(e,t){return ls(e,t,(e,t)=>e.getColId()===t.getColId())}function ws(e){e.map={};for(let t of e.list)e.map[t.getId()]=t}function Ts(e){return e===`optionsUpdated`?`gridOptionsChanged`:e}function Es(e,t){let n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var Ds=(e,t)=>(n,r)=>{let i={value1:void 0,value2:void 0},a=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],a=!0),P(r)&&e[r]!==void 0&&(i.value2=e[r],a=!0)),!a&&t&&(t[n]!==void 0&&(i.value1=t[n]),P(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function Os(e,t){let n={...e,sort:void 0,colId:t},r=ks(e);return r&&(n.sort=r.direction,n.sortType=r.type),n}function ks(e){let{sort:t,initialSort:n}=e,r=es(t)||Qo(t),i=es(n)||Qo(n);return r?Zo(t):i?Zo(n):null}var As=(e,t)=>{is(e)&&e.setupExpandable(),e.originalParent=t};function js(e,t=null,n,r,i){let a=new cs,{existingCols:o,existingGroups:s,existingColKeys:c}=Ms(r);a.addExistingKeys(c);let l=Ns(e,t,0,n,o,a,s,i),{colGroupSvc:u}=e,d=u?.findMaxDepth(l,0)??0,f=u?u.balanceColumnTree(l,0,d,a):l;return Hs(null,f,As),{columnTree:f,treeDepth:d}}function Ms(e){let t=[],n=[],r=[];return e&&Hs(null,e,e=>{if(is(e)){let t=e;n.push(t)}else{let n=e;r.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function Ns(e,t,n,r,i,a,o,s){if(!t)return[];let{colGroupSvc:c}=e,l=Array(t.length);for(let u=0;u<l.length;u++){let d=t[u];c&&Vs(d)?l[u]=c.createProvidedColumnGroup(r,d,n,i,a,o,s):l[u]=Ps(e,r,d,i,a,s)}return l}function Ps(e,t,n,r,i,a){let o=Ls(n,r);o&&r?.splice(o.idx,1);let s=o?.column;if(s){let t=Rs(e,n,s.getColId());s.setColDef(t,n,a),Is(e,s,t,a)}else{let r=i.getUniqueKey(n.colId,n.field);s=new Xo(Rs(e,n,r),n,r,t),e.context.createBean(s)}return e.dataTypeSvc?.addColumnListeners(s),s}function Fs(e,t,n,r,i,a,o,s){let{sortSvc:c,pinnedCols:l,colFlex:u}=e;n!==void 0&&t.setVisible(!n,s),c&&(c.updateColSort(t,r,s),i!==void 0&&c.setColSortIndex(t,i)),a!==void 0&&l?.setColPinned(t,a),o!==void 0&&u?.setColFlex(t,o)}function Is(e,t,n,r){Fs(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);let i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{let e=t.getActualWidth();t.setActualWidth(e,r)}}function Ls(e,t){if(t)for(let n=0;n<t.length;n++){let r=t[n].getUserProvidedColDef();if(r){if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}}function Rs(e,t,n,r){let{gos:i,dataTypeSvc:a}=e,o={};$i(o,i.get(`defaultColDef`),!1,!0);let s=zs(e,o,t,n);s&&Bs(e,s,o);let c=o.cellDataType;$i(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);let l=i.get(`autoGroupColumnDef`),u=lo(i);return t.rowGroup&&l&&u&&$i(o,{sort:l.sort,initialSort:l.initialSort},!1,!0),a?.postProcess(o),a?.validateColDef(o),i.validateColDef(o,n,r),o}function zs(e,t,n,r){let i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),a=n.type??i??t.type;return t.type=a,a?Ss(a):void 0}function Bs(e,t,n){if(!t.length)return;let r=Object.assign({},os),i=e.gos.get(`columnTypes`)||{};for(let e of Object.keys(i)){let t=i[e];e in r?z(34,{key:e}):(t.type&&z(35),r[e]=t)}for(let e of t){let t=r[e.trim()];t?$i(n,t,!1,!0):z(36,{t:e})}}function Vs(e){return e.children!==void 0}function Hs(e,t,n){if(t)for(let r=0;r<t.length;r++){let i=t[r];is(i)&&Hs(i,i.getChildren(),n),n(i,e)}}function Us(e,t){let n=[],r=[],i=[];return e.forEach(e=>{let t=e.getColDef().lockPosition;t===`right`?i.push(e):t===`left`||t===!0?n.push(e):r.push(e)}),t.get(`enableRtl`)?[...i,...r,...n]:[...n,...r,...i]}function Ws(e,t){let n=!0;return Hs(null,t,t=>{if(!is(t))return;let r=t;if(!r.getColGroupDef()?.marryChildren)return;let i=[];for(let t of r.getLeafColumns()){let n=e.indexOf(t);i.push(n)}Math.max.apply(Math,i)-Math.min.apply(Math,i)>r.getLeafColumns().length-1&&(n=!1)}),n}function Gs(e,t){if(!e||e.length==0)return;let n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function Ks(e,t,n){if(!t.length)return;let r=t.length===1?t[0]:null,i=Gs(t,e=>e.getPinned());e.dispatchEvent({type:`columnPinned`,pinned:i??null,columns:t,column:r,source:n})}function qs(e,t,n){if(!t.length)return;let r=t.length===1?t[0]:null,i=Gs(t,e=>e.isVisible());e.dispatchEvent({type:`columnVisible`,visible:i,columns:t,column:r,source:n})}function Js(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function Ys(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:`columnResized`,columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function Xs(e,t,n){let{colModel:r,rowGroupColsSvc:i,pivotColsSvc:a,autoColSvc:o,selectionColSvc:s,colAnimation:c,visibleCols:l,pivotResultCols:u,environment:d,valueColsSvc:f,eventSvc:p,gos:m}=e,h=r.getColDefCols()??[],g=s?.getColumns();if(!h.length&&!g?.length)return!1;if(t?.state&&!t.state.forEach)return z(32),!1;let _=(r,o,s,c,l)=>{if(!r)return;let u=Ds(o,t.defaultState),p=u(`flex`).value1,m=u(`sort`).value1,h=u(`sortType`).value1,g=Qo(m)||$o(h),_=rs(h),v=ns(m),y=g?{type:_,direction:v}:void 0;if(Fs(e,r,u(`hide`).value1,y,u(`sortIndex`).value1,u(`pinned`).value1,p,n),p==null){let e=u(`width`).value1;if(e!=null){let t=r.getColDef().minWidth??d.getDefaultColumnMinWidth();t!=null&&e>=t&&r.setActualWidth(e,n)}}l||!r.isPrimary()||(f?.syncColumnWithState(r,n,u),i?.syncColumnWithState(r,n,u,s),a?.syncColumnWithState(r,n,u,c))},v=(c,u,d)=>{let f=Qs(e,n),h=u.slice(),g={},v={},y=[],b=[],x=[],S=0,C=i?.columns.slice()??[],w=a?.columns.slice()??[];for(let e of c){let t=e.colId;if(t.startsWith(`ag-Grid-AutoColumn`)){y.push(e),x.push(e);continue}if(ys(t)){b.push(e),x.push(e);continue}let n=d(t);n?(_(n,e,g,v,!1),ds(h,n)):(x.push(e),S+=1)}let T=e=>_(e,null,g,v,!1);h.forEach(T),i?.sortColumns(ic.bind(i,g,C)),a?.sortColumns(ic.bind(a,v,w)),r.refreshCols(!1,n);let E=(e,t,n=[])=>{for(let r of t){let t=e(r.colId);ds(n,t),_(t,r,null,null,!0)}n.forEach(T)};return E(e=>o?.getColumn(e)??null,y,o?.getColumns()?.slice()),E(e=>s?.getColumn(e)??null,b,s?.getColumns()?.slice()),tc(t,r,m),l.refresh(n),p.dispatchEvent({type:`columnEverythingChanged`,source:n}),f(),{unmatchedAndAutoStates:x,unmatchedCount:S}};c?.start();let{unmatchedAndAutoStates:y,unmatchedCount:b}=v(t.state||[],h,e=>r.getColDefCol(e));return(y.length>0||P(t.defaultState))&&(b=v(y,u?.getPivotResultCols()?.list??[],e=>u?.getPivotResultCol(e)??null).unmatchedCount),c?.finish(),b===0}function Zs(e,t){let{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:a,gos:o}=e,s=n.getColDefCols();if(!s?.length)return;let c=hs(n.getColDefColTree()),l=[],u=1e3,d=1e3,f=e=>{let t=ec(e);Kn(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=u++),Kn(t.pivotIndex)&&t.pivot&&(t.pivotIndex=d++),l.push(t)};r?.getColumns()?.forEach(f),i?.getColumns()?.forEach(f),c?.forEach(f),Xs(e,{state:l},t);let p=r?.getColumns()??[];Xs(e,{state:[...i?.getColumns()??[],...p,...s].map(e=>({colId:e.colId})),applyOrder:!0},t),a.dispatchEvent(H(o,{type:`columnsReset`,source:t}))}function Qs(e,t){let{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:a,sortSvc:o,eventSvc:s}=e,c={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},l=$s(e),u={};for(let e of l)u[e.colId]=e;return()=>{let i=(e,n,r,i)=>{if(ls(n.map(i),r.map(i)))return;let a=new Set(n);for(let e of r)a.delete(e)||a.add(e);let o=[...a];s.dispatchEvent({type:e,columns:o,column:o.length===1?o[0]:null,source:t})},d=e=>{let t=[];return a.forAllCols(n=>{let r=u[n.getColId()];r&&e(r,n)&&t.push(n)}),t},f=e=>e.getColId();i(`columnRowGroupChanged`,c.rowGroupColumns,n?.columns??[],f),i(`columnPivotChanged`,c.pivotColumns,r?.columns??[],f);let p=d((e,t)=>{let n=e.aggFunc!=null,r=n!=t.isValueActive(),i=n&&e.aggFunc!=t.getAggFunc();return r||i});p.length>0&&Js(s,`columnValueChanged`,p,t),Ys(s,d((e,t)=>e.width!=t.getActualWidth()),!0,t),Ks(s,d((e,t)=>e.pinned!=t.getPinned()),t),qs(s,d((e,t)=>e.hide==t.isVisible()),t);let m=d((e,t)=>!ts(t.getSortDef(),{type:rs(e.sortType),direction:ns(e.sort)})||e.sortIndex!=t.getSortIndex());m.length>0&&o?.dispatchSortChangedEvents(t,m),rc(l,$s(e),t,a,s)}}function $s(e){let{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e;if(Kn(t.getColDefCols())||!t.isAlive())return[];let i=n?.columns,a=r?.columns,o=[],s=e=>{let t=e.isRowGroupActive()&&i?i.indexOf(e):null,n=e.isPivotActive()&&a?a.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,s=e.getSortIndex()==null?null:e.getSortIndex();o.push({colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:e.getSort(),sortType:e.getSortDef()?.type,sortIndex:s,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:e.getFlex()??null})};t.forAllCols(e=>s(e));let c=new Map(t.getCols().map((e,t)=>[e.getColId(),t]));return o.sort((e,t)=>(c.has(e.colId)?c.get(e.colId):-1)-(c.has(t.colId)?c.get(t.colId):-1)),o}function ec(e){let t=(e,t)=>e??t??null,n=e.getColDef(),r=Zo(t(n.sort,n.initialSort)),i=r.direction,a=r.type,o=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),c=t(n.pinned,n.initialPinned),l=t(n.width,n.initialWidth),u=t(n.flex,n.initialFlex),d=t(n.rowGroupIndex,n.initialRowGroupIndex),f=t(n.rowGroup,n.initialRowGroup);d==null&&!f&&(d=null,f=null);let p=t(n.pivotIndex,n.initialPivotIndex),m=t(n.pivot,n.initialPivot);p==null&&!m&&(p=null,m=null);let h=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortType:a,sortIndex:o,hide:s,pinned:c,width:l,flex:u,rowGroup:f,rowGroupIndex:d,pivot:m,pivotIndex:p,aggFunc:h}}function tc(e,t,n){if(!e.applyOrder||!e.state)return;let r=[];for(let t of e.state)t.colId!=null&&r.push(t.colId);nc(t.cols,r,t,n)}function nc(e,t,n,r){if(e==null)return;let i=[],a={};for(let n of t){if(a[n])continue;let t=e.map[n];t&&(i.push(t),a[n]=!0)}let o=0;for(let t of e.list){let e=t.getColId();a[e]??(e.startsWith(`ag-Grid-AutoColumn`)?i.splice(o++,0,t):i.push(t))}if(i=Us(i,r),!Ws(i,n.getColTree())){z(39);return}e.list=i}function rc(e,t,n,r,i){let a={};for(let e of t)a[e.colId]=e;let o={};for(let t of e)a[t.colId]&&(o[t.colId]=!0);let s=e.filter(e=>o[e.colId]),c=t.filter(e=>o[e.colId]),l=[];c.forEach((e,t)=>{let n=s?.[t];if(n&&n.colId!==e.colId){let e=r.getCol(n.colId);e&&l.push(e)}}),l.length&&i.dispatchEvent({type:`columnMoved`,columns:l,column:l.length===1?l[0]:null,finished:!0,source:n})}var ic=(e,t,n,r)=>{let i=e[n.getId()],a=e[r.getId()],o=i!=null,s=a!=null;if(o&&s)return i-a;if(o)return-1;if(s)return 1;let c=t.indexOf(n),l=t.indexOf(r),u=c>=0;return u&&l>=0?c-l:u?-1:1},ac=class extends L{constructor(){super(...arguments),this.beanName=`colModel`,this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get(`pivotMode`),this.addManagedPropertyListeners([`groupDisplayType`,`treeData`,`treeDataDisplayType`,`groupHideOpenParents`,`rowNumbers`,`hidePaddedHeaderRows`],e=>this.refreshAll(Ts(e.source))),this.addManagedPropertyListeners([`defaultColDef`,`defaultColGroupDef`,`columnTypes`,`suppressFieldDotNotation`],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener(`pivotMode`,e=>this.setPivotMode(this.gos.get(`pivotMode`),Ts(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:a,valueColsSvc:o,visibleCols:s,eventSvc:c,groupHierarchyColSvc:l}=t,u=this.colDefs?Qs(t,e):void 0;n?.expire();let d=this.colDefCols?.list,f=this.colDefCols?.tree,p=js(t,this.colDefs,!0,f,e);_s(t,this.colDefCols?.tree,p.columnTree);let m=p.columnTree,h=p.treeDepth,g=hs(m),_={};for(let e of g)_[e.getId()]=e;this.colDefCols={tree:m,treeDepth:h,list:g,map:_},this.createColumnsForService([l],this.colDefCols,e),i?.extractCols(e,d),a?.extractCols(e,d),o?.extractCols(e,d),this.ready=!0,this.changeEventsDispatching=!0,this.refreshCols(!0,e),this.changeEventsDispatching=!1,s.refresh(e),c.dispatchEvent({type:`columnEverythingChanged`,source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),c.dispatchEvent({type:`newColumnsLoaded`,source:e}),e===`gridInitializing`&&r?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;let n=this.cols?.tree;this.saveColOrder();let{autoColSvc:r,selectionColSvc:i,rowNumbersSvc:a,quickFilter:o,pivotResultCols:s,showRowGroupCols:c,rowAutoHeight:l,visibleCols:u,colViewport:d,eventSvc:f,formula:p}=this.beans,m=this.selectCols(s,this.colDefCols);p?.setFormulasActive(m),this.createColumnsForService([r,i,a],m,t);let h=$a(this.gos,this.showingPivotResult);(!e||h)&&this.restoreColOrder(m),this.positionLockedCols(m),c?.refresh(),o?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(m),u.clear(),d.clear(),ls(n,this.cols.tree)||f.dispatchEvent({type:`gridColumnsChanged`})}createColumnsForService(e,t,n){for(let r of e)r&&(r.createColumns(t,e=>{this.lastOrder=e(this.lastOrder),this.lastPivotOrder=e(this.lastPivotOrder)},n),r.addColumns(t))}selectCols(e,t){let n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;let{map:r,list:i,tree:a,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:a.slice(),treeDepth:o},n&&(n.list.some(e=>this.cols?.map[e.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let{beans:e,showingPivotResult:t,cols:n}=this,{valueColsSvc:r,selectionColSvc:i}=e,a=this.isPivotMode()&&!t,o=i?.isSelectionColumnEnabled(),s=eo(e),c=r?.columns;return n.list.filter(e=>{let t=vs(e);if(a){let n=c?.includes(e);return t||n||o&&ys(e)||s&&bs(e)}else return t||e.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Xs(this.beans,{state:e.map(e=>({colId:typeof e==`string`?e:e.getColId(),hide:!t}))},n)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let n=t.filter(t=>e.map[t.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}let r=e=>{let t=e.getOriginalParent();return t?t.getChildren().length>1?!0:r(t):!1};if(!n.some(e=>r(e))){let t=new Set(n);for(let r of e.list)t.has(r)||n.push(r);e.list=n;return}let i=new Map;for(let e=0;e<n.length;e++){let t=n[e];i.set(t,e)}let a=e.list.filter(e=>!i.has(e));if(a.length===0){e.list=n;return}let o=(e,t)=>{let n=t?t.getOriginalParent():e.getOriginalParent();if(!n)return null;let r=null,a=null;for(let o of n.getChildren())if(!(o===t||o===e)){if(o instanceof Xo){let e=i.get(o);if(e==null)continue;(r==null||r<e)&&(r=e,a=o);continue}o.forEachLeafColumn(e=>{let t=i.get(e);t!=null&&(r==null||r<t)&&(r=t,a=e)})}return a??o(e,n)},s=[],c=new Map;for(let e of a){let t=o(e,null);if(t==null){s.push(e);continue}let n=c.get(t);n===void 0?c.set(t,e):Array.isArray(n)?n.push(e):c.set(t,[n,e])}let l=Array(e.list.length),u=l.length-1;for(let e=s.length-1;e>=0;e--)l[u--]=s[e];for(let e=n.length-1;e>=0;e--){let t=n[e],r=c.get(t);if(r)if(Array.isArray(r))for(let e=r.length-1;e>=0;e--){let t=r[e];l[u--]=t}else l[u--]=r;l[u--]=t}e.list=l}positionLockedCols(e){e.list=Us(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);let{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:`columnPivotModeChanged`})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=Ts(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){_s(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:n,selectionColSvc:r,groupHierarchyColSvc:i}=this.beans;us(this.colDefCols?.list,e)||us(n?.columns?.list,e)||us(r?.columns?.list,e)||us(i?.columns?.list,e)||us(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(e=>this.getCol(e)).filter(e=>e!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;let{map:n,list:r}=t;if(typeof e==`string`&&n[e])return n[e];for(let t=0;t<r.length;t++)if(Es(r[t],e))return r[t];let{autoColSvc:i,selectionColSvc:a,groupHierarchyColSvc:o}=this.beans;return i?.getColumn(e)??a?.getColumn(e)??o?.getColumn(e)??null}},oc=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],n;return n=typeof t==`number`?t+1:0,this.existingIds[e]=n,n}},sc=class extends L{};function cc(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}function lc(e){return typeof e?.getGui==`function`}var uc=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(e){if(e.includes(` `)){let n=(e||``).split(` `);if(n.length>1){for(let e of n)this.toggleCss(e,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}}},dc=0,fc=class extends Bi{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=dc++,this.cssManager=new uc(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(e=>[e.selector,e])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e=`component-`+Object.getPrototypeOf(this)?.constructor?.name;for(let t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(gi):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let i=this[t];if(i===null)this[t]=r??e;else{let e=n?.[t];if(!this.suppressDataRefValidation&&!e)throw Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){let n=[];for(let t of e.childNodes??[])n.push(t);for(let r of n){if(!(r instanceof HTMLElement))continue;let n=this.createComponentFromElement(r,e=>{let t=e.getGui();if(t)for(let e of r.attributes??[])t.setAttribute(e.name,e.value)},t);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);let e=Array.prototype.slice.call(r.children);n.addItems(e)}this.swapComponentForNode(n,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)}}createComponentFromElement(e,t,n){let r=e.nodeName,i=this.getDataRefAttribute(e),a=r.indexOf(`AG-`)===0,o=a?this.componentSelectors.get(r):null,s=null;if(o){let e=n&&i?n[i]:void 0;s=new o.component(e),s.setParentComponent(this),this.createBean(s,null,t)}else if(a)throw Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,s),s}swapComponentForNode(e,t,n){let r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e,t){let n=t??this.gos.get(`tabIndex`);e||=[],e.length||e.push(this.getGui());for(let t of e)t.setAttribute(`tabindex`,n.toString())}setTemplate(e,t,n){let r;r=typeof e==`string`||e==null?ii(e):yi(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let e=0;e<t.length;e++){let n=t[e];this.componentSelectors.set(n.selector,n)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||=this.eGui,fi(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){let{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement(`afterbegin`,n)}appendChild(e,t){let{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=t;Ur(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=t;F(this.eGui,e,{skipAriaHidden:n});let r={type:`displayChanged`,visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&=void 0,super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||=[],this.css.push(e)}},pc=class extends fc{};function mc(e){return typeof e==`object`&&!!e.component}function hc(e,t){return new W(n=>{n(window.setInterval(e,t))})}var W=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(e=>this.onDone(e),e=>this.onReject(e))}static all(t){return t.length?new e(e=>{let n=t.length,r=Array(n);t.forEach((t,i)=>{t.then(t=>{r[i]=t,n--,n===0&&e(r)})})}):e.resolve()}static resolve(t=null){return new e(e=>e(t))}then(t){return new e(e=>{this.status===1?e(t(this.resolution)):this.waiters.push(n=>e(t(n)))})}onDone(e){this.status=1,this.resolution=e;for(let t of this.waiters)t(e)}onReject(e){}};function gc(e){return e?e.prototype&&`getGui`in e.prototype:!1}function _c(e,t,n,r){let{name:i}=n,a,o,s,c,l,u;if(t){let n=t,d=n[i+`Selector`],f=d?d(r):null,p=t=>{typeof t==`string`?a=t:t!=null&&t!==!0&&(e.isFrameworkComponent(t)?s=t:o=t)};f?(p(f.component),c=f.params,l=f.popup,u=f.popupPosition):p(n[i])}return{compName:a,jsComp:o,fwComp:s,paramsFromSelector:c,popupFromSelector:l,popupPositionFromSelector:u}}var vc=class extends L{constructor(){super(...arguments),this.beanName=`userCompFactory`}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){let{name:a,cellRenderer:o}=t,{compName:s,jsComp:c,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}=_c(this.beans.frameworkOverrides,e,t,r),p,m,h=e=>{let t=this.registry.getUserComponent(a,e);t&&(c=t.componentFromFramework?void 0:t.component,l=t.componentFromFramework?t.component:void 0,p=t.params,m=t.processParams)};if(s!=null&&h(s),c==null&&l==null&&n!=null&&h(n),c&&o&&!gc(c)&&(c=this.agCompUtils?.adaptFunction(t,c)),!c&&!l){let{validation:e}=this.beans;i&&(s!==n||!n)?s?e?.isProvidedUserComp(s)||B(50,{compName:s}):n?e||B(260,{...this.gos.getModuleErrorParams(),propName:a,compName:n}):B(216,{name:a}):n&&!e&&B(146,{comp:n});return}let g=this.mergeParams(e,t,r,u,p,m),_=c==null,v=c??l;return{componentFromFramework:_,componentClass:v,params:g,type:t,popupFromSelector:d,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(v,_,g,t)}}newAgStackInstance(e,t,n,r){let i=!t,a;a=i?new e:this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(a);let o=a.init?.(n);return o==null?W.resolve(a):o.then(()=>a)}mergeParams(e,t,n,r=null,i,a){let o={...n,...i},s=e?.[t.name+`Params`];return typeof s==`function`?$i(o,s(n)):typeof s==`object`&&$i(o,s),$i(o,r),a?a(o):o}},yc={name:`dateComponent`,mandatoryMethods:[`getDate`,`setDate`],optionalMethods:[`afterGuiAttached`,`setInputPlaceholder`,`setInputAriaLabel`,`setDisabled`,`refresh`]},bc={name:`dragAndDropImageComponent`,mandatoryMethods:[`setIcon`,`setLabel`]},xc={name:`headerComponent`,optionalMethods:[`refresh`]},Sc={name:`innerHeaderComponent`},Cc={name:`innerHeaderGroupComponent`},wc={name:`headerGroupComponent`},Tc={name:`cellRenderer`,optionalMethods:[`refresh`,`afterGuiAttached`],cellRenderer:!0},Ec={name:`loadingCellRenderer`,cellRenderer:!0},Dc={name:`cellEditor`,mandatoryMethods:[`getValue`],optionalMethods:[`isPopup`,`isCancelBeforeStart`,`isCancelAfterEnd`,`getPopupPosition`,`focusIn`,`focusOut`,`afterGuiAttached`,`refresh`]},Oc={name:`tooltipComponent`},kc={name:`filter`,mandatoryMethods:[`isFilterActive`,`doesFilterPass`,`getModel`,`setModel`],optionalMethods:[`afterGuiAttached`,`afterGuiDetached`,`onNewRowsLoaded`,`getModelAsString`,`onFloatingFilterChanged`,`onAnyFilterChanged`,`refresh`]},Ac={name:`floatingFilterComponent`,mandatoryMethods:[`onParentModelChanged`],optionalMethods:[`afterGuiAttached`,`refresh`]},jc={name:`fullWidthCellRenderer`,optionalMethods:[`refresh`,`afterGuiAttached`],cellRenderer:!0},Mc={name:`loadingCellRenderer`,cellRenderer:!0},Nc={name:`groupRowRenderer`,optionalMethods:[`afterGuiAttached`],cellRenderer:!0},Pc={name:`detailCellRenderer`,optionalMethods:[`refresh`],cellRenderer:!0};function Fc(e,t){return e.getCompDetailsFromGridOptions(bc,`agDragAndDropImage`,t,!0)}function Ic(e,t,n){return e.getCompDetails(t,xc,`agColumnHeader`,n)}function Lc(e,t,n){return e.getCompDetails(t,Sc,void 0,n)}function Rc(e,t){let n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,wc,`agColumnGroupHeader`,t)}function zc(e,t,n){return e.getCompDetails(t,Cc,void 0,n)}function Bc(e,t){return e.getCompDetailsFromGridOptions(jc,void 0,t,!0)}function Vc(e,t){return e.getCompDetailsFromGridOptions(Mc,`agLoadingCellRenderer`,t,!0)}function Hc(e,t){return e.getCompDetailsFromGridOptions(Nc,`agGroupRowRenderer`,t,!0)}function Uc(e,t){return e.getCompDetailsFromGridOptions(Pc,`agDetailCellRenderer`,t,!0)}function Wc(e,t,n){return e.getCompDetails(t,Tc,void 0,n)}function Gc(e,t,n){return e.getCompDetails(t,Ec,`agSkeletonCellRenderer`,n,!0)}function Kc(e,t,n){return e.getCompDetails(t,Dc,`agCellEditor`,n,!0)}function qc(e,t,n,r){let i=t.filter;return mc(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,kc,r,n,!0)}function Jc(e,t,n){return e.getCompDetails(t,yc,`agDateInput`,n,!0)}function Yc(e,t){return e.getCompDetails(t.colDef,Oc,`agTooltipComponent`,t,!0)}function Xc(e,t,n,r){return e.getCompDetails(t,Ac,r,n)}function Zc(e,t){return _c(e,t,kc)}function Qc(e,t,n){return e.mergeParams(t,kc,n)}function $c(e){let t=e;return t?.getFrameworkComponentInstance==null?e:t.getFrameworkComponentInstance()}function el(e){return typeof e==`object`&&!!e.getComp}var G={BACKSPACE:`Backspace`,TAB:`Tab`,ENTER:`Enter`,ESCAPE:`Escape`,SPACE:` `,LEFT:`ArrowLeft`,UP:`ArrowUp`,RIGHT:`ArrowRight`,DOWN:`ArrowDown`,DELETE:`Delete`,F2:`F2`,PAGE_UP:`PageUp`,PAGE_DOWN:`PageDown`,PAGE_HOME:`Home`,PAGE_END:`End`,A:`KeyA`,C:`KeyC`,D:`KeyD`,V:`KeyV`,X:`KeyX`,Y:`KeyY`,Z:`KeyZ`},tl=65,nl=67,rl=86,il=68,al=90,ol=89;function sl(e){let{keyCode:t}=e,n;switch(t){case tl:n=G.A;break;case nl:n=G.C;break;case rl:n=G.V;break;case il:n=G.D;break;case al:n=G.Z;break;case ol:n=G.Y;break;default:n=e.code}return n}var cl=class extends fc{isPopup(){return!0}setParentComponent(e){e.addCss(`ag-has-popup`),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove(`ag-has-popup`),super.destroy()}},ll,ul,dl,fl,pl,ml,hl;function gl(){return ll===void 0&&(ll=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ll}function _l(){return ul===void 0&&(ul=/(firefox)/i.test(navigator.userAgent)),ul}function vl(){return dl===void 0&&(dl=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),dl}function yl(){return fl===void 0&&(fl=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform===`MacIntel`&&navigator.maxTouchPoints>1),fl}function bl(e){if(!e)return null;let t=e.tabIndex,n=e.getAttribute(`tabIndex`);return t===-1&&(n===null||n===``&&!_l())?null:t.toString()}function xl(){if(hl!==void 0)return hl;if(!document.body)return-1;let e=1e6,t=_l()?6e6:1e9,n=document.createElement(`div`);for(document.body.appendChild(n);;){let r=e*2;if(n.style.height=r+`px`,r>t||n.clientHeight!==r)break;e=r}return n.remove(),hl=e,e}function Sl(){return ml??Cl(),ml}function Cl(){let e=document.body,t=document.createElement(`div`);t.style.width=t.style.height=`100px`,t.style.opacity=`0`,t.style.overflow=`scroll`,t.style.msOverflowStyle=`scrollbar`,t.style.position=`absolute`,e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(ml=n,pl=n===0)}function wl(){return pl??Cl(),pl}var Tl=!1,El=0;function Dl(e){El>0||(e.addEventListener(`keydown`,kl),e.addEventListener(`mousedown`,kl))}function Ol(e){El>0||(e.removeEventListener(`keydown`,kl),e.removeEventListener(`mousedown`,kl))}function kl(e){let t=Tl,n=e.type===`keydown`;n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(Tl=n)}function Al(e){let t=rr(e);return Dl(t),El++,()=>{El--,Ol(t)}}function jl(){return Tl}function Ml(e,t,n=!1){let r=Br,i=Vr;t&&(i+=`, `+t),n&&(i+=`, [tabindex="-1"]`);let a=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(e=>ri(e)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((e,t)=>e.filter(e=>t.indexOf(e)===-1))(a,o):a}function Nl(e,t=!1,n=!1,r=!1){let i=Ml(e,r?`.ag-tab-guard`:null,n),a=t?U(i):i[0];return a?(a.focus({preventScroll:!0}),!0):!1}function Pl(e,t,n,r){let i=Ml(t,n?`:not([tabindex="-1"])`:null),a=nr(e),o;o=n?i.findIndex(e=>e.contains(a)):i.indexOf(a);let s=o+(r?-1:1);return s<0||s>=i.length?null:i[s]}function Fl(e,t=5){let n=0;for(;e&&bl(e)===null&&++n<=t;)e=e.parentElement;return bl(e)===null?null:e}var Il=`ag-focus-managed`,Ll=class extends Bi{constructor(e,t={isStopPropagation:()=>!1,stopPropagation:()=>{}},n={}){super(),this.eFocusable=e,this.stopPropagationCallbacks=t,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;let t=Pl(this.beans,this.eFocusable,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())},...n}}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(Il),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{if(e.defaultPrevented||this.stopPropagationCallbacks.isStopPropagation(e))return;let{callbacks:t}=this;if(t.shouldStopEventPropagation(e)){this.stopPropagationCallbacks.stopPropagation(e);return}e.key===G.TAB?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e)}})}},Rl={TAB_GUARD:`ag-tab-guard`,TAB_GUARD_TOP:`ag-tab-guard-top`,TAB_GUARD_BOTTOM:`ag-tab-guard-bottom`},K=class extends Bi{constructor(e,t){super(),this.stopPropagationCallbacks=t,this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:n,eTopGuard:r,eBottomGuard:i,focusTrapActive:a,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:c,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:d,onTabKeyDown:f,handleKeyDown:p,isEmpty:m,eFocusableElement:h}=e;this.comp=n,this.eTopGuard=r,this.eBottomGuard=i,this.providedFocusInnerElement=c,this.eFocusableElement=h,this.focusTrapActive=!!a,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=p,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new Ll(this.eFocusableElement,this.stopPropagationCallbacks,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(let e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute(`tabIndex`)}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get(`tabIndex`);this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Ml(this.eFocusableElement,`.ag-tab-guard`).length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=Ml(rr(this.beans).body,null,!0),n=t.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let r,i;e?(r=0,i=n):(r=n+1,i=t.length);let a=t.slice(r,i),o=this.gos.get(`tabIndex`);a.sort((e,t)=>{let n=Number.parseInt(e.getAttribute(`tabindex`)||`0`),r=Number.parseInt(t.getAttribute(`tabindex`)||`0`);return r===o?1:n===o?-1:n===0?1:r===0?-1:n-r}),a[e?a.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=Ml(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Pl(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},zl=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes(`x`),this.scrollVertically=e.scrollAxis.includes(`y`),this.scrollByTick=e.scrollByTick??20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){let n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&=(window.clearInterval(this.tickingInterval),null)}},q=`ag-resizer-wrapper`,J=(e,t)=>({tag:`div`,ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Bl={tag:`div`,cls:q,children:[J(`eTopLeft`,`topLeft`),J(`eTop`,`top`),J(`eTopRight`,`topRight`),J(`eRight`,`right`),J(`eBottomRight`,`bottomRight`),J(`eBottom`,`bottom`),J(`eBottomLeft`,`bottomLeft`),J(`eLeft`,`left`)]},Vl=class extends Bi{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config={popup:!1,...t}}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){let{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;let{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:a,height:o,x:s,y:c}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0,d=ri(this.element);if(d){let e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(t.minWidth!=null){let n=e.offsetWidth-this.element.offsetWidth;u=Number.parseInt(t.minWidth,10)-n}if(t.minHeight!=null){let n=e.offsetHeight-this.element.offsetHeight;l=Number.parseInt(t.minHeight,10)-n}}if(this.minHeight=a||l,this.minWidth=r||u,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(s||c)this.offsetElement(s,c,e);else if(d&&n){let t=this.boundaryEl,n=!0;if(t||(t=this.findBoundaryElement(),n=!1),t){let r=Number.parseFloat(t.style.top),i=Number.parseFloat(t.style.left);n?this.offsetElement(Number.isNaN(i)?0:i,Number.isNaN(r)?0:r,e):this.setPosition(i,r)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e==`boolean`){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}for(let t of Object.keys(e)){let n=!!e[t],r=this.getResizerElement(t),i={dragStartPixels:0,eElement:r,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(i),this.resizeListeners.push(i),r.style.pointerEvents=`all`):r.style.pointerEvents=`none`,this.resizable[t]=n)}}removeSizeFromEl(){this.element.style.removeProperty(`height`),this.element.style.removeProperty(`width`),this.element.style.removeProperty(`flex`)}restoreLastSize(){this.element.style.flex=`0 0 auto`;let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,n=this.element,r=!1;if(typeof e==`string`&&e.includes(`%`))ui(n,e),e=Yr(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(r?(n.style.maxHeight=`unset`,n.style.minHeight=`unset`):t?ui(n,e):(n.style.height=`${e}px`,n.style.flex=`0 0 auto`,this.lastSize.height=typeof e==`number`?e:Number.parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),a=e?this.position.y:r.top,o=e?0:i.top,s=0;if(t){let e=this.element.parentElement;if(e){let{bottom:t}=e.getBoundingClientRect();s=t-r.bottom}}return n+o-a-s}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:n}=this.config,r=!1;if(typeof e==`string`&&e.includes(`%`))li(t,e),e=Xr(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:t}=this.offsetParent,r=n?this.position.x:this.element.getBoundingClientRect().left;t&&e+r>t&&(e=t-r)}this.getWidth()!==e&&(r?(t.style.maxWidth=`unset`,t.style.minWidth=`unset`):this.config.popup?li(t,e):(t.style.width=`${e}px`,t.style.flex=` unset`,this.lastSize.width=typeof e==`number`?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){let{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(i.style.left),Number.parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=mi(this.beans,this.popupSvc?.getPopupParent(),()=>{let e=this.getAvailableHeight();this.element.style.setProperty(`max-height`,`${e}px`)})):(this.element.style.removeProperty(`max-height`),this.resizeObserverSubscriber&&=(this.resizeObserverSubscriber(),void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:a}=e,o=t.clientX-this.dragStartPosition.x,s=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!n,!!i,o)?0:o,movementY:this.shouldSkipY(t,!!r,a,s)?0:s}}shouldSkipX(e,t,n,r){let i=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.x:i.left,c=s<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=o.right;return c?!0:(c=t?r<0&&e.clientX>s+a.left||r>0&&e.clientX<s+a.left:n?r<0&&e.clientX>o.right||r>0&&e.clientX<s+a.left:r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,c)}shouldSkipY(e,t,n=0,r){let i=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.y:i.top,c=s<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=o.bottom;return c?!0:(c=t?r<0&&e.clientY>s+a.top+n||r>0&&e.clientY<s+a.top:r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,c)}createResizeMap(){let e=e=>({element:this.element.querySelector(`[data-ref=${e}Resizer]`)});this.resizerMap={topLeft:e(`eTopLeft`),top:e(`eTop`),topRight:e(`eTopRight`),right:e(`eRight`),bottomRight:e(`eBottomRight`),bottom:e(`eBottom`),bottomLeft:e(`eBottomLeft`),left:e(`eLeft`)}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(yi(Bl)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${q}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add(`ag-resizing`),this.resizerMap[t].element.classList.add(`ag-active`);let{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(e=>!e.classList.contains(`ag-hidden`)):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,n=0;for(let r of e){let e=!!r.style.flex&&r.style.flex!==`0 0 auto`;if(r===this.element)continue;let i=this.minHeight||0,a=this.minWidth||0;if(e){let e=window.getComputedStyle(r);e.minHeight&&(i=Number.parseInt(e.minHeight,10)),e.minWidth&&(a=Number.parseInt(e.minWidth,10))}else i=r.offsetHeight,a=r.offsetWidth;t+=i,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null,n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){let i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex=`0 0 auto`,i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty(`height`),t.style.removeProperty(`min-height`),t.style.removeProperty(`max-height`),t.style.flex=`1 1 auto`)}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:a,isLeft:o}=this.currentResizer,s=i||o,c=a||r,{movementX:l,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),d=this.position.x,f=this.position.y,p=0,m=0;if(s&&l){let e=o?-1:1,t=this.getWidth(),n=t+l*e,r=!1;o&&(p=t-n,(d+p<=0||n<=this.minWidth)&&(r=!0,p=0)),r||this.setWidth(n)}if(c&&u){let e=r?-1:1,t=this.getHeight(),n=t+u*e,i=!1;r?(m=t-n,(f+m<=0||n<=this.minHeight)&&(i=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<n&&this.getMinSizeOfSiblings().height+n>this.element.parentElement.offsetHeight&&(i=!0),i||this.setHeight(n)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||m)&&this.offsetElement(d+p,f+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove(`ag-resizing`),this.resizerMap[t].element.classList.remove(`ag-active`),this.dispatchLocalEvent({type:`resize`})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add(`ag-moving`),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:n}=this.position,r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());let{movementX:i,movementY:a}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+a),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove(`ag-moving`)}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!==`static`)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Hl=`T`,Ul=RegExp(`[${Hl} ]`),Wl=RegExp(`^\\d{4}-\\d{2}-\\d{2}(${Hl}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Gl(e,t){return e.toString().padStart(t,`0`)}function Y(e,t=!0,n=Hl){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(e=>Gl(e,2)).join(`-`);return t&&(r+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(e=>Gl(e,2)).join(`:`)),r}function Kl(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Gl(e.getDate(),2),Gl(e.getHours(),2),`:${Gl(e.getMinutes(),2)}`,`:${Gl(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Gl(e.getDate(),2)].map(String):null}var ql=e=>{if(e>3&&e<21)return`th`;switch(e%10){case 1:return`st`;case 2:return`nd`;case 3:return`rd`}return`th`},Jl=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],Yl=[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`];function Xl(e,t){if(t==null)return Y(e,!1);let n=Gl(e.getFullYear(),4),r={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>Jl[e.getMonth()],MMM:()=>Jl[e.getMonth()].slice(0,3),MM:()=>Gl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${ql(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${ql(e.getDate())}`,DD:()=>Gl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>Yl[e.getDay()],ddd:()=>Yl[e.getDay()].slice(0,3),dd:()=>Yl[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${ql(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(r).join(`|`),`g`);return t.replace(i,e=>e in r?r[e]():e)}function Zl(e,t=!1){return!!$l(e,t)}function Ql(e){return Zl(e,!0)}function $l(e,t=!1,n){if(!e||!n&&!Wl.test(e))return null;let[r,i]=e.split(Ul);if(!r)return null;let a=r.split(`-`).map(e=>Number.parseInt(e,10));if(a.filter(e=>!isNaN(e)).length!==3)return null;let[o,s,c]=a,l=new Date(o,s-1,c);if(l.getFullYear()!==o||l.getMonth()!==s-1||l.getDate()!==c||!i&&t)return null;if(!i||i===`00:00:00`)return l;let[u,d,f]=i.split(`:`).map(e=>Number.parseInt(e,10));if(u>=0&&u<24)l.setHours(u);else if(t)return null;if(d>=0&&d<60)l.setMinutes(d);else if(t)return null;if(f>=0&&f<60)l.setSeconds(f);else if(t)return null;return l}function eu(e){let{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e,a=(n??[]).map((e,n)=>({value:e,relevance:tu(t,e),idx:n}));if(a.sort((e,t)=>e.relevance-t.relevance),r&&(a=a.filter(e=>e.relevance<Math.max(e.value.length,t.length))),a.length>0&&i&&i>0){let e=a[0].relevance*i;a=a.filter(t=>e-t.relevance<0)}let o=[],s=[];for(let e of a)o.push(e.value),s.push(e.idx);return{values:o,indices:s}}function tu(e,t){let n=e.length,r=t.length;if(r===0)return n||0;let i=e.toLocaleLowerCase(),a=t.toLocaleLowerCase(),o;e.length<t.length&&(o=a,a=i,i=o,o=t,t=e,e=o);let s=new Uint16Array(r+1),c=new Uint16Array(r+1);for(let e=0;e<=r;e++)s[e]=e;let l=0,u=n/2-10;for(let d=1;d<=n;d++){let n=e[d-1],f=i[d-1];c[0]=d;for(let o=1;o<=r;o++){let r=t[o-1];if(f!==a[o-1]){let e=c[o-1],t=s[o],n=s[o-1],r=e<t?e:t;n<r&&(r=n),c[o]=r+1|0;continue}if(l++,n===r&&l++,d>1&&o>1){let n=e[d-2],r=i[d-2],s=t[o-2];r===a[o-2]&&(l++,n===s&&l++)}d<u&&l++,c[o]=s[o-1]}o=s,s=c,c=o}return s[r]/(l+1)}function nu(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var ru=`.ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}`,iu=class extends fc{constructor(e,t,n){super(t,n),this.labelSeparator=``,this.labelAlignment=`left`,this.disabled=!1,this.label=``,this.config=e||{},this.registerCSS(ru)}postConstruct(){this.addCss(`ag-labeled`),this.eLabel.classList.add(`ag-label`);let{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i,labelEllipsis:a}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),a!=null&&this.setLabelEllipsis(a),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;ei(t),typeof e==`string`?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===``?(F(t,!1),pr(t,`presentation`)):(F(t,!0),pr(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let t=this.getGui().classList;return t.toggle(`ag-label-align-left`,e===`left`),t.toggle(`ag-label-align-right`,e===`right`),t.toggle(`ag-label-align-top`,e===`top`),this}setLabelEllipsis(e){return this.eLabel.classList.toggle(`ag-label-ellipsis`,e),this}setLabelWidth(e){return this.label==null||ci(this.eLabel,e),this}setDisabled(e){e=!!e;let t=this.getGui();return Wr(t,e),t.classList.toggle(`ag-disabled`,e),this.disabled=e,this}isDisabled(){return!!this.disabled}},au=class extends iu{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:n,ariaLabel:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),r!=null&&this.setAriaLabel(r),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==``||hr(e)!==null?_r(e,``):_r(e,t??``)}setAriaLabel(e){return gr(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return li(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:`fieldValueChanged`}),this)}};function ou(e){return{tag:`div`,role:`presentation`,children:[{tag:`div`,ref:`eLabel`,cls:`ag-input-field-label`},{tag:`div`,ref:`eWrapper`,cls:`ag-wrapper ag-input-wrapper`,role:`presentation`,children:[{tag:e,ref:`eInput`,cls:`ag-input-field-input`}]}]}}var su=class extends au{constructor(e,t,n=`text`,r=`input`){super(e,e?.template??ou(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=null,this.eWrapper=null,this.eInput=null}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);let{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss(`ag-input-field`),n.id=n.id||`ag-${this.getCompId()}-input`;let{inputName:i,inputWidth:a,inputPlaceholder:o,autoComplete:s,tabIndex:c}=this.config;i!=null&&this.setInputName(i),a!=null&&this.setInputWidth(a),o!=null&&this.setInputPlaceholder(o),s!=null&&this.setAutoComplete(s),this.addInputListeners(),this.activateTabIndex([n],c)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag===`input`&&(this.inputType=e,pi(this.eInput,`type`,e))}getInputElement(){return this.eInput}getWrapperElement(){return this.eWrapper}setInputWidth(e){return ci(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute(`name`,e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return pi(this.eInput,`placeholder`,e),this}setInputAriaLabel(e){return gr(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Wr(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)pi(this.eInput,`autocomplete`,null);else{let t=typeof e==`string`?e:`off`;pi(this.eInput,`autocomplete`,t)}return this}},cu=class extends su{constructor(e,t=`ag-checkbox`,n=`checkbox`){super(e,t,n),this.labelAlignment=`right`,this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t,name:n}=this.config;typeof e==`boolean`&&this.setReadOnly(e),typeof t==`boolean`&&this.setPassive(t),n!=null&&this.setName(n)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle(`ag-disabled`,e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle(`ag-disabled`,e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e==`boolean`?e:void 0;let n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:`fieldValueChanged`,selected:e,previousValue:t,event:n});let r=this.getInputElement();this.eventSvc.dispatchEvent({type:`checkboxChanged`,id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle(`ag-checked`,e===!0),t.toggle(`ag-indeterminate`,e==null)}},lu={selector:`AG-CHECKBOX`,component:cu},uu=class extends cu{constructor(e){super(e,`ag-radio-button`,`radio`)}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},du=class extends su{constructor(e,t=`ag-text-field`,n=`text`){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let n=this.eInput;return n.value!==e&&(n.value=P(e)?e:``),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}setCustomValidity(e){let t=this.eInput,n=e.length>0;t.setCustomValidity(e),n&&t.reportValidity(),xr(t,n)}preventDisallowedCharacters(){let e=RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:t=>{nu(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{(t.clipboardData?.getData(`text`))?.split(``).some(t=>!e.test(t))&&t.preventDefault()}})}},fu={selector:`AG-INPUT-TEXT-FIELD`,component:du},pu={selector:`AG-INPUT-TEXT-AREA`,component:class extends su{constructor(e){super(e,`ag-text-area`,null,`textarea`)}setValue(e,t){let n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},mu=class extends du{constructor(e){super(e,`ag-number-field`,`number`)}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let t=Number.parseFloat(e.value),n=isNaN(t)?``:this.normalizeValue(t.toString());this.value!==n&&this.setValue(n)},wheel:this.onWheel.bind(this)}),e.step=`any`;let{precision:t,min:n,max:r,step:i}=this.config;typeof t==`number`&&this.setPrecision(t),typeof n==`number`&&this.setMin(n),typeof r==`number`&&this.setMax(r),typeof i==`number`&&this.setStep(i)}onWheel(e){nr(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===``?``:(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){let n=this.precision;if(n==null)return e;if(t){let t=Number.parseFloat(e).toFixed(n);return Number.parseFloat(t).toString()}let r=String(e).split(`.`);if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,pi(this.eInput,`min`,e),this)}setMax(e){return this.max===e?this:(this.max=e,pi(this.eInput,`max`,e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,pi(this.eInput,`step`,e),this)}setValue(e,t){return this.setValueOrInputValue(e=>super.setValue(e,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},e)}setValueOrInputValue(e,t,n){if(P(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);let e=this.normalizeValue(n);r=n!=e}if(r)return t(n)}return e(n)}getValue(e=!1){let t=this.eInput;if(!t.validity.valid&&!e)return;let n=t.value;return this.isScientificNotation(n)?this.adjustPrecision(n,!0):super.getValue()}isScientificNotation(e){return typeof e==`string`&&e.includes(`e`)}},hu={selector:`AG-INPUT-NUMBER-FIELD`,component:mu},gu={selector:`AG-INPUT-DATE-FIELD`,component:class extends du{constructor(e){super(e,`ag-date-field`,`date`)}postConstruct(){super.postConstruct();let e=gl();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step=`any`}onWheel(e){nr(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?Y(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,pi(this.eInput,`min`,t),this)}setMax(e){let t=e instanceof Date?Y(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,pi(this.eInput,`max`,t),this)}setStep(e){return this.step===e?this:(this.step=e,pi(this.eInput,`step`,e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?`datetime-local`:`date`),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return $l(this.getValue())??void 0}setDate(e,t){this.setValue(Y(e??null,this.includeTime),t)}}},_u=`.ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}`,vu=`ag-active-item`,yu=(e,t)=>({tag:`div`,cls:`ag-list-item ag-${e}-list-item`,attrs:{role:`option`},children:[{tag:`span`,ref:`eText`,children:t}]}),bu=class extends fc{constructor(e,t,n){super(yu(e,t)),this.label=t,this.value=n,this.eText=null}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){let t=this.getGui();t.classList.toggle(vu,e),Fr(t,e),this.dispatchLocalEvent({type:`itemHighlighted`,highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){let n=this.getGui();Er(n,e),Tr(n,t)}createTooltip(){let e=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(`highlightTooltipFeature`,!1,{getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>`UNKNOWN`,shouldDisplayTooltip:()=>oi(this.eText)},this));e&&(this.tooltipFeature=e)}addEventListeners(){let e=this.getParentComponent();e&&(this.addGuiEventListener(`mouseover`,()=>{e.highlightItem(this)}),this.addGuiEventListener(`mousedown`,t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},xu=class extends fc{constructor(e=`default`){super({tag:`div`,cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(_u)}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){let t=e.key;switch(t){case G.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{let e=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(e)}break;case G.DOWN:case G.UP:e.preventDefault(),this.navigate(t);break;case G.PAGE_DOWN:case G.PAGE_UP:case G.PAGE_HOME:case G.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(let t of e)this.addOption(t);return this}addOption(e){let{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(let e of this.listItems)e.destroy();ei(this.getGui()),this.listItems=[],this.refreshAriaRole()}updateOptions(e){let t=this.options!==e;return t&&(this.clearOptions(),this.addOptions(e)),t}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let n=this.options.findIndex(t=>t.value===e);if(n!==-1){let e=this.options[n];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(e=>e.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){let t=e.getGui();if(!ri(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;let{scrollTop:n,clientHeight:r}=this.getGui(),{offsetTop:i,offsetHeight:a}=t;(i+a>n+r||i<n)&&t.scrollIntoView({block:`nearest`})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){let n=new bu(this.cssIdentifier,t,e);n.setParentComponent(this);let r=this.createManagedBean(n);this.listItems.push(r),this.getGui().appendChild(r.getGui())}navigate(e){let t=e===G.DOWN,n,{listItems:r,highlightedItem:i}=this;if(!i)n=t?r[0]:U(r);else{let e=r.indexOf(i)+(t?1:-1);e=Math.min(Math.max(e,0),r.length-1),n=r[e]}this.highlightItem(n)}navigateToPage(e){let{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;let r=t.indexOf(n),i=this.options.length-1,a=t[0].getHeight(),o=Math.floor(this.getGui().clientHeight/a),s=-1;e===G.PAGE_HOME?s=0:e===G.PAGE_END?s=i:e===G.PAGE_DOWN?s=Math.min(r+o,i):e===G.PAGE_UP&&(s=Math.max(r-o,0)),s!==-1&&this.highlightItem(t[s])}refreshAriaRole(){pr(this.getGui(),this.options.length===0?`presentation`:`listbox`)}updateIndices(){this.refreshAriaRole();let e=this.listItems,t=e.length;e.forEach((e,n)=>{e.setIndex(n+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:`fieldValueChanged`}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:`selectedItem`})}},Su=`.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}`,Cu={tag:`div`,cls:`ag-picker-field`,role:`presentation`,children:[{tag:`div`,ref:`eLabel`},{tag:`div`,ref:`eWrapper`,cls:`ag-wrapper ag-picker-field-wrapper ag-picker-collapsed`,children:[{tag:`div`,ref:`eDisplayField`,cls:`ag-picker-field-display`},{tag:`div`,ref:`eIcon`,cls:`ag-picker-field-icon`,attrs:{"aria-hidden":`true`}}]}]},wu=class extends au{constructor(e){if(super(e,e?.template||Cu,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=null,this.eWrapper=null,this.eDisplayField=null,this.eIcon=null,this.registerCSS(Su),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:a}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),a!=null&&this.setPickerMaxWidth(a)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute(`id`,e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:r}=this.config;if(n){let e=this.beans.iconSvc.createIconNoSpan(n);e&&this.eIcon.appendChild(e)}r!=null&&this.setInputWidth(r)}setupAria(){let e=this.getAriaElement();e.setAttribute(`tabindex`,this.gos.get(`tabIndex`).toString()),wr(e,!1),this.ariaRole&&pr(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case G.UP:case G.DOWN:case G.ENTER:case G.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case G.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||=this.createPickerComponent();let e=this.pickerComponent.getGui();e.addEventListener(`focusin`,this.onPickerFocusIn),e.addEventListener(`focusout`,this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get(`suppressScrollWhenPopupsAreOpen`)||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:a,minPickerWidth:o,maxPickerWidth:s,variableWidth:c,beans:l,eWrapper:u}=this,d={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{let e=ir(l);this.beforeHidePicker(),e&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:u};e.style.position=`absolute`;let f=l.popupSvc,p=f.addPopup(d);c?(o&&(e.style.minWidth=o),e.style.width=di(Xr(u)),s&&(e.style.maxWidth=s)):ci(e,s??Xr(u));let m=a??`${qr(f.getPopupParent())}px`;return e.style.setProperty(`max-height`,m),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:a}=this,o=r.get(`enableRtl`)?`right`:`left`;n.positionPopupByComponent({type:t,eventSource:i,ePopup:a.getGui(),position:`under`,alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&=(this.destroyMouseWheelFunc(),void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener(`focusin`,this.onPickerFocusIn),e.removeEventListener(`focusout`,this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;wr(this.getAriaElement(),e);let t=this.eWrapper.classList;t.toggle(`ag-picker-expanded`,e),t.toggle(`ag-picker-collapsed`,!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle(`ag-picker-has-focus`,e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:`pickerHidden`}))}setInputWidth(e){return ci(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e==`number`&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e==`number`&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e==`number`&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Tu=`.ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}`,Eu=class extends wu{constructor(e){super({pickerAriaLabelKey:`ariaLabelSelectField`,pickerAriaLabelValue:`Select Field`,pickerType:`ag-list`,className:`ag-select`,pickerIcon:`selectOpen`,ariaRole:`combobox`,...e}),this.registerCSS(Tu)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(`tooltipFeature`,!1,{shouldDisplayTooltip:ai(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get(`tabIndex`);let{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new xu(`select`));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute(`id`,n),Lr(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:e=>{e?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:`selectedItem`})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){let{key:t}=e;switch(t===G.TAB&&this.hidePicker(),t){case G.ENTER:case G.UP:case G.DOWN:case G.PAGE_UP:case G.PAGE_DOWN:case G.PAGE_HOME:case G.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case G.ESCAPE:super.onKeyDown(e);break;case G.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(let t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}updateOptions(e){return this.listComponent?.updateOptions(e)&&this.setValue(void 0,!0),this}setValue(e,t,n){let{listComponent:r,config:{placeholder:i},eDisplayField:a,tooltipFeature:o}=this;if(this.value===e||!r||(n||r.setValue(e,!0),r.getValue()===this.getValue()))return this;let s=r.getDisplayValue();return s==null&&i&&(s=i),a.textContent=s,o?.setTooltipAndRefresh(s??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Du={selector:`AG-SELECT`,component:Eu},Ou=`:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}`,ku=typeof window!=`object`||!window?.document?.fonts?.forEach,Au=!1,ju=(e,t,n,r,i,a)=>{if(ku||Au)return;r&&(e=`@layer ${CSS.escape(r).replaceAll(`\\.`,`.`)} { ${e} }`);let o=Iu.map.get(t);if(o||(o=[],Iu.map.set(t,o)),o.some(t=>t.css===e))return;let s=document.createElement(`style`);a&&s.setAttribute(`nonce`,a),s.dataset.agGlobalCss=n,s.textContent=e;let c={css:e,el:s,priority:i},l;for(let e of o){if(e.priority>i)break;l=e}if(l){l.el.insertAdjacentElement(`afterend`,s);let e=o.indexOf(l);o.splice(e+1,0,c)}else t.insertBefore(s,t.querySelector(`:not(title, meta)`)),o.push(c)},Mu=(e,t,n,r)=>{ju(Ou,e,`shared`,t,0,n),r?.forEach((r,i)=>r.forEach(r=>ju(r,e,i,t,0,n)))},Nu=e=>{Iu.grids.add(e)},Pu=e=>{if(Iu.grids.delete(e),Iu.grids.size===0){Iu.map=new WeakMap;for(let e of document.head.querySelectorAll(`style[data-ag-global-css]`))e.remove()}},Fu,Iu=(Fu=typeof window==`object`?window:{}).agStyleInjectionState??(Fu.agStyleInjectionState={map:new WeakMap,grids:new Set}),Lu=e=>new Bu(e),Ru=`$default`,zu=0,Bu=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[Ru]:{...n[Ru]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:e}=this;if(e){let t=`ag-theme-${this.feature??`part`}-${++zu}`;typeof e==`function`&&(e=e()),e=`:where(.${t}) {
${e}
}
`;for(let t of this.cssImports??[])e=`@import url(${JSON.stringify(t)});
${e}`;r={css:e,class:t}}else r=!1;this._inject=r}return r&&e&&ju(r.css,e,r.class,t,1,n),r?r.class:!1}},Vu=e=>e.replace(/[A-Z]/g,e=>`-${e}`).toLowerCase(),Hu=e=>`--ag-${Vu(e)}`,Uu=e=>`var(${Hu(e)})`,Wu=(e,t,n)=>Math.max(t,Math.min(n,e)),Gu=e=>{let t=new Map;return n=>{let r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},X=e=>({ref:`accentColor`,mix:e}),Ku=e=>({ref:`foregroundColor`,mix:e}),qu=e=>({ref:`foregroundColor`,mix:e,onto:`backgroundColor`}),Ju=e=>({ref:`foregroundColor`,mix:e,onto:`headerBackgroundColor`}),Yu={ref:`backgroundColor`},Xu={ref:`foregroundColor`},Zu={ref:`accentColor`},Qu={backgroundColor:`#fff`,foregroundColor:`#181d1f`,borderColor:Ku(.15),chromeBackgroundColor:qu(.02),browserColorScheme:`light`},$u={...Qu,textColor:Xu,accentColor:`#2196f3`,invalidColor:`#e02525`,fontFamily:[`-apple-system`,`BlinkMacSystemFont`,`Segoe UI`,`Roboto`,`Oxygen-Sans`,`Ubuntu`,`Cantarell`,`Helvetica Neue`,`sans-serif`],subtleTextColor:{ref:`textColor`,mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:X(.5)},focusErrorShadow:{spread:3,color:{ref:`invalidColor`,onto:`backgroundColor`,mix:.5}},popupShadow:`0 0 16px #00000026`,cardShadow:`0 1px 4px 1px #00000018`,dropdownShadow:{ref:`cardShadow`},listItemHeight:{calc:`max(iconSize, dataFontSize) + widgetVerticalSpacing`},dragAndDropImageBackgroundColor:Yu,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:`invalidColor`,onto:`dragAndDropImageBackgroundColor`,mix:.5}},dragAndDropImageShadow:{ref:`popupShadow`},iconSize:16,iconColor:`inherit`,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Zu,toggleButtonOffBackgroundColor:qu(.3),toggleButtonSwitchBackgroundColor:Yu,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:`chromeBackgroundColor`},tooltipErrorBackgroundColor:{ref:`invalidColor`,onto:`backgroundColor`,mix:.1},tooltipTextColor:{ref:`textColor`},tooltipErrorTextColor:{ref:`invalidColor`},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:`invalidColor`,onto:`backgroundColor`,mix:.25}}},ed=[`colorScheme`,`color`,`length`,`scale`,`borderStyle`,`border`,`shadow`,`image`,`fontFamily`,`fontWeight`,`duration`],td=Gu(e=>(e=e.toLowerCase(),ed.find(t=>e.endsWith(t.toLowerCase()))??`length`)),nd=e=>typeof e==`object`&&e?.ref?Uu(e.ref):typeof e==`string`?e:typeof e==`number`?String(e):!1,rd=e=>{if(typeof e==`string`)return e;if(e&&`ref`in e){let t=Uu(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Uu(e.onto):`transparent`}, ${t} ${Wu(e.mix*100,0,100)}%)`}return!1},id=nd,ad=e=>typeof e==`string`?e:typeof e==`number`?`${e}px`:e&&`calc`in e?`calc(${e.calc.replace(/ ?[*/+] ?/g,` $& `).replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,e=>e[0]===`-`?e:` `+Uu(e)+` `)})`:e&&`ref`in e?Uu(e.ref):!1,od=nd,sd=(e,t)=>typeof e==`string`?e:e===!0?sd({},t):e===!1?t===`columnBorder`?sd({color:`transparent`},t):`none`:e&&`ref`in e?Uu(e.ref):ld(e.style??`solid`)+` `+ad(e.width??{ref:`borderWidth`})+` `+rd(e.color??{ref:`borderColor`}),cd=e=>typeof e==`string`?e:e===!1?`none`:e&&`ref`in e?Uu(e.ref):[ad(e.offsetX??0),ad(e.offsetY??0),ad(e.radius??0),ad(e.spread??0),rd(e.color??{ref:`foregroundColor`})].join(` `),ld=nd,ud=e=>typeof e==`string`?e.includes(`,`)?e:dd(e):e&&`googleFont`in e?ud(e.googleFont):e&&`ref`in e?Uu(e.ref):Array.isArray(e)?e.map(e=>(typeof e==`object`&&`googleFont`in e&&(e=e.googleFont),dd(e))).join(`, `):!1,dd=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),fd=nd,pd=e=>typeof e==`string`?e:e&&`url`in e?`url(${JSON.stringify(e.url)})`:e&&`svg`in e?pd({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&`ref`in e?Uu(e.ref):!1,md={color:rd,colorScheme:id,length:ad,scale:od,border:sd,borderStyle:ld,shadow:cd,image:pd,fontFamily:ud,fontWeight:fd,duration:(e,t,n)=>typeof e==`string`?e:typeof e==`number`?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):e&&`ref`in e?Uu(e.ref):!1},hd=(e,t,n)=>md[td(e)](t,e,n),gd=e=>new _d(e),_d=class e{constructor(e,t=[]){this.themeLogger=e,this.parts=t}withPart(t){return typeof t==`function`&&(t=t()),t instanceof Bu?new e(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,`Invalid part`,{part:t}),this)}withoutPart(e){return this.withPart(Lu({feature:e}))}withParams(e,t=Ru){return this.withPart(Lu({modeParams:{[t]:e}}))}_startUse({styleContainer:e,cssLayer:t,nonce:n,loadThemeGoogleFonts:r,moduleCss:i}){if(ku||Au)return;Z(),Mu(e,t,n,i);let a=yd(this);if(a.length>0)for(let e of a)r&&xd(e,n);for(let r of this.parts)r.use(e,t,n)}_getCssClass(){return Au?`ag-theme-quartz`:this._cssClassCache??=vd(this.parts).map(e=>e.use(void 0,void 0,void 0)).filter(Boolean).join(` `)}_getModeParams(){let e=this._paramsCache;if(!e){let t={[Ru]:{...$u}};for(let e of vd(this.parts))for(let n of Object.keys(e.modeParams)){let r=e.modeParams[n];if(r){let e=t[n]??(t[n]={}),i=new Set;for(let t of Object.keys(r)){let n=r[t];n!==void 0&&(e[t]=n,i.add(t))}if(n===Ru)for(let e of Object.keys(t)){let n=t[e];if(e!==Ru)for(let e of i)delete n[e]}}}this._paramsCache=e=t}return e}_getPerInstanceCss(e){let t=`##SELECTOR##`,n=this._paramsCssCache;if(!n){let e=``,r=``,i=this._getModeParams();for(let t of Object.keys(i)){let n=i[t];if(t!==Ru){let n=`:where([data-ag-theme-mode="${typeof CSS==`object`?CSS.escape(t):t}"]) & {
`;e+=n,r+=n}for(let t of Object.keys(n).sort()){let i=n[t],a=hd(t,i,this.themeLogger);if(a===!1)this.themeLogger.error(107,{key:t,value:i});else{let n=Hu(t),i=n.replace(`--ag-`,`--ag-inherited-`);e+=`	${n}: var(${i}, ${a});
`,r+=`	${i}: var(${n});
`}}t!==Ru&&(e+=`}
`,r+=`}
`)}let a=`${t} {
${e}}
`;a+=`:has(> ${t}):not(${t}) {
${r}}
`,this._paramsCssCache=n=a}return n.replaceAll(t,`:where(.${e})`)}},vd=e=>{let t=new Map;for(let n of e)t.set(n.feature,n);let n=[];for(let r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},yd=e=>{let t=new Set,n=e=>{if(Array.isArray(e))e.forEach(n);else{let n=e?.googleFont;typeof n==`string`&&t.add(n)}};return Object.values(e._getModeParams()).flatMap(e=>Object.values(e)).forEach(n),Array.from(t).sort()},bd=!1,Z=()=>{if(!bd){bd=!0;for(let e of Array.from(document.head.querySelectorAll(`style[data-ag-scope="legacy"]`)))e.remove()}},xd=async(e,t)=>{ju(`@import url('https://${Sd}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`,document.head,`googleFont:${e}`,void 0,0,t)},Sd=`fonts.googleapis.com`,Cd=1,wd=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=Cd++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(let t of e.beanClasses){let e=new t;e.beanName?this.beans[e.beanName]=e:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(e)}for(let t of e.derivedBeans??[]){let{beanName:e,bean:n}=t(this);this.beans[e]=n,this.createdBeans.push(n)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){let n=this.beans;for(let t of e)t.preWireBeans?.(n),t.wireBeans?.(n);for(let t of e)t.preConstruct?.();t&&e.forEach(t);for(let t of e)t.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Td=0,Ed={cssName:`--ag-list-item-height`,changeKey:`listItemHeightChanged`,defaultValue:24},Dd=class extends Bi{constructor(){super(...arguments),this.beanName=`environment`,this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++Td}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){let{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t);let n=e.get(`themeStyleContainer`),r=typeof ShadowRoot<`u`,i=r&&t.getRootNode()instanceof ShadowRoot;this.eStyleContainer=(typeof n==`function`?n():n)??(i?t:document.head),!n&&!i&&r&&kd(t,this.shadowRootError.bind(this),this.addDestroyFunc.bind(this)),this.cssLayer=e.get(`themeCssLayer`),this.styleNonce=e.get(`styleNonce`),this.addManagedPropertyListener(`theme`,()=>this.handleThemeChange()),this.handleThemeChange(),this.getSizeEl(Ed),this.initVariables(),this.addDestroyFunc(()=>Pu(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent(`themeChanged`)}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){let{theme:n}=this,r;r=n?`${this.paramsClass} ${n._getCssClass()}`:this.applyLegacyThemeClasses();for(let t of Array.from(e.classList))t.startsWith(`ag-theme-`)&&e.classList.remove(t);if(r){let n=e.className;e.className=`${n}${n?` `:``}${r}${t?.length?` `+t.join(` `):``}`}}applyLegacyThemeClasses(){let e=``;this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(let r of Array.from(t.classList))r.startsWith(`ag-theme-`)&&(n=!0,e=e?`${e} ${r}`:r);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:[`class`]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?ju(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Ed)}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let n=this.measureSizeEl(e);return n===`detached`||n===`no-styles`?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return`detached`;let n=t.offsetWidth;return n===Od?`no-styles`:(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=yi({tag:`div`,cls:`ag-measurement-container`}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.getMeasurementContainer();t=yi({tag:`div`});let{border:r,noWarn:i}=e;r?(t.className=`ag-measurement-element-border`,t.style.setProperty(`--ag-internal-measurement-border`,`var(${e.cssName}, solid ${Od}px)`)):t.style.width=`var(${e.cssName}, ${Od}px)`,n.appendChild(t),this.sizeEls.set(e,t);let a=this.measureSizeEl(e);a===`no-styles`&&!i&&this.varError(e);let o=mi(this.beans,t,()=>{let t=this.measureSizeEl(e);t===`detached`||t===`no-styles`||(this.lastKnownValues.set(e,t),t!==a&&(a=t,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}handleThemeChange(){let{gos:e,theme:t}=this,n=e.get(`theme`),r;if(n===`legacy`)r=void 0;else{let e=n??this.getDefaultTheme();e instanceof _d?r=e:this.themeError(e)}r!==t&&this.handleNewTheme(r),this.postProcessThemeChange(r,n)}handleNewTheme(e){let{gos:t,eRootDiv:n,globalCSS:r}=this,i=this.getAdditionalCss();if(e){Nu(this),Mu(this.eStyleContainer,this.cssLayer,this.styleNonce,i);for(let[e,t]of r)ju(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce);r.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get(`loadThemeGoogleFonts`),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:i});let a=this.eParamsStyle;if(!a){a=this.eParamsStyle=yi({tag:`style`});let e=t.get(`styleNonce`);e&&a.setAttribute(`nonce`,e),n.appendChild(a)}ku||(a.textContent=e?._getPerInstanceCss(this.paramsClass)||``),this.applyThemeClasses(n),this.fireStylesChangedEvent(`themeChanged`)}fireStylesChangedEvent(e){this.eventSvc.dispatchEvent({type:`stylesChanged`,[e]:!0})}},Od=15538,kd=(e,t,n)=>{let r=60,i=setInterval(()=>{typeof ShadowRoot<`u`&&e.getRootNode()instanceof ShadowRoot&&(t(),clearInterval(i)),(ni(e)||--r<0)&&clearInterval(i)},1e3);n(()=>clearInterval(i))},Ad=class extends Bi{constructor(){super(...arguments),this.beanName=`registry`}registerDynamicBeans(e){if(e){this.dynamicBeans??={};for(let t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw Error(this.getDynamicError(e,!0));let r=this.dynamicBeans[e];if(r==null){if(t)throw Error(this.getDynamicError(e,!1));return}return new r(...n)}},jd=class extends Bi{constructor(){super(...arguments),this.beanName=`eventSvc`,this.eventServiceType=`global`,this.globalSvc=new Wn}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},Md=class extends Bi{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){let n=`title`,r=this.ctrl.getGui();r&&(e!=null&&(e!=``||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){let e=this.beans.registry.createDynamicBean(`tooltipStateManager`,!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get(`enableBrowserTooltips`),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?``:null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Nd=1e3,Pd=1e3,Fd=100,Id,Ld=!1,Rd=class extends Bi{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get(`tooltipInteraction`)&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get(`tooltipMouseTrack`);let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e===`show`?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay(`tooltipShowDelay`):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay(`tooltipHideDelay`)}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get(`tooltipTrigger`);return!e||e===`hover`?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!yl()&&(Ld?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},Fd):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&=e,this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&=!1,this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Ld)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay(`show`)),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-Id<Nd}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&=(this.onBodyScrollEventCallback(),void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&=(this.onDocumentKeyDownCallback(),void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!P(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let n=this.gos.addCommon({location:t.getLocation?.()??`UNKNOWN`,value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;let r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Id=Date.now()),this.eventSvc.dispatchEvent({type:`tooltipHide`,parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let n=t.getGui();this.tooltipComp=t,n.classList.contains(`ag-tooltip`)||n.classList.add(`ag-tooltip-custom`),this.tooltipTrigger===0&&n.classList.add(`ag-tooltip-animate`),this.interactionEnabled&&n.classList.add(`ag-tooltip-interactive`);let r=this.getLocaleTextFunc(),i=this.popupSvc?.addPopup({eChild:n,ariaLabel:r(`ariaLabelTooltip`,`Tooltip`)});if(i&&(this.tooltipPopupDestroyFunc=i.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let e=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:e}),this.setEventHandlers(e)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(rr(this.beans),{keydown:e=>{n.contains(e?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:`tooltipShow`,tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=nr(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:`tooltip`,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:`under`,keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add(`ag-tooltip-hiding`);let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?Pd:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(let e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Ld=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Fd)}unlockService(){Ld=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay(`hide`))}clearShowTimeout(){this.showTooltipTimeoutId&&=(window.clearTimeout(this.showTooltipTimeoutId),void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&=(window.clearTimeout(this.hideTooltipTimeoutId),void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&=(window.clearTimeout(this.interactiveTooltipTimeoutId),void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},zd=class extends Md{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener(`tooltipTrigger`,({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get(`tooltipTrigger`)),this.highlightTracker.addEventListener(`itemHighlighted`,this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e=`focus`){this.tooltipMode=e===`focus`?1:0}destroy(){this.highlightTracker.removeEventListener(`itemHighlighted`,this.onHighlight),super.destroy()}},Bd=0,Vd=200,Hd=class extends Bi{constructor(){super(...arguments),this.beanName=`popupSvc`,this.popupList=[]}postConstruct(){this.addManagedEventListeners({stylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){return this.gos.get(`popupParent`)||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:a,alignSide:o=`left`,position:s=`over`,type:c}=e,l=a.getBoundingClientRect(),u=this.getParentRect();this.setAlignedTo(a,t),this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:()=>{let n=l.left-u.left;o===`right`&&(n-=t.offsetWidth-l.width);let i;return s===`over`?(i=l.top-u.top,this.setAlignedStyles(t,`over`)):(this.setAlignedStyles(t,`under`),i=this.shouldRenderUnderOrAbove(t,l,u,e.nudgeY||0)===`under`?l.top-u.top+l.height:l.top-t.offsetHeight-(r||0)*2-u.top),{x:n,y:i}},postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,c,t,a,null)})}positionPopupForMenu(e){let{eventSource:t,ePopup:n,event:r}=e,i=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let o=!1;this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:()=>{let e=this.keepXYWithinBounds(n,i.top-a.top,0),t=n.clientWidth>0?n.clientWidth:200;o||=(n.style.minWidth=`${t}px`,!0);let r=a.right-a.left-t,s;return this.gos.get(`enableRtl`)?(s=l(),s<0&&(s=c(),this.setAlignedStyles(n,`left`)),s>r&&(s=0,this.setAlignedStyles(n,`right`))):(s=c(),s>r&&(s=l(),this.setAlignedStyles(n,`right`)),s<0&&(s=0,this.setAlignedStyles(n,`left`))),{x:s,y:e};function c(){return i.right-a.left-2}function l(){return i.left-a.left-t}},postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,`subMenu`,n,t,r instanceof MouseEvent?r:void 0)})}shouldRenderUnderOrAbove(e,t,n,r){let i=n.bottom-t.bottom,a=t.top-n.top,o=e.offsetHeight+r;return i>o?`under`:a>o||a>i?`above`:`under`}setAlignedStyles(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let{alignedToElement:r}=this.popupList[n];if(r){for(let t of[`right`,`left`,`over`,`above`,`under`])r.classList.remove(`ag-has-popup-positioned-${t}`),e.classList.remove(`ag-popup-positioned-${t}`);t&&(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}}setAlignedTo(e,t){let n=this.getPopupIndex(t);if(n!==-1){let t=this.popupList[n];t.alignedToElement=e}}positionPopup(e){let{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:a,updatePosition:o}=e,s={width:0,height:0},c=(a=!1)=>{let{x:c,y:l}=o();a&&t.clientWidth===s.width&&t.clientHeight===s.height||(s.width=t.clientWidth,s.height=t.clientHeight,r&&(c+=r),i&&(l+=i),n&&(c=this.keepXYWithinBounds(t,c,1),l=this.keepXYWithinBounds(t,l,0)),t.style.left=`${c}px`,t.style.top=`${l}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!a){let e=mi(this.beans,t,()=>c(!0));setTimeout(()=>e(),Vd)}}getParentRect(){let e=rr(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position===`static`&&(t=t.offsetParent),Zr(t)}keepXYWithinBounds(e,t,n){let r=n===0,i=r?`clientHeight`:`clientWidth`,a=r?`top`:`left`,o=r?`height`:`width`,s=r?`scrollTop`:`scrollLeft`,c=rr(this.beans),l=c.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),f=u.getBoundingClientRect(),p=c.documentElement.getBoundingClientRect(),m=u===c.body,h=Math.ceil(d[o]),g=m?(r?Yr:Xr)(l)+l[s]:u[i];m&&(g-=Math.abs(p[a]-f[a]));let _=g-h;return Math.min(Math.max(t,0),Math.max(_,0))}addPopup(e){let{eChild:t,ariaLabel:n,ariaOwns:r,alwaysOnTop:i,positionCallback:a,anchorToElement:o}=e,s=this.getPopupIndex(t);if(s!==-1)return{hideFunc:this.popupList[s].hideFunc};this.initialisePopupPosition(t);let c=this.createPopupWrapper(t,!!i,n,r),l=this.addEventListenersToPopup({...e,wrapperEl:c});return a&&a(),this.addPopupToPopupList(t,c,l,o),{hideFunc:l}}initialisePopupPosition(e){let t=this.getPopupParent().getBoundingClientRect();P(e.style.top)||(e.style.top=`${t.top*-1}px`),P(e.style.left)||(e.style.left=`${t.left*-1}px`)}createPopupWrapper(e,t,n,r){let i=this.getPopupParent(),{environment:a,gos:o}=this.beans,s=yi({tag:`div`});return a.applyThemeClasses(s),s.classList.add(`ag-popup`),e.classList.add(o.get(`enableRtl`)?`ag-rtl`:`ag-ltr`,`ag-popup-child`),e.hasAttribute(`role`)||pr(e,`dialog`),n?gr(e,n):r&&(e.id||=`popup-component-${Bd}`,Rr(r,e.id)),s.appendChild(e),i.appendChild(s),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}addEventListenersToPopup(e){let t=this.beans,n=rr(t),{wrapperEl:r,eChild:i,closedCallback:a,afterGuiAttached:o,closeOnEsc:s,modal:c,ariaOwns:l}=e,u=!1,d=e=>{r.contains(nr(t))&&e.key===G.ESCAPE&&!this.isStopPropagation(e)&&m({keyboardEvent:e})},f=e=>m({mouseEvent:e}),p=e=>m({touchEvent:e}),m=(e={})=>{let{mouseEvent:t,touchEvent:o,keyboardEvent:s,forceHide:c}=e;!c&&(this.isEventFromCurrentPopup({mouseEvent:t,touchEvent:o},i)||u)||(u=!0,r.remove(),n.removeEventListener(`keydown`,d),n.removeEventListener(`mousedown`,f),n.removeEventListener(`touchstart`,p),n.removeEventListener(`contextmenu`,f),this.eventSvc.removeListener(`dragStarted`,f),a&&a(t||o||s),this.removePopupFromPopupList(i,l))};return o&&o({hidePopup:m}),window.setTimeout(()=>{s&&n.addEventListener(`keydown`,d),c&&(n.addEventListener(`mousedown`,f),this.eventSvc.addListener(`dragStarted`,f),n.addEventListener(`touchstart`,p),n.addEventListener(`contextmenu`,f))},0),m}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Bd,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),Bd+=1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(e=>e&&e()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;let i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&Rr(t,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,a=r.getBoundingClientRect(),o=e=>Number.parseInt(e.substring(0,e.length-1),10),s=(e,t)=>{let r=n[e]-a[e],s=o(i.style[e]);return{initialDiff:r,lastDiff:r,initial:s,last:s,direction:t}},c=s(`top`,0),l=s(`left`,1),u=this.beans.frameworkOverrides;return new W(n=>{u.wrapIncoming(()=>{hc(()=>{let n=t.getBoundingClientRect(),a=r.getBoundingClientRect();if(a.top==0&&a.left==0&&a.height==0&&a.width==0){e.hidePopup();return}let s=(e,t)=>{let r=o(i.style[t]);e.last!==r&&(e.initial=r,e.last=r);let s=n[t]-a[t];if(s!=e.lastDiff){let n=this.keepXYWithinBounds(i,e.initial+e.initialDiff-s,e.direction);i.style[t]=`${n}px`,e.last=n}e.lastDiff=s};s(c,`top`),s(l,`left`)},200).then(e=>{n(()=>{e!=null&&window.clearInterval(e)})})},`popupPositioning`)})}isEventFromCurrentPopup(e,t){let{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;let a=this.getPopupIndex(t);if(a===-1)return!1;for(let e=a;e<this.popupList.length;e++){let t=this.popupList[e];if(wi(t.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){let t=rr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains(`ag-custom-component-popup`)||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains(`ag-popup`)&&e.parentElement;)e=e.parentElement;return e.classList.contains(`ag-popup`)?e:null}setAlwaysOnTop(e,t){let n=this.getWrapper(e);n&&(n.classList.toggle(`ag-always-on-top`,!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){let t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(`.ag-popup`)),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;let a=[],o=[];for(let e of n)e!==i&&(e.classList.contains(`ag-always-on-top`)?o.push(e):a.push(e));let s=[],c=o.length,l=i.classList.contains(`ag-always-on-top`)||!c?[...a,...o,i]:[...a,i,...o];for(let e=0;e<=r;e++){let r=l[e];if(n[e]===l[e]||r===i)continue;let a=r.querySelectorAll(`div`);for(let e of a)e.scrollTop!==0&&s.push([e,e.scrollTop]);e===0?t.insertAdjacentElement(`afterbegin`,r):l[e-1].insertAdjacentElement(`afterend`,r)}for(;s.length;){let e=s.pop();e[0].scrollTop=e[1]}}handleThemeChange(e){if(e.themeChanged){let e=this.beans.environment;for(let t of this.popupList)e.applyThemeClasses(t.wrapper)}}},Ud=class extends cl{constructor(){super({tag:`div`,cls:`ag-tooltip`})}init(e){let{value:t}=e,n=this.getGui();n.textContent=Qn(t);let r=e.location.replace(/([a-z])([A-Z0-9])/g,`$1-$2`).toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},Wd=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},Gd=(e,t)=>{if(typeof PointerEvent>`u`||!(t instanceof PointerEvent))return null;let n=t.pointerId;if(!Wd(e,n))return null;let r={eElement:e,pointerId:n,onLost(e){Jd(r,e)}};return e.addEventListener(`lostpointercapture`,r.onLost),r},Kd=e=>{if(!e)return;qd(e);let{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},qd=e=>{let{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener(`lostpointercapture`,n),e.onLost=null)},Jd=(e,t)=>{qd(e);let{eElement:n,pointerId:r}=e;n&&t.pointerId===r&&Wd(n,r)},Yd,Xd,Zd={passive:!0},Qd={passive:!1},$d=e=>{if(!Xd)Xd=new WeakSet;else if(Xd.has(e))return!1;return Xd.add(e),!0},ef=class extends Bi{constructor(){super(...arguments),this.beanName=`dragSvc`,this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!Yd?.has(tr(this.beans))}hasPointerCapture(){let e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();let e=this.dragSources;for(let t of e)tf(t);e.length=0,super.destroy()}removeDragSource(e){let t=this.dragSources;for(let n=0,r=t.length;n<r;++n){let r=t[n];if(r.params===e){t.splice(n,1),tf(r);break}}}addDragSource(e){if(!this.isAlive())return;let{eElement:t,includeTouch:n}=e,r=[],i;if(n){let e=t.style;e&&(i=e.touchAction,e.touchAction=`none`)}let a={handlers:r,params:e,oldTouchAction:i};this.dragSources.push(a),Ni(r,[t,`pointerdown`,t=>this.onPointerDown(e,t),Qd],[t,`mousedown`,t=>this.onMouseDown(e,t)]);let o=this.gos.get(`suppressTouch`);n&&!o&&Ni(r,[t,`touchstart`,t=>this.onTouchStart(e,t),Qd])}cancelDrag(e){let t=this.drag;e??=t?.eElement,e&&this.eventSvc.dispatchEvent({type:`dragCancelled`,target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){let t=e.type;return(t===`mousemove`||t===`pointermove`)&&e.cancelable&&ji(this.beans,e)&&!Hr(rf(e))}initDrag(e,...t){this.drag=e;let n=this.beans,r=e=>this.onScroll(e),i=e=>this.onKeyDown(e),a=tr(n),o=rr(n);Ni(e.handlers,[a,`contextmenu`,Fi],[a,`keydown`,i],[o,`scroll`,r,{capture:!0}],[o.defaultView||window,`scroll`,r],...t)}destroyDrag(){this.dragging=!1;let e=this.drag;if(e){let t=e.rootEl;Yd?.get(t)===e&&Yd.delete(t),this.drag=null,Kd(e.pointerCapture),Pi(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;let n=this.beans;if(Xd?.has(t))return;let r=t.pointerType;if(r===`touch`&&(n.gos.get(`suppressTouch`)||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),Hr(rf(t))))||!t.isPrimary||r===`mouse`&&t.button!==0)return;this.destroyDrag();let i=tr(n),a=e.eElement,o=t.pointerId,s=new nf(i,e,t,o);Yd??=new WeakMap,Yd.set(i,s);let c=e=>{e.pointerId===o&&this.onMouseOrPointerMove(e)},l=e=>{e.pointerId===o&&this.onMouseOrPointerUp(e)},u=e=>{e.pointerId===o&&$d(e)&&this.cancelDrag()},d=e=>this.draggingPreventDefault(e);this.initDrag(s,[i,`pointerup`,l],[i,`pointercancel`,u],[i,`pointermove`,c,Qd],[i,`touchmove`,d,Qd],[a,`mousemove`,d,Qd]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):$d(t)}onTouchStart(e,t){if(this.gos.get(`suppressTouch`)||!e.includeTouch||!$d(t)||Hr(rf(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){this.dragging&&Fi(t);return}this.destroyDrag();let n=this.beans,r=new nf(tr(n),e,t.touches[0]),i=e=>this.onTouchMove(e),a=e=>this.onTouchUp(e),o=e=>this.onTouchCancel(e),s=e=>this.draggingPreventDefault(e),c=tr(n),l=t.target??e.eElement;this.initDrag(r,[l,`touchmove`,i,Zd],[l,`touchend`,a,Zd],[l,`touchcancel`,o,Zd],[c,`touchmove`,s,Qd],[c,`touchend`,a,Qd],[c,`touchcancel`,o,Qd]),e.dragStartPixels===0&&this.onMove(r.start)}draggingPreventDefault(e){this.dragging&&Fi(e)}onMouseDown(e,t){if(t.button!==0||Xd?.has(t)||this.isPointer())return;let n=this.beans;this.destroyDrag();let r=new nf(tr(n),e,t),i=e=>this.onMouseOrPointerMove(e),a=e=>this.onMouseOrPointerUp(e),o=tr(n);this.initDrag(r,[o,`mousemove`,i],[o,`mouseup`,a]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):$d(t)}onScroll(e){if(!$d(e))return;let t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging?.(n)}onMouseOrPointerMove(e){$d(e)&&(gl()&&rr(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&Fi(e),this.onMove(e))}onTouchCancel(e){let t=this.drag;!t||!$d(e)||Ai(t.start,e.changedTouches)&&this.cancelDrag()}onTouchMove(e){let t=this.drag;if(!t||!$d(e))return;let n=Ai(t.start,e.touches);n&&(this.onMove(n),this.draggingPreventDefault(e))}onMove(e){let t=this.drag;if(!t)return;t.lastDrag=e;let n=t.params;if(!this.dragging){let r=t.start;if(ki(e,r,n.dragStartPixels??4)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=Gd(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:`dragStarted`,target:n.eElement}),n.onDragStart?.(r),this.drag!==t)||(n.onDragging?.(r),this.drag!==t))return}n.onDragging?.(e)}onTouchUp(e){let t=this.drag;t&&$d(e)&&this.onUp(Ai(t.start,e.changedTouches))}onMouseOrPointerUp(e){$d(e)&&this.onUp(e)}onUp(e){let t=this.drag;t&&(e||=t.lastDrag,e&&this.dragging&&(this.dragging=!1,t.params.onDragStop?.(e),this.eventSvc.dispatchEvent({type:`dragStopped`,target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===G.ESCAPE&&this.cancelDrag()}},tf=e=>{Pi(e.handlers);let t=e.oldTouchAction;if(t!=null){let n=e.params.eElement.style;n&&(n.touchAction=t)}},nf=class{constructor(e,t,n,r=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=r,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},rf=e=>{let t=e.target;return t instanceof Element?t:null},af=class extends Bi{constructor(){super(...arguments),this.beanName=`dragAndDrop`,this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.externalDropZoneCount=0,this.lastDropTarget=null}addDragSource(e,t=!1){let n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:t=>this.onDragStart(e,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){let n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){let{dragSourceAndParamsList:t,beans:n}=this;for(let r=0,i=t.length;r<i;r++)if(t[r].dragSource===e){let e=t[r];n.dragSvc?.removeDragSource(e),t.splice(r,1);break}}destroy(){let{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,r=n.dragSvc;for(let t of e)r?.removeDragSource(t);e.length=0,t.length=0,this.externalDropZoneCount=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){let e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();let n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){let{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){let t=this.dropTargetEvent(n,e,!1);n.onDragStop?.(t)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){let e=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(e)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);let n=this.findCurrentDropTarget(e),{lastDropTarget:r,dragSource:i,dragItem:a}=this,o=!1;if(n!==r){if(o=!0,r){let n=this.dropTargetEvent(r,e,t);r.onDragLeave?.(n)}if(r!==null&&!n?this.handleExit(i,a):r===null&&n&&this.handleEnter(i,a),n){let r=this.dropTargetEvent(n,e,t);n.onDragEnter?.(r)}this.lastDropTarget=n}else if(n){let r=this.dropTargetEvent(n,e,t);n.onDragging?.(r),r?.changed&&(o=!0)}this.lastMouseEvent=e,o&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){let t=e.getContainer(),n=e.getSecondaryContainers?.(),r=n?.length;if(!r)return[[t]];let i=Array(r+1);i[0]=[t];for(let e=0;e<r;++e)i[e+1]=n[e];return i}isMouseOnDropTarget(e,t){let n=this.getAllContainersFromDropTarget(t),r=!1,i=(e,t)=>{for(let n of t){let{width:t,height:r,left:i,right:a,top:o,bottom:s}=n.getBoundingClientRect();if(t===0||r===0)return!1;let c=e.clientX>=i&&e.clientX<a,l=e.clientY>=o&&e.clientY<s;if(!c||!l)return!1}return!0};for(let t of n)if(i(e,t)){r=!0;break}let{eElement:a,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(a)?!1:r&&t.isInterestedIn(o,a)}findCurrentDropTarget(e){let t=[],n=this.dropTargets;for(let r=0,i=n.length;r<i;++r){let i=n[r];this.isMouseOnDropTarget(e,i)&&t.push(i)}let r=t.length;if(r===0)return null;if(r===1)return t[0];let i=tr(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let e=0,n=i.length;e<n;++e){let n=i[e];for(let e=0,r=t.length;e<r;e++){let r=t[e],i=this.getAllContainersFromDropTarget(r),a=!1;for(let e=0,t=i.length;e<t&&!a;e++){let t=i[e];for(let e=0,r=t.length;e<r;e++)if(t[e]===n){a=!0;break}}if(a)return r}}return null}addDropTarget(e){this.dropTargets.push(e),e.external&&this.externalDropZoneCount++}removeDropTarget(e){let t=e.getContainer(),n=this.dropTargets,r=0;for(let e=0,i=n.length;e<i;++e){let i=n[e];if(i.getContainer()===t){i.external&&--this.externalDropZoneCount;continue}r!==e&&(n[r]=i),++r}n.length=r}hasExternalDropZones(){return this.externalDropZoneCount>0}findExternalZone(e){let t=this.dropTargets;for(let n=0,r=t.length;n<r;++n){let r=t[n];if(r.external&&r.getContainer()===e)return r}return null}dropTargetEvent(e,t,n){let{dragSource:r,dragItem:i,lastDraggingEvent:a,lastMouseEvent:o,dragInitialSourcePointerOffsetX:s,dragInitialSourcePointerOffsetY:c}=this,l=e.getContainer(),u=l.getBoundingClientRect(),{clientX:d,clientY:f}=t,p=d-(o?.clientX||0),m=f-(o?.clientY||0),h=this.createEvent({event:t,x:d-u.left,y:f-u.top,vDirection:m>0?`down`:m<0?`up`:null,hDirection:p<0?`left`:p>0?`right`:null,initialSourcePointerOffsetX:s,initialSourcePointerOffsetY:c,dragSource:r,fromNudge:n,dragItem:i,dropZoneTarget:l,dropTarget:a?.dropTarget??null,changed:!!a?.changed});return this.lastDraggingEvent=h,h}positionDragImageComp(e){let t=this.dragImageComp?.getGui();t&&Mi(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){let t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(e=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(e);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;let n=this.dragImageComp;n!==e&&(this.dragImageComp=e,this.removeDragImageComp(n)),e&&(this.appendDragImageComp(e),this.updateDragImageComp())})}appendDragImageComp(e){let t=e.getGui(),n=t.style;n.position=`absolute`,n.zIndex=`9999`,this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents=`none`),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top=`20px`,n.left=`20px`;let r=or(this.beans);r?r.appendChild(t):this.warnNoBody()}updateDragImageComp(){let{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:r,dragImageLastLabel:i}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(r)??null);let a=t?.dragItemName;typeof a==`function`&&(a=a(r)),a||=``,i!==a&&(this.dragImageLastLabel=a,e.setLabel(a))}},of=class extends Bi{constructor(e,t){super(),this.comp=e,this.stopPropagationCallbacks=t}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard(`top`),this.eBottomGuard=this.createTabGuard(`bottom`),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:n,eFocusableElement:r,stopPropagationCallbacks:i}=this,a=[t,n],o={setTabIndex:e=>{for(let t of a)e==null?t.removeAttribute(`tabindex`):t.setAttribute(`tabindex`,e)}};this.addTabGuards(t,n);let{focusTrapActive:s=!1,onFocusIn:c,onFocusOut:l,focusInnerElement:u,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:h,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new K({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:c,onFocusOut:l,focusInnerElement:u,handleKeyDown:d,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:h,isFocusableContainer:g},i))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=rr(this.beans).createElement(`div`),n=e===`top`?Rl.TAB_GUARD_TOP:Rl.TAB_GUARD_BOTTOM;return t.classList.add(Rl.TAB_GUARD,n),pr(t,`presentation`),t}addTabGuards(e,t){let n=this.eFocusableElement;n.prepend(e),n.append(t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];ei(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){fi(t)||(t=t.getGui());let{eBottomGuard:r}=this;r?r.before(t):e(t,n)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;ti(e),ti(t),super.destroy()}},sf=class extends fc{initialiseTabGuard(e,t){this.tabGuardFeature=this.createManagedBean(new of(this,t)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},cf=class extends af{createEvent(e){return H(this.gos,e)}createDragImageComp(e){let{gos:t,beans:n}=this;return Fc(n.userCompFactory,H(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){z(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){let n={getContainer:e,isInterestedIn:e=>e===1||e===0,getIconName:()=>`notAllowed`};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function lf(e,t){return e+`_`+t}function Q(e){return e instanceof uf}var uf=class extends L{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=$n(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return lf(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(e=>e.isMoving())}checkLeft(){for(let e of this.displayedChildren)Q(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get(`enableRtl`)){let e=U(this.displayedChildren).getLeft();this.setLeft(e)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:`leftChanged`}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(let t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(let t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(let t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||=[],this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(let t of this.displayedChildren??[])qo(t)?e.push(t):Q(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(let t of this.children??[])qo(t)?e.push(t):Q(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e&&e.getProvidedColumnGroup().isExpandable())){this.displayedChildren=this.children,this.dispatchLocalEvent({type:`displayedChildrenChanged`});return}for(let t of this.children??[])if(!(Q(t)&&!t.displayedChildren?.length))switch(t.getColumnGroupShow()){case`open`:e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case`closed`:e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t);break}this.dispatchLocalEvent({type:`displayedChildrenChanged`})}},df=`row-group-`,ff=0,pf=class{constructor(e){this.id=void 0,this.destroyed=!1,this._groupData=void 0,this.master=!1,this.detail=void 0,this.rowIndex=null,this.field=null,this.rowGroupColumn=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=ff++,this.alreadyRendered=!1,this.formulaRowIndex=null,this.hovered=!1,this.__selected=!1,this.beans=e}get groupData(){let e=this._groupData;return e===void 0?this.footer?this.sibling?.groupData:this.beans.groupStage?.loadGroupData(this)??null:e}set groupData(e){this._groupData=e}get allLeafChildren(){let e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();let a=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(a),this.sibling){this.sibling.data=e;let n=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(n)}r.dispatchEvent({type:`rowNodeDataChanged`,node:this});let o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:`rowNodeDataChanged`,node:o}))}updateDataOnDetailNode(){let e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:`dataChanged`,node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(B(13),null):this.rowPinned===`top`?`t-`+this.rowIndex:this.rowPinned===`bottom`?`b-`+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));let a=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(a)}setId(e){let t=mo(this.beans.gos);if(t)if(this.data){let e=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:e.length>0?e:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(`row-group-`)&&B(14,{groupPrefix:df})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent(`topChanged`);let t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent(`displayedChanged`))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent(`heightChanged`)}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){let{colModel:r,valueSvc:i,gos:a,editSvc:o}=this.beans,s=typeof e==`string`?r.getCol(e)??r.getColDefCol(e):e;if(!s)return!1;let c=i.getValueForDisplay({column:s,node:this,source:`api`}).value;if(a.get(`readOnlyEdit`)){let{beans:{eventSvc:e},data:r,rowIndex:i,rowPinned:a}=this;return e.dispatchEvent({type:`cellEditRequest`,event:null,rowIndex:i,rowPinned:a,column:s,colDef:s.colDef,data:r,node:this,oldValue:c,newValue:t,value:t,source:n}),!1}if(o&&!o.committing){let e=o.setDataValue({rowNode:this,column:s},t,n);if(e!=null)return e}let l=i.setValue(this,s,t,n);return this.dispatchCellChangedEvent(s,t,c),l&&this.pinnedSibling?.dispatchCellChangedEvent(s,t,c),l}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent(`hasChildrenChanged`))}hasChildren(){return this.__hasChildren??this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){let r={type:`cellChanged`,node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();let e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){let t=this.childrenAfterGroup;if(t)for(let n=0,r=t.length;n<r;++n)t[n].depthFirstSearch(e);e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n=`api`){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??=new Wn).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);let n=this.__localEventService??=new Wn;this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);let r=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,r)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){let n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(z(61),this.detail)return!0;let e=this.beans.gos.getCallback(`isFullWidthRow`);return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent(`rowIndexChanged`))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent(`allChildrenCountChanged`))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent(`uiLevelChanged`))}getFirstChild(){let e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}_destroy(e){if(this.destroyed)return!1;if(this.destroyed=!0,e?this.clearRowTopAndRowIndex():(this.setRowTop(null),this.setRowIndex(null)),!this.footer){let t=this.detailNode;t&&t._destroy(e);let n=this.sibling;n&&n._destroy(e)}return!0}};function mf(e,t,n){return H(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var hf=new Set([`__autoHeights`,`__checkAutoHeightsDebounced`,`__localEventService`,`__objectId`,`_groupData`,`_leafs`,`childStore`,`groupValue`,`oldRowTop`,`sticky`,`treeNodeFlags`,`treeParent`]),gf=(e,t)=>{let n=new pf(t);for(let t of Object.keys(e))hf.has(t)||(n[t]=e[t]);return n.oldRowTop=null,n},_f=(e,t,n)=>{if(!n)return;let r=n.rowIndex;if(r==null)return;r+=t;let i=e.getRowCount();for(;r>=0&&r<i;){let n=e.getRow(r);if(!n||!n.footer&&!n.detail)return n;r+=t}},vf={agSetColumnFilter:`agSetColumnFilterHandler`,agMultiColumnFilter:`agMultiColumnFilterHandler`,agGroupColumnFilter:`agGroupColumnFilterHandler`,agNumberColumnFilter:`agNumberColumnFilterHandler`,agDateColumnFilter:`agDateColumnFilterHandler`,agTextColumnFilter:`agTextColumnFilterHandler`},yf=new Set(Object.values(vf));function bf(e,t){let n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;let r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function xf(e,t,n,r,i,a,o){return t.refresh?.({...n,model:r,source:a,additionalEventAttributes:o}),e().then(e=>{if(e){let{filter:t,filterParams:n}=e;Sf(t,n,r,i,a,o)}})}function Sf(e,t,n,r,i,a){e?.refresh?.({...t,model:n,state:r,source:i,additionalEventAttributes:a})}function Cf(e,t,n,r){let i=e();i?.created&&i.promise.then(e=>{let a=t();Sf(e,i.filterParams,a,n()??{model:a},`ui`,r)})}function wf(e){let t,n=!1,r,{action:i,filterParams:a,getFilterUi:o,getModel:s,getState:c,updateState:l,updateModel:u,processModelToApply:d}=e;switch(i){case`apply`:{let e=c();r=e?.model??null,d&&(r=d(r)),t={state:e?.state,model:r},n=!0;break}case`clear`:t={model:null},a?.buttons?.includes(`apply`)||(n=!0,r=null);break;case`reset`:t={model:null},n=!0,r=null;break;case`cancel`:t={model:s()};break}l(t),n?u(r):Cf(o,s,c,{fromAction:i})}function Tf(e,t){return e[t]??null}function Ef(e){return yi(e)}function Df(e){return{tag:`div`,cls:e}}var Of=class extends pc{constructor(e){let{className:t=`ag-filter-apply-panel`}=e??{};super(Df(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){let n=this.buttons;if(this.buttons=e,n===e)return;let r=this.getGui();ei(r);let i;this.destroyListeners();let a=document.createDocumentFragment(),o=this.className,s=({type:e,label:n})=>{let r=t=>{this.dispatchLocalEvent({type:e,event:t})};[`apply`,`clear`,`reset`,`cancel`].includes(e)||z(75);let s=e===`apply`,c=Ef({tag:`button`,attrs:{type:s&&t?`submit`:`button`},ref:`${e}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${s?` `+o+`-apply-button`:``}`,children:n});this.activateTabIndex([c]),s&&(i=c);let l=e=>{e.key===G.ENTER&&(e.preventDefault(),r(e))},u=this.listeners;c.addEventListener(`click`,r),u.push(()=>c.removeEventListener(`click`,r)),c.addEventListener(`keydown`,l),u.push(()=>c.removeEventListener(`keydown`,l)),a.append(c)};for(let t of e)s(t);this.eApply=i;let c=this.validationTooltipFeature;i&&!c?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(`tooltipFeature`,!1,{getGui:()=>this.eApply,getLocation:()=>`advancedFilter`,getTooltipShowDelayOverride:()=>1e3})):!i&&c&&(this.validationTooltipFeature=this.destroyBean(c)),r.append(a)}getApplyButton(){return this.eApply}updateValidity(e,t=null){let n=this.eApply;n&&(Wr(n,!e),this.validationMessage=t,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(let e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},kf={applyFilter:`Apply`,clearFilter:`Clear`,resetFilter:`Reset`,cancelFilter:`Cancel`,textFilter:`Text Filter`,numberFilter:`Number Filter`,dateFilter:`Date Filter`,setFilter:`Set Filter`,filterOoo:`Filter...`,empty:`Choose one`,equals:`Equals`,notEqual:`Does not equal`,lessThan:`Less than`,greaterThan:`Greater than`,inRange:`Between`,inRangeStart:`From`,inRangeEnd:`To`,lessThanOrEqual:`Less than or equal to`,greaterThanOrEqual:`Greater than or equal to`,contains:`Contains`,notContains:`Does not contain`,startsWith:`Begins with`,endsWith:`Ends with`,blank:`Blank`,notBlank:`Not blank`,before:`Before`,after:`After`,andCondition:`AND`,orCondition:`OR`,dateFormatOoo:`yyyy-mm-dd`,filterSummaryInactive:`is (All)`,filterSummaryContains:`contains`,filterSummaryNotContains:`does not contain`,filterSummaryTextEquals:`equals`,filterSummaryTextNotEqual:`does not equal`,filterSummaryStartsWith:`begins with`,filterSummaryEndsWith:`ends with`,filterSummaryBlank:`is blank`,filterSummaryNotBlank:`is not blank`,filterSummaryEquals:`=`,filterSummaryNotEqual:`!=`,filterSummaryGreaterThan:`>`,filterSummaryGreaterThanOrEqual:`>=`,filterSummaryLessThan:`<`,filterSummaryLessThanOrEqual:`<=`,filterSummaryInRange:`between`,filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`,minDateValidation:e=>`Date must be after ${e[0]}`,maxDateValidation:e=>`Date must be before ${e[0]}`,strictMinValueValidation:e=>`Must be greater than ${e[0]}`,strictMaxValueValidation:e=>`Must be less than ${e[0]}`};function Af(e,t,n){return I(e,kf,t,n)}function jf(e,t){let{debounceMs:n}=e;return Mf(e)?(n!=null&&z(71),0):n??t}function Mf(e){return(e.buttons?.indexOf(`apply`)??-1)>=0}function Nf(e,t,n,r){let i=Af(e,n);return typeof t==`function`?i=t({filterOptionKey:r,filterOption:Af(e,r),placeholder:i}):typeof t==`string`&&(i=t),i}var Pf=class extends pc{constructor(e,t,n,r,i,a){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=a,this.hidePopup=null,this.applyActive=!1}postConstruct(){let{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?`form`:`div`;this.setTemplate({tag:i,cls:`ag-filter-wrapper`}),r&&this.addManagedElementListeners(this.getGui(),{submit:e=>{e?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:e,params:t})=>{e===this.column&&this.resetButtonsPanel(t,this.params)},filterStateChanged:({column:e,state:t})=>{e===this.column&&this.eButtons?.updateValidity(t.valid!==!1)},filterAction:({column:e,action:t,event:n})=>{e===this.column&&this.afterAction(t,n)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:e})=>{if(e!==this.isGlobalButtons){this.isGlobalButtons=e;let t=this.params;this.resetButtonsPanel(t,t,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){let{buttons:r,readOnly:i}=t??{},{buttons:a,readOnly:o,useForm:s}=e;if(!n&&i===o&&Jn(r,a))return;let c=a&&a.length>0&&!e.readOnly&&!this.isGlobalButtons,l=this.eButtons;if(c){let e=a.map(e=>{let t=`${e}Filter`;return{type:e,label:Af(this,t)}});if(this.applyActive=Mf(this.params),!l){l=this.createBean(new Of),this.appendChild(l.getGui());let e=this.column,t=t=>({event:n})=>{this.updateModel(e,t,{fromButtons:!0}),this.afterAction(t,n)};l?.addManagedListeners(l,{apply:t(`apply`),clear:t(`clear`),reset:t(`reset`),cancel:t(`cancel`)}),this.eButtons=l}l.updateButtons(e,s)}else this.applyActive=!1,l&&(ti(l.getGui()),this.eButtons=this.destroyBean(l))}close(e){let t=this.hidePopup;if(!t)return;let n=e,r=n?.key,i;(r===G.ENTER||r===G.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){let{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case`apply`:t?.preventDefault(),i&&r&&this.close(t);break;case`reset`:i&&r&&this.close();break;case`cancel`:i&&this.close(t);break}}handleKeyDown(e){!e.defaultPrevented&&e.key===G.ENTER&&this.applyActive&&(this.updateModel(this.column,`apply`,{fromButtons:!0}),this.afterAction(`apply`,e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},Ff={tag:`div`,cls:`ag-filter`},If=class extends pc{constructor(e,t,n){super(Ff),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??W.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(i=>{if(!i)return;let{isHandler:a,comp:o}=i,s;if(a){let e=!!this.enableGlobalButtonCheck,n=this.createBean(new Pf(t,i,r,r.updateModel.bind(r),e&&r.isGlobalButtons,e));this.comp=n,s=n.getGui()}else s=o.getGui(),P(s)||z(69,{guiFromFilter:s});this.appendChild(s),e?this.eventSvc.dispatchEvent({type:`filterOpened`,column:t,source:n,eGui:this.getGui()}):o.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){let{source:t,column:n}=e;(t===`api`||t===`paramsUpdated`)&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ei(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:`filterClosed`,column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},Lf={january:`January`,february:`February`,march:`March`,april:`April`,may:`May`,june:`June`,july:`July`,august:`August`,september:`September`,october:`October`,november:`November`,december:`December`},Rf=[`january`,`february`,`march`,`april`,`may`,`june`,`july`,`august`,`september`,`october`,`november`,`december`];function zf(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function Bf(e){return e instanceof Date&&!isNaN(e.getTime())}var Vf={number:()=>void 0,boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:[`empty`,{displayKey:`true`,displayName:`True`,predicate:(e,t)=>t,numberOfInputs:0},{displayKey:`false`,displayName:`False`,predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:Bf}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{let r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t==`string`&&Bf(e.dateParser(t))}),dateTime:e=>Vf.date(e),dateTimeString:e=>Vf.dateString(e),object:()=>void 0,text:()=>void 0},Hf={number:()=>({comparator:zf}),boolean:({t:e})=>({valueFormatter:t=>P(t.value)?e(String(t.value),t.value?`True`:`False`):e(`blanks`,`(Blanks)`)}),date:({formatValue:e,t})=>({valueFormatter:n=>{let r=e(n);return P(r)?r:t(`blanks`,`(Blanks)`)},treeList:!0,treeListFormatter:(e,n)=>{if(e===`NaN`)return t(`invalidDate`,`Invalid Date`);if(n===1&&e!=null){let n=Rf[Number(e)-1];return t(n,Lf[n])}return e??t(`blanks`,`(Blanks)`)},treeListPathGetter:e=>Kl(e,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:t=>{let r=e(t);return P(r)?r:n(`blanks`,`(Blanks)`)},treeList:!0,treeListPathGetter:e=>Kl(t.dateParser(e??void 0),!1),treeListFormatter:(e,t)=>{if(t===1&&e!=null){let t=Rf[Number(e)-1];return n(t,Lf[t])}return e??n(`blanks`,`(Blanks)`)}}),dateTime:e=>{let t=Hf.date(e);return t.treeListPathGetter=Kl,t},dateTimeString(e){let t=e.dataTypeDefinition.dateParser,n=Hf.dateString(e);return n.treeListPathGetter=e=>Kl(t(e??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{let r=e(n);return P(r)?r:t(`blanks`,`(Blanks)`)}}),text:()=>void 0};function Uf(e,t,n,r,i,a,o){let s=t,c=n,l=e===`agSetColumnFilter`;!c&&r.baseDataType===`object`&&!l&&(c=({column:e,node:t})=>i({column:e,node:t,value:a.valueSvc.getValue(e,t)}));let u=(l?Hf:Vf)[r.baseDataType],d=u({dataTypeDefinition:r,formatValue:i,t:o});return s=typeof t==`object`?{...d,...t}:d,{filterParams:s,filterValueGetter:c}}var Wf={boolean:`agTextColumnFilter`,date:`agDateColumnFilter`,dateString:`agDateColumnFilter`,dateTime:`agDateColumnFilter`,dateTimeString:`agDateColumnFilter`,number:`agNumberColumnFilter`,object:`agTextColumnFilter`,text:`agTextColumnFilter`},Gf={boolean:`agTextColumnFloatingFilter`,date:`agDateColumnFloatingFilter`,dateString:`agDateColumnFloatingFilter`,dateTime:`agDateColumnFloatingFilter`,dateTimeString:`agDateColumnFloatingFilter`,number:`agNumberColumnFloatingFilter`,object:`agTextColumnFloatingFilter`,text:`agTextColumnFloatingFilter`};function Kf(e,t=!1){return(t?Gf:Wf)[e??`text`]}var qf=class extends Vl{},Jf=`__ag_Grid_Stop_Propagation`;function Yf(e){e[Jf]=!0}function Xf(e){return e[Jf]===!0}var Zf={isStopPropagation:Xf,stopPropagation:Yf},Qf=class extends Ll{constructor(e,t){super(e,Zf,t)}},$f=class extends pc{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){let e={tag:`div`,cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Qf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new qf(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){let t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}areStatesEqual(e,t){return e===t}refresh(e){let t=e,n=this.params;this.params=t;let{source:r,state:i,additionalEventAttributes:a}=t;r===`colDef`&&this.updateParams(t,n);let o=this.state;this.state=i;let s=a?.fromAction;return(s&&s!==`apply`||i.model!==o.model||!this.areStatesEqual(i.state,o.state))&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=Mf(e),this.setupApplyDebounced()}doesFilterPass(e){z(283);let{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return z(284),this.params.model!=null}setupApplyDebounced(){let e=jf(this.params,this.defaultDebounceMs),t=Ji(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return z(285),this.params.model}setModel(e){z(286);let{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e=`api`){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){let{params:t,state:{valid:n=!0,model:r}}=this;if(!n)return!1;let i=!this.areModelsEqual(t.model,r);return i&&t.onAction(`apply`,e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();let n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;let{params:i,gos:a,eventSvc:o,applyActive:s}=this;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),a.get(`enableFilterHandlers`)||o.dispatchEvent({type:`filterModified`,column:i.column,filterInstance:this}),r.valid&&(e??=s?void 0:`debounce`,e===`immediately`?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e===`debounce`&&this.applyDebounced())}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:n}=this;if(!t)return;let r=e===`floatingFilter`||e===`columnFilter`;r?(t.restoreLastSize(),t.setResizable(n.get(`enableRtl`)?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e,t){return Af(this,e,t)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function ep(e){return!!e.operator}function tp(e,t,n){if(t==null)return null;let r=null,{compName:i,jsComp:a,fwComp:o}=Zc(e,t);return i?r={agSetColumnFilter:`agSetColumnFloatingFilter`,agMultiColumnFilter:`agMultiColumnFloatingFilter`,agGroupColumnFilter:`agGroupColumnFloatingFilter`,agNumberColumnFilter:`agNumberColumnFloatingFilter`,agDateColumnFilter:`agDateColumnFloatingFilter`,agTextColumnFilter:`agTextColumnFloatingFilter`}[i]:a==null&&o==null&&t.filter===!0&&(r=n()),r}var np={AUTO_HEIGHT:`ag-layout-auto-height`,NORMAL:`ag-layout-normal`,PRINT:`ag-layout-print`},rp=class extends L{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener(`domLayout`,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get(`domLayout`),t={autoHeight:e===`autoHeight`,normal:e===`normal`,print:e===`print`},n=t.autoHeight?np.AUTO_HEIGHT:t.print?np.PRINT:np.NORMAL;this.view.updateLayoutClasses(n,t)}},ip=`Viewport`,ap=`fakeVScrollComp`,op=[`fakeHScrollComp`,`centerHeader`,`topCenter`,`bottomCenter`,`stickyTopCenter`,`stickyBottomCenter`],sp=100,cp=150,lp=class extends L{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ji(this,()=>this.lastScrollSource[1]=null,cp),this.resetLastVScrollDebounced=Ji(this,()=>this.lastScrollSource[0]=null,cp)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get(`enableRtl`);let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,ip)});for(let e of op){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get(`fakeVScrollComp`),t=this.gos.get(`debounceVerticalScrollbar`),n=t?Ji(this,this.onVScroll.bind(this,ip),sp):this.onVScroll.bind(this,ip),r=t?Ji(this,this.onVScroll.bind(this,ap),sp):this.onVScroll.bind(this,ap);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...op,ip])this.lastScrollSource[1]!==t&&$r(this.getViewportForSource(t),e,this.enableRtl)}getViewportForSource(e){return e===ip?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let{scrollLeft:t}=this.centerRowsCtrl.eViewport;if(this.shouldBlockScrollUpdate(1,t,!0))return;let n=Qr(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(t=e===ip?this.eBodyViewport.scrollTop:this.ctrlsSvc.get(`fakeVScrollComp`).getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===ip?this.ctrlsSvc.get(`fakeVScrollComp`).setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get(`fakeHScrollComp`).getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){let t={type:`bodyScroll`,direction:e===1?`horizontal`:`vertical`,left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:`bodyScrollEnd`})},cp)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!yl()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=qr(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){let e=this.scrollLeft,t=!1;for(let n of op)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(ip)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl?e>0?0:n:Math.min(Math.max(e,0),n)),$r(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:e,lastScrollTop:t}=this;return{top:t,bottom:t+e}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&=(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:n}=this.beans,r=n.getRowCount(),i=-1;for(let t=0;t<r;t++){let r=n.getRow(t);if(typeof e==`function`){if(r&&e(r)){i=t;break}}else if(e===r||e===r.data){i=t;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(Xa(this.gos,`print`))return;let{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!=`number`||e<0||e>=i){z(88,{index:e});return}this.clearRetryListeners();let{frameworkOverrides:a,pageBounds:o,rowContainerHeight:s,rowRenderer:c}=this.beans;a.wrapIncoming(()=>{let i=this.ctrlsSvc.getGridBodyCtrl(),a=r.getRow(e),l,u,d=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:e,stickyBottomHeight:n}=i,r=a.rowTop,f=a.rowHeight,p=o.getPixelOffset(),m=a.rowTop-p,h=m+a.rowHeight,g=this.getVScrollPosition(),_=s.divStretchOffset,v=g.top+_,y=g.bottom+_,b=y-v,x=s.getScrollPositionForPixel(m),S=s.getScrollPositionForPixel(h-b),C=Math.min((x+S)/2,m),w=v+e>m,T=y-n<h,E=null;t===`top`?E=x-e:t===`bottom`?E=S+n:t===`middle`?E=C:w?E=x-e:T&&(E=S-x>b?x-e:S+n),E!==null&&(this.setVerticalScrollPosition(E),c.redraw({afterScroll:!0})),l=r!==a.rowTop||f!==a.rowHeight,u=e!==i.stickyTopHeight||n!==i.stickyBottomHeight,d++}while((l||u)&&d<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(a?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){let i=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{i!==this.getVScrollPosition().top&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(let e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t=`auto`){let{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;let a=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{a!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(a),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl,s=(o?n:r)||i,c=o?r:n;t!==`auto`&&(s=t===`start`,c=t===`end`);let l=t===`middle`;if(s||c||l){let{colLeft:t,colMiddle:n,colRight:r}=this.getColumnBounds(e);return l?n-a/2:s?o?r:t:o?t-a:r-a}return null}isColumnOutsideViewport(e){let{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),a=this.enableRtl;return{columnBeforeStart:a?t>i:n<i,columnAfterEnd:a?n<r:t>r}}getColumnBounds(e){let t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),a=t?-1:1,o=t?n-i:i,s=o+r*a;return{colLeft:o,colMiddle:o+r/2*a,colRight:s}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},up=class extends L{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener(`domLayout`,e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=Xa(this.gos,`print`),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),a=t.getDisplayedColumnsRightWidth(),o;e?o=r+i+a:(o=r,this.addSpacer&&(this.gos.get(`enableRtl`)?i:a)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},dp=class extends L{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners([`alwaysShowHorizontalScroll`,`alwaysShowVerticalScroll`],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{hi(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=qr(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:`bodyHeightChanged`}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function fp(e,t,n,r){let i=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return mp(e,t,n,r,i)}function pp(e,t,n,r){let i=t?.suppressMouseEventHandling;return mp(e,void 0,n,r,i)}function mp(e,t,n,r,i){return i?i(H(e,{column:t,node:n,event:r})):!1}function hp(e,t,n){let r=t;for(;r;){let t=ao(e,r,n);if(t)return t;r=r.parentElement}return null}var gp=`cellCtrl`;function _p(e,t){return hp(e,t,gp)}var vp=`renderedRow`;function yp(e,t){return hp(e,t,vp)}function bp(e,t,n,r,i){let a=r?r.getColDef().suppressKeyboardEvent:void 0;if(!a)return!1;let o=H(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(a&&a(o))}function xp(e){let{pinnedRowModel:t,rowModel:n,rangeSvc:r,visibleCols:i}=e;if(!r||i.allCols.length===0)return;let a=t?.isEmpty(`top`)??!0,o=t?.isEmpty(`bottom`)??!0,s=a?null:`top`,c,l;o?(c=null,l=n.getRowCount()-1):(c=`bottom`,l=t?.getPinnedBottomRowCount()??-1),r.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:c})}var Sp=class extends L{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){let e=`keydown`,t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){let e=[`dblclick`,`contextmenu`,`mouseover`,`mouseout`,`click`,Ci(`touchstart`)?`touchstart`:`mousedown`];for(let t of e){let e=this.processMouseEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}}processMouseEvent(e,t){if(!ji(this.beans,t)||Xf(t))return;let{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e===`contextmenu`?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:_p(t,e),rowCtrl:yp(t,e)}}processKeyboardEvent(e,t){let{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){let r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;bp(this.gos,n,e.rowNode,e.column,r)||t===`keydown`&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),nu(n)&&e.processCharacter(n)),t===`keydown`&&this.eventSvc.dispatchEvent(e.createEvent(n,`cellKeyDown`))}processFullWidthRowKeyboardEvent(e,t,n){let{rowNode:r}=e,{focusSvc:i,navigation:a}=this.beans,o=i.getFocusedCell()?.column;if(!bp(this.gos,n,r,o,!1)){let r=n.key;if(t===`keydown`)switch(r){case G.PAGE_HOME:case G.PAGE_END:case G.PAGE_UP:case G.PAGE_DOWN:a?.handlePageScrollingKey(n,!0);break;case G.LEFT:case G.RIGHT:if(!this.gos.get(`embedFullWidthRows`))break;case G.UP:case G.DOWN:e.onKeyboardNavigate(n);break;case G.TAB:e.onTabKeyDown(n);break;default:}}t===`keydown`&&this.eventSvc.dispatchEvent(e.createRowEvent(`cellKeyDown`,n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!ji(this.beans,e))return;let n=sl(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===G.A)return this.onCtrlAndA(e);if(n===G.C)return this.onCtrlAndC(r,e);if(n===G.D)return this.onCtrlAndD(r,e);if(n===G.V)return this.onCtrlAndV(r,e);if(n===G.X)return this.onCtrlAndX(r,e);if(n===G.Y)return this.onCtrlAndY(i);if(n===G.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&So(i)&&!No(i)&&t.isRowsToRender()?xp(this.beans):r&&r.selectAllRowNodes({source:`keyboardSelectAll`,selectAll:Mo(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get(`enableCellTextSelection`))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get(`enableCellTextSelection`)||this.gos.get(`suppressCutToClipboard`))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,`ui`))}onCtrlAndV(e,t){let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get(`suppressClipboardPaste`)&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get(`suppressClipboardPaste`)&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get(`undoRedoCellEditing`)||!e||(t.preventDefault(),t.shiftKey?e.redo(`ui`):e.undo(`ui`))}onCtrlAndY(e){e?.redo(`ui`)}},Cp=class extends L{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,n=t==null?``:`${t}px`;this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},wp=e=>e.topRowCtrls,Tp=e=>e.getStickyTopRowCtrls(),Ep=e=>e.getStickyBottomRowCtrls(),Dp=e=>e.bottomRowCtrls,Op=e=>e.allRowCtrls,kp=e=>e.getCtrls(`top`),Ap=e=>e.getCtrls(`center`),jp=e=>e.getCtrls(`bottom`),Mp={center:{type:`center`,name:`center-cols`,getRowCtrls:Op,getSpannedRowCtrls:Ap},left:{type:`left`,name:`pinned-left-cols`,pinnedType:`left`,getRowCtrls:Op,getSpannedRowCtrls:Ap},right:{type:`right`,name:`pinned-right-cols`,pinnedType:`right`,getRowCtrls:Op,getSpannedRowCtrls:Ap},fullWidth:{type:`fullWidth`,name:`full-width`,fullWidth:!0,getRowCtrls:Op},topCenter:{type:`center`,name:`floating-top`,getRowCtrls:wp,getSpannedRowCtrls:kp},topLeft:{type:`left`,name:`pinned-left-floating`,container:`ag-pinned-left-floating-top`,pinnedType:`left`,getRowCtrls:wp,getSpannedRowCtrls:kp},topRight:{type:`right`,name:`pinned-right-floating`,container:`ag-pinned-right-floating-top`,pinnedType:`right`,getRowCtrls:wp,getSpannedRowCtrls:kp},topFullWidth:{type:`fullWidth`,name:`floating-top-full-width`,fullWidth:!0,getRowCtrls:wp},stickyTopCenter:{type:`center`,name:`sticky-top`,getRowCtrls:Tp},stickyTopLeft:{type:`left`,name:`pinned-left-sticky-top`,container:`ag-pinned-left-sticky-top`,pinnedType:`left`,getRowCtrls:Tp},stickyTopRight:{type:`right`,name:`pinned-right-sticky-top`,container:`ag-pinned-right-sticky-top`,pinnedType:`right`,getRowCtrls:Tp},stickyTopFullWidth:{type:`fullWidth`,name:`sticky-top-full-width`,fullWidth:!0,getRowCtrls:Tp},stickyBottomCenter:{type:`center`,name:`sticky-bottom`,getRowCtrls:Ep},stickyBottomLeft:{type:`left`,name:`pinned-left-sticky-bottom`,container:`ag-pinned-left-sticky-bottom`,pinnedType:`left`,getRowCtrls:Ep},stickyBottomRight:{type:`right`,name:`pinned-right-sticky-bottom`,container:`ag-pinned-right-sticky-bottom`,pinnedType:`right`,getRowCtrls:Ep},stickyBottomFullWidth:{type:`fullWidth`,name:`sticky-bottom-full-width`,fullWidth:!0,getRowCtrls:Ep},bottomCenter:{type:`center`,name:`floating-bottom`,getRowCtrls:Dp,getSpannedRowCtrls:jp},bottomLeft:{type:`left`,name:`pinned-left-floating-bottom`,container:`ag-pinned-left-floating-bottom`,pinnedType:`left`,getRowCtrls:Dp,getSpannedRowCtrls:jp},bottomRight:{type:`right`,name:`pinned-right-floating-bottom`,container:`ag-pinned-right-floating-bottom`,pinnedType:`right`,getRowCtrls:Dp,getSpannedRowCtrls:jp},bottomFullWidth:{type:`fullWidth`,name:`floating-bottom-full-width`,fullWidth:!0,getRowCtrls:Dp}};function Np(e){return`ag-${Ip(e).name}-viewport`}function Pp(e){let t=Ip(e);return t.container??`ag-${t.name}-container`}function Fp(e){return`ag-${Ip(e).name}-spanned-cells-container`}function Ip(e){return Mp[e]}var Lp=[`topCenter`,`topLeft`,`topRight`],Rp=[`bottomCenter`,`bottomLeft`,`bottomRight`],zp=[`center`,`left`,`right`],Bp=[`center`,`left`,`right`,`fullWidth`],Vp=[`stickyTopCenter`,`stickyBottomCenter`,`center`,`topCenter`,`bottomCenter`],Hp=[`left`,`bottomLeft`,`topLeft`,`stickyTopLeft`,`stickyBottomLeft`],Up=[`right`,`bottomRight`,`topRight`,`stickyTopRight`,`stickyBottomRight`],Wp=[`stickyTopCenter`,`stickyTopLeft`,`stickyTopRight`],Gp=[`stickyBottomCenter`,`stickyBottomLeft`,`stickyBottomRight`],Kp=[...Wp,`stickyTopFullWidth`,...Gp,`stickyBottomFullWidth`],qp=[...Lp,...Rp,...zp,...Wp,...Gp],Jp=class extends L{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Ip(e)}postConstruct(){this.enableRtl=this.gos.get(`enableRtl`),this.forContainers([`center`],()=>{this.viewportSizeFeature=this.createManagedBean(new dp(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new Sp(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:i,rangeSvc:a}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Hp,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Up,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Bp,()=>this.createManagedBean(new Cp(this.eContainer,this.name===`center`?r:void 0))),a&&this.forContainers(qp,()=>this.createManagedBean(a.createDragListenerFeature(this.eContainer))),this.forContainers(Vp,()=>this.createManagedBean(new up(e=>this.comp.setContainerWidth(`${e}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get(`enableCellSpan`)&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let t=this.options.getSpannedRowCtrls(e);t&&this.comp.setSpannedRowCtrls(t,!1)}})}listenOnDomOrder(){if(Kp.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let e=()=>{let e=this.gos.get(`ensureDomOrder`),t=Xa(this.gos,`print`);this.comp.setDomOrder(e||t)};this.addManagedPropertyListener(`domLayout`,e),e()}onDisplayedColumnsChanged(){this.forContainers([`center`],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=t=>{e.dragging&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener(`touchmove`,t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener(`touchmove`,t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Jr(this.eViewport)}getCenterViewportScrollLeft(){return Qr(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=mi(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return ni(this.eViewport)}getViewportScrollLeft(){return Qr(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get(`alwaysShowHorizontalScroll`)||oi(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){$r(this.eViewport,e,this.enableRtl)}isContainerVisible(){return this.options.pinnedType==null||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=Xa(this.gos,`print`),r=this.gos.get(`embedFullWidthRows`)||n,i=t.filter(e=>{let t=e.isFullWidth();return this.options.fullWidth?!r&&t:r||!t});this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},Yp=`ag-force-vertical-scroll`,Xp=`ag-selectable`,Zp=`ag-column-moving`,Qp=class extends L{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,a,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=a,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${Np(`center`)}`),this.eFullWidthContainer=n.querySelector(`.${Pp(`fullWidth`)}`),this.eStickyTopFullWidthContainer=a.querySelector(`.${Pp(`stickyTopFullWidth`)}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Pp(`stickyBottomFullWidth`)}`),this.setCellTextSelection(this.gos.get(`enableCellTextSelection`)),this.addManagedPropertyListener(`enableCellTextSelection`,e=>this.setCellTextSelection(e.currentValue)),this.createManagedBean(new rp(this.comp)),this.scrollFeature=this.createManagedBean(new lp(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,a,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register(`gridBodyCtrl`,this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener(`treeData`,t)}toggleRowResizeStyles(e){let t=e.type===`rowResizeStarted`;this.eBodyViewport.classList.toggle(`ag-prevent-animation`,t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let n=`calc(100% + ${(t&&e.getScrollbarWidth()||0)+(wl()?16:0)}px)`;hi(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t,gos:n}=this,r=n.get(`treeData`);if(!r){let n=t.isPivotMode();r=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(r?`treegrid`:`grid`)}addFocusListeners(e){for(let t of e)this.addManagedElementListeners(t,{focusin:e=>{let{target:n}=e,r=Gr(n,`ag-root`,t);t.classList.toggle(`ag-has-focus`,!r)},focusout:e=>{let{target:n,relatedTarget:r}=e,i=t.contains(r),a=Gr(r,`ag-root`,t);Gr(n,`ag-root`,t)||(!i||a)&&t.classList.remove(`ag-has-focus`)}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Zp,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Xp,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle(`ag-body-vertical-content-no-gap`,!t.verticalScrollGap),e.toggle(`ag-body-horizontal-content-no-gap`,!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?`scroll`:`hidden`;this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get(`alwaysShowVerticalScroll`),t=e?Yp:null,n=Xa(this.gos,`normal`);return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&si(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,n=t.sizesMeasured,r=()=>{let t=n&&so(this.gos)&&!e.stretching,r=t?`ag-row-animation`:`ag-row-no-animation`;this.comp.setRowAnimationCssOnBodyViewport(r,t)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener(`animateRows`,r),this.addManagedEventListeners({stylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){let{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:a,touchSvc:o}}=this,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:s}),o?.mockBodyContextMenu(this,s),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,a)});let c=this.onStickyWheel.bind(this);for(let e of[t,n,r,i])this.addManagedElementListeners(e,{wheel:c});let l=this.onHorizontalWheel.bind(this);for(let e of[`left`,`right`,`topLeft`,`topRight`,`bottomLeft`,`bottomRight`])this.addManagedElementListeners(this.ctrlsSvc.get(e).eContainer,{wheel:l});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&ji(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){let{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get(`preventDefaultOnContextMenu`)&&(e||n).preventDefault();let{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get(`center`).eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:`ui`})}onBodyViewportWheel(e,t){this.gos.get(`suppressScrollWhenPopupsAreOpen`)&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth()-t.getRowBorderWidth(),a=n?i+n:0,o=r?i+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(o),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(o<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth(`100%`),this.comp.setStickyBottomWidth(`100%`);else{let e=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}}setStickyTopOffsetTop(){let e=this.ctrlsSvc.get(`gridHeaderCtrl`).headerHeight+(this.filterManager?.getHeaderHeight()??0),t=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,n=0;e>0&&(n+=e),t>0&&(n+=t),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=(e?.getPinnedBottomTotalHeight()??0)+(t.horizontalScrollShowing&&t.getScrollbarWidth()||0);n.setStickyBottomBottom(`${r}px`)}};function $p(e,t){return _p(e,t.target)?.getFocusedCellPosition()??null}function em(e,t){let n=Xa(e.gos,`normal`),r=t,i,a;r.clientX!=null||r.clientY!=null?(i=r.clientX,a=r.clientY):(i=r.x,a=r.y);let{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(a+=o,n){let t=e.ctrlsSvc.getScrollFeature(),n=t.getVScrollPosition(),r=t.getHScrollPosition();i+=r.left,a+=n.top}return{x:i,y:a}}var tm=class extends pc{constructor(e,t){super(),this.direction=t,this.eViewport=null,this.eContainer=null,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss(`ag-apple-scrollbar`,vl()||yl())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=wl(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.toggleCss(`ag-scrollbar-active`,!0),n=()=>this.toggleCss(`ag-scrollbar-active`,!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),hi(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&=(window.clearTimeout(this.hideTimeout),0),this.toggleCss(`ag-scrollbar-scrolling`,!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss(`ag-scrollbar-scrolling`,!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;Xi(this,()=>ri(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},nm={tag:`div`,cls:`ag-body-horizontal-scroll`,attrs:{"aria-hidden":`true`},children:[{tag:`div`,ref:`eLeftSpacer`,cls:`ag-horizontal-left-spacer`},{tag:`div`,ref:`eViewport`,cls:`ag-body-horizontal-scroll-viewport`,children:[{tag:`div`,ref:`eContainer`,cls:`ag-body-horizontal-scroll-container`}]},{tag:`div`,ref:`eRightSpacer`,cls:`ag-horizontal-right-spacer`}]},rm=class extends tm{constructor(){super(nm,`horizontal`),this.eLeftSpacer=null,this.eRightSpacer=null,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener(`domLayout`,e),this.beans.ctrlsSvc.register(`fakeHScrollComp`,this),this.createManagedBean(new up(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners([`suppressHorizontalScroll`],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get(`enableRtl`),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),li(this.eRightSpacer,t),this.eRightSpacer.classList.toggle(`ag-scroller-corner`,t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),li(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle(`ag-scroller-corner`,i<=r)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get(`suppressHorizontalScroll`),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,i=n?0:r===0&&t?16:r,a=()=>{this.setScrollVisibleDebounce=0,this.toggleCss(`ag-scrollbar-invisible`,t),ui(this.getGui(),i),ui(this.eViewport,i),ui(this.eContainer,i),i||this.eContainer.style.setProperty(`min-height`,`1px`),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(a,100):a()}getScrollPosition(){return Qr(this.eViewport,this.enableRtl)}setScrollPosition(e){ri(this.eViewport)||this.attemptSettingScrollPosition(e),$r(this.eViewport,e,this.enableRtl)}},im={tag:`div`,cls:`ag-body-vertical-scroll`,attrs:{"aria-hidden":`true`},children:[{tag:`div`,ref:`eViewport`,cls:`ag-body-vertical-scroll-viewport`,children:[{tag:`div`,ref:`eContainer`,cls:`ag-body-vertical-scroll-container`}]}]},am=class extends tm{constructor(){super(im,`vertical`)}postConstruct(){super.postConstruct(),this.createManagedBean(new Cp(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register(`fakeVScrollComp`,this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss(`ag-scrollbar-invisible`,n),li(this.getGui(),i),li(this.eViewport,i),li(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let t=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),r=t.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!ri(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},om=`ag-column-first`,sm=`ag-column-last`;function cm(e,t,n,r){return Kn(e)?[]:dm(e.headerClass,e,t,n,r)}function lm(e,t,n){e.toggleCss(om,n.isColAtEdge(t,`first`)),e.toggleCss(sm,n.isColAtEdge(t,`last`))}function um(e,t,n,r){return H(t,{colDef:e,column:n,columnGroup:r})}function dm(e,t,n,r,i){if(Kn(e))return[];let a;return a=typeof e==`function`?e(um(t,n,r,i)):e,typeof a==`string`?[a]:Array.isArray(a)?[...a]:[]}function fm(e){let{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??`null`}.${r.getId()}`}function pm(e,t){let n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function mm(e,t){switch(e.rowPinned){case`top`:if(t.rowPinned!==`top`)return!0;break;case`bottom`:if(t.rowPinned!==`bottom`)return!1;break;default:if(P(t.rowPinned))return t.rowPinned!==`top`;break}return e.rowIndex<t.rowIndex}function hm(e,t){return!e&&!t?!0:!e||!t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function gm(e){let t=0,n,{pinnedRowModel:r,rowModel:i,pageBounds:a}=e;return r?.getPinnedTopRowCount()?n=`top`:i.getRowCount()?(n=null,t=a.getFirstRow()):r?.getPinnedBottomRowCount()&&(n=`bottom`),n===void 0?null:{rowIndex:t,rowPinned:n}}function _m(e){let t,n=null,{pinnedRowModel:r,pageBounds:i}=e,a=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return a?(n=`bottom`,t=a-1):e.rowModel.getRowCount()?t=i.getLastRow():o&&(n=`top`,t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function vm(e,t){switch(t.rowPinned){case`top`:return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case`bottom`:return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function ym(e,t){let n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;let r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function bm(e,t,n){let{rowModel:r,pinnedRowModel:i}=e,a;return a??=r?.getRowNode(t),n?a??=i?.getPinnedRowById(t,n):(a??=i?.getPinnedRowById(t,`top`),a??=i?.getPinnedRowById(t,`bottom`)),a}function xm(e,t,n=!1){let{rowIndex:r,rowPinned:i}=t,{pageBounds:a,pinnedRowModel:o,rowModel:s}=e;return r===0?i===`top`?null:i===`bottom`&&s.isRowsToRender()?{rowIndex:a.getLastRow(),rowPinned:null}:o?.isRowsToRender(`top`)?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:`top`}:null:n?Cm(e,i?void 0:s.getRow(r),!0)??{rowIndex:r-1,rowPinned:i}:{rowIndex:r-1,rowPinned:i}}function Sm(e,t,n=!1){let{rowIndex:r,rowPinned:i}=t,{pageBounds:a,pinnedRowModel:o,rowModel:s}=e;return wm(e,t)?i===`bottom`?null:i===`top`&&s.isRowsToRender()?{rowIndex:a.getFirstRow(),rowPinned:null}:o?.isRowsToRender(`bottom`)?{rowIndex:0,rowPinned:`bottom`}:null:n?Cm(e,i?void 0:s.getRow(r))??{rowIndex:r+1,rowPinned:i}:{rowIndex:r+1,rowPinned:i}}function Cm(e,t,n=!1){let{gos:r,rowRenderer:i}=e;if(!t?.sticky||!co(r))return;let a=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),s=!o.some(e=>e.rowNode.rowIndex===t.rowIndex),c=s?a:o,l=(n?-1:1)*(s?-1:1),u;for(let e=0;e<c.length;e++)if(c[e].rowNode.rowIndex===t.rowIndex){u=c[e+l];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function wm(e,t){let{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:a}=e;return n===`top`?(i?.getPinnedTopRowCount()??0)-1<=r:n===`bottom`?(i?.getPinnedBottomRowCount()??0)-1<=r:a.getLastRow()<=r}function Tm(e,t,n){t.addManagedElementListeners(n,{keydown:t=>{if(!t.defaultPrevented&&t.key===G.TAB){let r=t.shiftKey;Pl(e,n,!1,r)||km(e,r)&&t.preventDefault()}}})}function Em(e,t){return e.ctrlsSvc.get(`gridCtrl`).focusInnerElement(t)}function Dm(e){return e.gos.get(`suppressHeaderFocus`)||!!e.overlays?.exclusive}function Om(e){return e.gos.get(`suppressCellFocus`)||!!e.overlays?.exclusive}function km(e,t,n=!1){let r=e.ctrlsSvc.get(`gridCtrl`);return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function Am(e,t){let n=e.focusSvc,r=n.getFocusedCell();if(r&&t&&pm(r,t)){let{rowIndex:r,rowPinned:i,column:a}=t;ir(e)&&n.setFocusedCell({rowIndex:r,column:a,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!jl()})}}function jm(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Mm(e){let t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let r of n){if(!r)continue;let n=r.getGroupRowCount()||0;for(let i=0;i<n;i++){let n=r.getGroupRowCtrlAtIndex(i),a=t[i];if(n){let r=Nm(e,n);(a==null||r>a)&&(t[i]=r)}}}return t}function Nm(e,t){let n=e.colModel.isPivotMode()?zm(e):Lm(e),r=t.getHeaderCellCtrls();for(let e of r){let{column:t}=e,r=t.getAutoHeaderHeight();r!=null&&r>n&&t.isAutoHeaderHeight()&&(n=r)}return n}function Pm(e){let t=e.colModel.isPivotMode()?Rm(e):Fm(e);return e.colModel.forAllCols(e=>{let n=e.getAutoHeaderHeight();n!=null&&n>t&&e.isAutoHeaderHeight()&&(t=n)}),t}function Fm(e){return e.gos.get(`headerHeight`)??e.environment.getDefaultHeaderHeight()}function Im(e){return e.gos.get(`floatingFiltersHeight`)??Fm(e)}function Lm(e){return e.gos.get(`groupHeaderHeight`)??Fm(e)}function Rm(e){return e.gos.get(`pivotHeaderHeight`)??Fm(e)}function zm(e){return e.gos.get(`pivotGroupHeaderHeight`)??Lm(e)}function Bm(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var Vm=class extends L{setComp(e,t,n){this.comp=e,this.eGui=t;let{beans:r}=this,{headerNavigation:i,touchSvc:a,ctrlsSvc:o}=r;i&&this.createManagedBean(new Qf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();let s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),a?.mockHeaderContextMenu(this,s),o.register(`gridHeaderCtrl`,this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners([`headerHeight`,`pivotHeaderHeight`,`groupHeaderHeight`,`pivotGroupHeaderHeight`,`floatingFiltersHeight`],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>hi(this.beans,()=>e()),stylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,n=Mm(e).reduce((e,t)=>e+t,0),r=Pm(e);if(e.filterManager?.hasFloatingFilters()&&(t+=Im(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;let i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:`headerHeightChanged`})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.toggleCss(`ag-pivot-on`,t),this.comp.toggleCss(`ag-pivot-off`,!t)}onDisplayedColumnsChanged(e){let t=e.visibleCols.allCols.some(e=>e.isSpanHeaderHeight());this.comp.toggleCss(`ag-header-allow-overflow`,t)}onTabKeyDown(e){let t=this.gos.get(`enableRtl`),n=e.shiftKey,r=n===t?`RIGHT`:`LEFT`,{beans:i}=this,{headerNavigation:a,focusSvc:o}=i;(a.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||km(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:n}=this.beans;switch(e.key){case G.LEFT:t=`LEFT`;case G.RIGHT:P(t)||(t=`RIGHT`),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case G.UP:t=`UP`;case G.DOWN:P(t)||(t=`DOWN`),n.navigateVertically(t,e)&&e.preventDefault();break;default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(nr(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){let{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;let{target:a}=e??t;(a===this.eGui||a===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},Hm=class extends L{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector(`[role=columnheader]`)||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get(`enableRtl`)&&t?U(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener(`domLayout`,e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,n=e.get(`suppressColumnMoveAnimation`),r=P(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:n,visibleCols:r}=this.beans;if(!Xa(n,`print`)||e.getPinned()===`left`)return t;let i=r.getColsLeftWidth();return e.getPinned()===`right`?i+r.bodyWidth+t:i+t}setLeft(e){if(P(e)&&(this.eCell.style.left=`${e}px`),Q(this.columnOrGroup)){let e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&Mr(this.ariaEl,e.length)}}},Um=0,Wm=`headerCtrl`,Gm=class extends L{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+`-`+ Um++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners([`suppressHeaderFocus`],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,r,i){t.setAttribute(`col-id`,this.column.colIdSanitised),this.wireComp(e,t,n,r,i),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){let{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r?.suppressHeaderKeyboardEvent;return P(i)?!!i(H(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e})):!1}getWrapperHasFocus(){return nr(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,n;n=typeof t==`function`?t(this.getHeaderClassParams()):t,n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:`headerFocused`,column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,a=e=>{if(!this.isAlive()||!r.isAlive())return;let{paddingTop:n,paddingBottom:o,borderBottomWidth:s,borderTopWidth:c}=Kr(this.eGui),l=n+o+s+c,u=t.offsetHeight+l;if(e<5&&(!rr(i)?.contains(t)||u==0)){qi(()=>a(e+1),`raf`,i);return}this.setColHeaderHeight(this.column,u)},o=!1,s,c=()=>{let e=this.column.isAutoHeaderHeight();e&&!o&&l(),!e&&o&&u()},l=()=>{o=!0,this.comp.toggleCss(`ag-header-cell-auto-height`,!0),a(0),s=mi(this.beans,t,()=>a(0))},u=()=>{o=!1,s&&s(),this.comp.toggleCss(`ag-header-cell-auto-height`,!1),s=void 0};c(),r.addDestroyFunc(()=>u()),r.addManagedListeners(this.column,{widthChanged:()=>o&&a(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>a(0))}}),n&&n(c)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(lm(e,t,n.visibleCols),jr(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=Dm(this.beans);this.eGui&&pi(this.eGui,`tabindex`,e?null:`-1`)}onGuiKeyDown(e){let t=nr(this.beans),n=e.key===G.LEFT||e.key===G.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),(e.ctrlKey||e.metaKey)&&sl(e)===G.C)return this.beans.clipboardSvc?.copyToClipboard();if(!n)return;let r=e.key===G.LEFT===this.gos.get(`enableRtl`)?`right`:`left`;if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:n}=this,r=e.key===G.LEFT!==t.get(`enableRtl`),i=n.getPinned(),a=t.get(`enableRtl`);return i&&a!==(i===`right`)&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&=(window.clearTimeout(this.resizeToggleTimeout),0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case G.PAGE_DOWN:case G.PAGE_UP:case G.PAGE_HOME:case G.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=Wm,{eGui:n,gos:r}=this;oo(r,n,t,this),e.addDestroyFunc(()=>oo(r,n,t,null))}focus(e){if(!this.isAlive())return!1;let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus()):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&=(this.beans.dragAndDrop?.removeDragSource(this.dragSource),null)}handleContextMenuMouseEvent(e,t,n){let r=e??t,{menuSvc:i,gos:a}=this.beans;a.get(`preventDefaultOnContextMenu`)&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent(`columnHeaderContextMenu`,n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:`columnHeaderHeightChanged`,column:e,columns:[e],source:`autosizeColumnHeaderHeight`}):n.dispatchEvent({type:`columnGroupHeaderHeightChanged`,columnGroup:e,source:`autosizeColumnGroupHeaderHeight`})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Km=class extends Gm{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,r,i){this.comp=e;let{rowCtrl:a,column:o,beans:s}=this,{colResize:c,context:l,colHover:u,rangeSvc:d}=s,f=cc(this,l,i);this.setGui(t,f),this.updateState(),this.setupWidth(f),this.setupMovingCss(f),this.setupMenuClass(f),this.setupSortableClass(f),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:e=>this.setRefreshFunction(`measuring`,e),compBean:f}),this.addColumnHoverListener(f),this.setupFilterClass(f),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(f),this.setupSelectAll(f),this.setupUserComp(),this.refreshAria(),c?this.resizeFeature=f.createManagedBean(c.createResizeFeature(a.pinned,o,n,e,this)):F(n,!1),u?.createHoverFeature(f,[o],t),d?.createRangeHighlightFeature(f,o,e),f.createManagedBean(new Hm(o,t,s)),f.createManagedBean(new Qf(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(f),f.addManagedPropertyListeners([`suppressMovableColumns`,`suppressMenuHide`,`suppressAggFuncInHeader`,`enableAdvancedFilter`],()=>this.refresh()),f.addManagedListeners(o,{colDefChanged:()=>this.refresh(),formulaRefChanged:()=>this.refresh(),headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let p=()=>this.checkDisplayName();f.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),f.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return H(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return Ic(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return H(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||Lo(this.gos)),showColumnMenu:(t,n)=>{e?.showColumnMenu({column:this.column,buttonElement:t,positionBy:`button`,onClosedCallback:n})},showColumnMenuAfterMouseClick:(t,n)=>{e?.showColumnMenu({column:this.column,mouseEvent:t,positionBy:`mouse`,onClosedCallback:n})},showFilter:t=>{e?.showFilterMenu({column:this.column,buttonElement:t,containerType:`columnFilter`,positionBy:`button`})},progressSort:e=>{t?.progressSort(this.column,!!e,`uiColumnSorted`)},setSort:(e,n)=>{t?.setSortForColumn(this.column,Zo(e),!!n,`uiColumnSorted`)},eGridHeader:this.eGui,setTooltip:(e,t)=>{r.assertModuleRegistered(`Tooltip`,3),this.setupTooltip(e,t)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener(`rowSelection`,()=>{let n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===G.SPACE?this.selectAllFeature?.onSpaceKeyDown(e):e.key===G.ENTER?this.onEnterKeyDown(e):e.key===G.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){let{column:t,gos:n,sortable:r,beans:i}=this,a=!1;(e.ctrlKey||e.metaKey)&&(a=this.showMenuOnKeyPress(e,!0)),a||(!e.altKey&&Co(n)?i.rangeSvc?.handleColumnSelection(t,e):r&&i.sortSvc?.progressSort(t,e.shiftKey,`uiColumnSorted`))}showMenuOnKeyPress(e,t){let n=this.comp.getUserCompInstance();return qm(n)&&n.onMenuKeyboardShortcut(t)?(e.preventDefault(),!0):!1}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),jl()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction(`headerStyles`,this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let e=cm(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e);for(let n of e)t.has(n)?t.delete(n):this.comp.toggleCss(n,!0);for(let e of t)this.comp.toggleCss(e,!1)};this.setRefreshFunction(`headerClasses`,e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(let e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){let e=this.lookupUserCompDetails();e&&(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e))}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,`header`,!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!this.gos.get(`suppressMovableColumns`)&&!e.suppressMovable&&!e.lockPosition||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.toggleCss(`ag-header-cell-moving`,this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.toggleCss(`ag-column-menu-visible`,this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.toggleCss(`ag-header-cell-sortable`,!!this.sortable)};t(),this.setRefreshFunction(`updateSortable`,t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let e=this.column.isFilterActive();this.comp.toggleCss(`ag-header-cell-filtered`,e),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let e=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss(`ag-header-cell-wrap-text`,e)};e(),this.setRefreshFunction(`wrapText`,e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss(`ag-header-highlight-before`,t),this.comp.toggleCss(`ag-header-highlight-after`,n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:n,beans:r}=this,i=Mm(this.beans),a=i.reduce((e,t)=>e+t,0)===0;if(n.toggleCss(`ag-header-parent-hidden`,a),!t.isSpanHeaderHeight()){e.style.removeProperty(`top`),e.style.removeProperty(`height`),n.toggleCss(`ag-header-span-height`,!1),n.toggleCss(`ag-header-span-total`,!1);return}let{numberOfParents:o,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();n.toggleCss(`ag-header-span-height`,o>0);let c=Pm(r);if(o===0){n.toggleCss(`ag-header-span-total`,!1),e.style.setProperty(`top`,`0px`),e.style.setProperty(`height`,`${c}px`);return}n.toggleCss(`ag-header-span-total`,s);let l=(this.column.getFirstRealParent()?.getLevel()??-1)+1,u=i.length-l,d=0;for(let e=0;e<u;e++)d+=i[i.length-1-e];e.style.setProperty(`top`,`${-d}px`),e.style.setProperty(`height`,`${c+d}px`)}refreshAriaSort(){let e=null,{beans:t,column:n,comp:r,sortable:i}=this;if(i){let i=this.getLocaleTextFunc(),a=t.sortSvc?.getDisplaySortForColumn(n)??null;r.setAriaSort(mr(a)),e=i(`ariaSortableColumn`,`Press ENTER to sort`)}else r.setAriaSort();this.setAriaDescriptionProperty(`sort`,e)}refreshAriaMenu(){let e=null;this.menuEnabled&&(e=this.getLocaleTextFunc()(`ariaMenuColumn`,`Press ALT DOWN to open column menu`)),this.setAriaDescriptionProperty(`menu`,e)}refreshAriaFilterButton(){let e=null,{openFilterEnabled:t,gos:n}=this;t&&!Lo(n)&&(e=this.getLocaleTextFunc()(`ariaFilterColumn`,`Press CTRL ENTER to open filter`)),this.setAriaDescriptionProperty(`filterButton`,e)}refreshAriaFiltered(){let e=null;this.column.isFilterActive()&&(e=this.getLocaleTextFunc()(`ariaColumnFiltered`,`Column Filtered`)),this.setAriaDescriptionProperty(`filter`,e)}refreshAriaCellSelection(){let e=null,{gos:t,column:n,beans:r}=this;if(Co(t)){let t=this.getLocaleTextFunc(),i=r.rangeSvc?.isColumnInAnyRange(n);e=t(`ariaColumnCellSelection`,`Press CTRL+SPACE to ${i?`de`:``}select all visible cells in this column`)}this.setAriaDescriptionProperty(`cellSelection`,e)}setAriaDescriptionProperty(e,t){let n=this.ariaDescriptionProperties;t==null?n.delete(e):n.set(e,t)}announceAriaDescription(){let{beans:e,eGui:t,ariaDescriptionProperties:n}=this;if(!t.contains(nr(e)))return;let r=Array.from(n.keys()).sort((e,t)=>e===`filter`?-1:t.charCodeAt(0)-e.charCodeAt(0)).map(e=>n.get(e)).join(`. `);e.ariaAnnounce?.announceValue(r,`columnHeader`)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered(),this.refreshAriaCellSelection()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=e=>this.handleMouseOverChange(e.type===`mouseenter`);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent(`columnHeaderClicked`,this.column)},contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?`columnHeaderMouseOver`:`columnHeaderMouseLeave`,column:this.column})}setActiveHeader(e){this.comp.toggleCss(`ag-header-active`,e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return qm(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function qm(e){return typeof e?.getAnchorElementForMenu==`function`&&typeof e.onMenuKeyboardShortcut==`function`}var Jm=0,Ym=class extends L{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Jm++,this.comp=null,this.allCtrls=[];let r=`ag-header-row-column`;n===`group`?r=`ag-header-row-group`:n===`filter`&&(r=`ag-header-row-filter`),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Xa(this.gos,`print`),this.isEnsureDomOrder=this.gos.get(`ensureDomOrder`)}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=cc(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,stylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener(`domLayout`,n),e.addManagedPropertyListener(`ensureDomOrder`,e=>this.isEnsureDomOrder=e.currentValue),e.addManagedPropertyListeners([`headerHeight`,`pivotHeaderHeight`,`groupHeaderHeight`,`pivotGroupHeaderHeight`,`floatingFiltersHeight`],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Xa(this.gos,`print`),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned==null?e.getContainerWidth(`right`)+e.getContainerWidth(`left`)+e.getContainerWidth(null):0:e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+`px`),this.comp.setHeight(t+`px`)}getTopAndHeight(){let e=0,t=Mm(this.beans);for(let n=0;n<t.length;n++){if(n===this.rowIndex&&this.type===`group`)return{topOffset:e,rowHeight:t[n]};e+=t[n]}let n=Pm(this.beans);if(this.type===`column`)return{topOffset:e,rowHeight:n};e+=n;let r=Im(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;let t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);let n=e=>{let{focusSvc:t,visibleCols:n}=this.beans;return t.isHeaderWrapperFocused(e)?n.isVisible(e.column):!1};if(e)for(let[t,r]of e)n(r)?this.ctrlsById.set(t,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;let r=e.getUniqueId(),i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case`filter`:i=this.createBean(this.beans.registry.createDynamicBean(`headerFilterCellCtrl`,!0,e,this));break;case`group`:i=this.createBean(this.beans.registry.createDynamicBean(`headerGroupCellCtrl`,!0,e,this));break;default:i=this.createBean(new Km(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];let e=[];for(let t of[`left`,null,`right`])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type===`group`?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){let n=this.allCtrls.find(t=>t.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},Xm=class extends L{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:a}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(a,this.eViewport);let o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});let s=`${typeof this.pinned==`string`?this.pinned:`center`}Header`;r.register(s,this),i.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,filterManager:n,visibleCols:r}=this.beans,i=0,a=t.getFocusHeaderToUseAfterRefresh(),o=()=>{let t=r.headerGroupRowCount;i=t,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));let n=this.groupsRowCtrls.length;if(n!==t){if(n>t){for(let e=t;e<n;e++)this.destroyBean(this.groupsRowCtrls[e]);this.groupsRowCtrls.length=t;return}for(let e=n;e<t;e++){let t=this.createBean(new Ym(e,this.pinned,`group`));this.groupsRowCtrls.push(t)}}},s=()=>{let t=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Ym(t,this.pinned,`column`))):this.columnsRowCtrl.rowIndex!==t&&this.columnsRowCtrl.setRowIndex(t)},c=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;let t=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){t();return}e||t();let r=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==r&&this.filtersRowCtrl.setRowIndex(r):this.filtersRowCtrl=this.createBean(new Ym(r,this.pinned,`filter`))},l=this.getAllCtrls();o(),s(),c();let u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,a),l.length!==u.length&&this.beans.eventSvc.dispatchEvent({type:`headerRowsChanged`})}getHeaderCtrlForColumn(e){let t=t=>t?.getHeaderCellCtrls().find(t=>t.column===e);if(qo(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let e=0;e<this.groupsRowCtrls.length;e++){let n=t(this.groupsRowCtrls[e]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;let{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned??this.createManagedBean(new up(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Zm=class extends L{constructor(){super(...arguments),this.beanName=`menuSvc`}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,`columnMenu`)}showFilterMenu(e){this.showColumnMenuCommon($m(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){$m(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Lo(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&qo(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get(`columnMenu`)===`new`}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(yl()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Lo(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Lo(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get(`suppressMenuHide`);return Lo(e)?e.exists(`suppressMenuHide`)?t:!1:t}showColumnMenuCommon(e,t,n,r){let{positionBy:i,onClosedCallback:a}=t,o=t.column;if(i===`button`){let{buttonElement:i}=t;e?.showMenuAfterButtonClick(o,i,n,a,r)}else if(i===`mouse`){let{mouseEvent:i}=t;e?.showMenuAfterMouseEvent(o,i,n,a,r)}else if(o){let t=this.beans,i=t.ctrlsSvc;i.getScrollFeature().ensureColumnVisible(o,`auto`),hi(t,()=>{let t=i.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);t&&e?.showMenuAfterButtonClick(o,t.getAnchorElementForMenu(r),n,a,r)})}}};function Qm(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent(`menuVisibleChanged`,n))}function $m(e){let{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&Lo(r)?t:n}var eh=class extends cl{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},th=class extends pc{constructor(){super()}};function nh(e,t,n){let r=rh(e,t,n);if(r){let{className:e}=r;if(typeof e==`string`&&e.includes(`ag-icon`)||typeof e==`object`&&e[`ag-icon`])return r}let i=Ef({tag:`span`});return i.appendChild(r),i}function rh(e,t,n){let r=null;e===`smallDown`?z(262):e===`smallLeft`?z(263):e===`smallRight`&&z(264);let i=n?.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){let n=t.gos.get(`icons`);n&&(r=n[e])}if(r){let t;if(typeof r==`function`)t=r();else if(typeof r==`string`)t=r;else{z(38,{iconName:e});return}if(typeof t==`string`)return ii(t);if(fi(t))return t;z(133,{iconName:e});return}else{let n=t.registry.getIcon(e);return n||t.validation?.validateIcon(e),Ef({tag:`span`,cls:`ag-icon ag-icon-${n??e}`,role:`presentation`,attrs:{unselectable:`on`}})}}var ih={tag:`div`,cls:`ag-overlay-loading-center`,children:[{tag:`span`,ref:`eLoadingIcon`,cls:`ag-loading-icon`},{tag:`span`,ref:`eLoadingText`,cls:`ag-loading-text`}]},ah=class extends th{constructor(){super(...arguments),this.eLoadingIcon=null,this.eLoadingText=null}init(e){let{beans:t,gos:n}=this,r=Gn(n.get(`overlayLoadingTemplate`)?.trim());if(this.setTemplate(r??ih),!r){let n=rh(`overlayLoading`,t,null);n&&this.eLoadingIcon.appendChild(n);let r=e.loading?.overlayText??this.getLocaleTextFunc()(`loadingOoo`,`Loading...`);this.eLoadingText.textContent=r,t.ariaAnnounce.announceValue(r,`overlay`)}}},oh={tag:`div`,cls:`ag-overlay-exporting-center`,children:[{tag:`span`,ref:`eExportingIcon`,cls:`ag-loading-icon`},{tag:`span`,ref:`eExportingText`,cls:`ag-exporting-text`}]},sh=class extends th{constructor(){super(...arguments),this.eExportingIcon=null,this.eExportingText=null}init(e){let{beans:t}=this;this.setTemplate(oh);let n=rh(`overlayExporting`,t,null);n&&this.eExportingIcon.appendChild(n);let r=e.exporting?.overlayText??this.getLocaleTextFunc()(`exportingOoo`,`Exporting...`);this.eExportingText.textContent=r,t.ariaAnnounce.announceValue(r,`overlay`)}},ch={tag:`span`,cls:`ag-overlay-no-rows-center`},lh=class extends th{init(e){let{beans:t,gos:n}=this,r=Gn(n.get(`overlayNoRowsTemplate`)?.trim());if(this.setTemplate(r??ch),!r){let n=e.noRows?.overlayText??this.getLocaleTextFunc()(`noRowsToShow`,`No Rows To Show`);this.getGui().textContent=n,t.ariaAnnounce.announceValue(n,`overlay`)}}},uh={tag:`span`,cls:`ag-overlay-no-matching-rows-center`},dh=class extends th{init(e){let{beans:t}=this;this.setTemplate(uh);let n=e.noMatchingRows?.overlayText??this.getLocaleTextFunc()(`noMatchingRows`,`No Matching Rows`);this.getGui().textContent=n,t.ariaAnnounce.announceValue(n,`overlay`)}},fh=`.ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}`,ph={tag:`div`,children:[{tag:`div`,ref:`eGhost`,cls:`ag-dnd-ghost ag-unselectable`,children:[{tag:`span`,ref:`eIcon`,cls:`ag-dnd-ghost-icon ag-shake-left-to-right`},{tag:`div`,ref:`eLabel`,cls:`ag-dnd-ghost-label`}]}]},mh=class extends pc{constructor(){super(),this.dragSource=null,this.eIcon=null,this.eLabel=null,this.eGhost=null,this.registerCSS(fh)}postConstruct(){let e=e=>nh(e,this.beans,null);this.dropIconMap={pinned:e(`columnMovePin`),hide:e(`columnMoveHide`),move:e(`columnMoveMove`),left:e(`columnMoveLeft`),right:e(`columnMoveRight`),group:e(`columnMoveGroup`),aggregate:e(`columnMoveValue`),pivot:e(`columnMovePivot`),notAllowed:e(`dropNotAllowed`)}}init(e){this.dragSource=e.dragSource,this.setTemplate(ph),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eGhost:n,eIcon:r,dragSource:i,dropIconMap:a,gos:o}=this;ei(r);let s=null;e||=i?.getDefaultIconName?i.getDefaultIconName():`notAllowed`,s=a[e],n.classList.toggle(`ag-dnd-ghost-not-allowed`,e===`notAllowed`),r.classList.toggle(`ag-shake-left-to-right`,t),!(s===a.hide&&o.get(`suppressDragLeaveHidesColumns`))&&s&&r.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},hh=`.ag-checkbox-cell{height:100%}`,gh={tag:`div`,cls:`ag-cell-wrapper ag-checkbox-cell`,role:`presentation`,children:[{tag:`ag-checkbox`,ref:`eCheckbox`,role:`presentation`}]},_h=class extends pc{constructor(){super(gh,[lu]),this.eCheckbox=null,this.registerCSS(hh)}init(e){this.refresh(e);let{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute(`tabindex`,`-1`),vr(r,`polite`),this.addManagedListeners(r,{click:e=>{if(Yf(e),t.isDisabled())return;let n=t.getValue();this.onCheckboxChanged(n)},dblclick:e=>{Yf(e)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===G.SPACE&&!t.isDisabled()){e.eGridCell===nr(n)&&t.toggle();let i=t.getValue();this.onCheckboxChanged(i),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0,{value:r,column:i,node:a}=e;if(a.group&&i)if(typeof r==`boolean`)t=r;else{let e=i.getColId();e.startsWith(`ag-Grid-AutoColumn`)?t=r==null||r===``?void 0:r===`true`:a.aggData&&a.aggData[e]!==void 0||a.sourceRowIndex>=0?t=r??void 0:n=!1}else t=r??void 0;let{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);let s=e.disabled??!i?.isCellEditable(a);o.setDisabled(s);let c=this.getLocaleTextFunc(),l=zr(c,t),u=s?l:`${c(`ariaToggleCellValue`,`Press SPACE to toggle cell value`)} (${l})`;o.setInputAriaLabel(u)}onCheckboxChanged(e){let{params:t}=this,{column:n,node:r,value:i}=t,{editSvc:a}=this.beans;if(!n)return;let o={rowNode:r,column:n};a?.dispatchCellEvent(o,null,`cellEditingStarted`,{value:i});let s=r.setDataValue(n,e,`ui`);a?.dispatchCellEvent(o,null,`cellEditingStopped`,{oldValue:i,newValue:e,valueChanged:s}),s||this.updateCheckbox(t)}},vh=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){let{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),ds(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(let t of this.visible)if(t.id==e)return t}clear(){let{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){let{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=Ch(this.order);if(this.order.sort((e,t)=>(e.pinnedSibling?.rowIndex??0)-(t.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;let a=fo(n);a===`bottom`||a===`pinnedBottom`?this.order.push(i):this.order.unshift(i)}hide(e){let{all:t,visible:n}=this,r=n.size;return t.forEach(t=>e(t)?n.delete(t):n.add(t)),this.order=Array.from(n),this.sort(),r!=n.size}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function yh(e){if(e.level===-1)return!0;let t=e.parent;return t?.childrenAfterSort?.some(t=>t==e)?yh(t):!1}function bh(e,t){let{gos:n,rowModel:r,filterManager:i}=e;return Ya(n,r)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!yh(t):n.get(`pivotMode`)?!t.group:!1}function xh(e){return!!e.footer&&e.level===-1}function Sh(e){return!!e.pinnedSibling&&xh(e.pinnedSibling)}function Ch(e){let t=e.findIndex(Sh);if(t>-1)return e.splice(t,1)?.[0]}var wh=class extends L{postConstruct(){let{gos:e,beans:t}=this;this.top=new vh(t,`top`),this.bottom=new vh(t,`bottom`);let n=e=>bh(t,e.pinnedSibling),r=()=>{let n=e.get(`isRowPinned`);n&&e.get(`enableRowPinning`)&&t.rowModel.forEachNode(e=>this.pinRow(e,n(e)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:e})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow();let t=!1;this.forContainers(e=>{t||=e.hide(n)});let r=this.refreshRowPositions();(!e||r||t)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Oh),this.refreshRowPositions()},rowNodeDataChanged:({node:t})=>{(e.get(`isRowPinnable`)?.(t)??!0)||this.pinRow(t,null)},firstDataRendered:r}),this.addManagedPropertyListener(`pivotMode`,()=>{this.forContainers(e=>e.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener(`grandTotalRow`,({currentValue:e})=>{this._grandTotalPinned=e===`pinnedBottom`?`bottom`:e===`pinnedTop`?`top`:null}),this.addManagedPropertyListener(`isRowPinned`,r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(e=>{let t=[];e.forEach(e=>t.push(e)),t.forEach(e=>this.pinRow(e,null)),e.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,jh(this.beans);return}let r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){let r=e.rowPinned?e:e.pinnedSibling,i=e.rowPinned?e.pinnedSibling:e;this.pinRow(r,null,n),this.pinRow(i,t,n);return}let i=n&&kh(this.beans,e,n);if(i){i.forEach(e=>this.pinRow(e,t));return}if(t==null){let n=e.rowPinned?e:e.pinnedSibling,r=this.findPinnedRowNode(n);if(!r)return;r.delete(n);let i=n.pinnedSibling;Dh(n),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(i)}else{let n=Eh(this.beans,e,t),r=this.getContainer(t);r.add(n),bh(this.beans,e)&&r.hide(e=>bh(this.beans,e.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0,n=n=>{if(n.rowHeightEstimated){let r=to(this.beans,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:`pinnedHeightChanged`}),e}getPinnedTopTotalHeight(){return Ah(this.top)}getPinnedBottomTotalHeight(){return Ah(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){let e=e=>{let t=[];return this.forEachPinnedRow(e,e=>t.push(e.pinnedSibling.id)),t};return{top:e(`top`),bottom:e(`bottom`)}}setPinnedState(e){this.forContainers((t,n)=>{for(let r of e[n]){let e=this.beans.rowModel.getRowNode(r);e?this.pinRow(e,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{let n=new Set;e.forEachQueued(e=>{let t=this.beans.rowModel.getRowNode(e);t&&n.add(t)});for(let r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){let{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!Ja(e,r))return;let i=r.rootNode?.sibling;if(!i)return;let a=i.pinnedSibling,o=a&&this.findPinnedRowNode(a);if(n){if(o&&o.floating!==n&&(o.delete(a),Dh(a)),!o||o.floating!==n){let e=Eh(t,i,n);this.getContainer(n).add(e)}}else{if(!o)return;o.delete(a),Dh(a)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(e=>e.forEach(e=>e.setRowHeight(e.rowHeight,!0)))}getContainer(e){return e===`top`?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){let t=e=>Th(this.beans,e);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(e=>{let r=t(e);n||=r}),n}forContainers(e){e(this.top,`top`),e(this.bottom,`bottom`)}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:`pinnedRowsChanged`}),e?.dispatchRowEvent(`rowPinned`)}};function Th(e,t){let n=0,r=!1;return t.forEach((t,i)=>{if(r||=t.rowTop!==n,t.setRowTop(n),t.rowHeightEstimated||t.rowHeight==null){let n=to(e,t).height;r||=t.rowHeight!==n,t.setRowHeight(n)}t.setRowIndex(i),n+=t.rowHeight}),r}function Eh(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;let r=gf(t,e);return r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n,r.id=`${n===`top`?`t-`:`b-`}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function Dh(e){if(!e.pinnedSibling)return;e.rowPinned=null,e._destroy(!1);let t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Oh(e){let t=new Set;e.forEach(e=>{e.group&&t.add(e)}),t.forEach(t=>e.delete(t))}function kh(e,t,n){let{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function Ah(e){let t=e.size();if(t===0)return 0;let n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function jh({gos:e,rowModel:t}){Ja(e,t)&&t.refreshModel({step:`map`})}var Mh=class extends L{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get(`pinnedTopRowData`),`top`),this.setPinnedRowData(e.get(`pinnedBottomRowData`),`bottom`),this.addManagedPropertyListener(`pinnedTopRowData`,e=>this.setPinnedRowData(e.currentValue,`top`)),this.addManagedPropertyListener(`pinnedBottomRowData`,e=>this.setPinnedRowData(e.currentValue,`bottom`)),this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){let e=e=>{e.setRowHeight(e.rowHeight,!0)};Ih(this.pinnedBottomRows,e),Ih(this.pinnedTopRows,e)}}ensureRowHeightsValid(){let e=!1,t=0,n=n=>{if(n.rowHeightEstimated){let r=to(this.beans,n);n.setRowTop(t),n.setRowHeight(r.height),t+=r.height,e=!0}};return Ih(this.pinnedBottomRows,n),t=0,Ih(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:`pinnedHeightChanged`}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:`pinnedRowDataChanged`})}updateNodesFromRowData(e,t){let n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}let r=mo(this.gos),i=t===`top`?`t-`:`b-`,a=new Set(n.order),o=[],s=new Set,c=0,l=-1;for(let u of e){let e=r?.({data:u,level:0,rowPinned:t})??i+ this.nextId++;if(s.has(e)){z(96,{id:e,data:u});continue}l++,s.add(e),o.push(e);let d=Ph(n,e);if(d!==void 0)d.data!==u&&d.updateData(u),c+=this.setRowTopAndRowIndex(d,c,l),a.delete(e);else{let r=new pf(this.beans);r.id=e,r.data=u,r.rowPinned=t,c+=this.setRowTopAndRowIndex(r,c,l),n.cache[e]=r,n.order.push(e)}}for(let e of a)Ph(n,e)?.clearRowTopAndRowIndex(),delete n.cache[e];n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(to(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return Nh(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return Nh(this.pinnedBottomRows)}getPinnedTopRowCount(){return Lh(this.pinnedTopRows)}getPinnedBottomRowCount(){return Lh(this.pinnedBottomRows)}getPinnedTopRow(e){return Fh(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Fh(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Ph(this.getCache(t),e)}forEachPinnedRow(e,t){return Ih(this.getCache(e),t)}getCache(e){return e===`top`?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function Nh(e){let t=Lh(e);if(t===0)return 0;let n=Fh(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Ph(e,t){return e.cache[t]}function Fh(e,t){return Ph(e,e.order[t])}function Ih(e,t){e.order.forEach((n,r)=>{let i=Ph(e,n);i&&t(i,r)})}function Lh(e){return e.order.length}var Rh=class extends L{constructor(){super(...arguments),this.beanName=`pinnedRowModel`}postConstruct(){let{gos:e}=this,t=()=>{let t=e.get(`enableRowPinning`),n=fo(e),r=!!t||n===`pinnedBottom`||n===`pinnedTop`,i=r?this.inner instanceof Mh:this.inner instanceof wh;this.inner&&i&&this.destroyBean(this.inner),(i||!this.inner)&&(this.inner=this.createManagedBean(r?new wh:new Mh))};this.addManagedPropertyListeners([`enableRowPinning`,`grandTotalRow`],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},zh=e=>{let t=e.childrenAfterGroup;for(;t?.length;){let e=t[0];if(e.sourceRowIndex>=0)return e;t=e.childrenAfterGroup}},Bh=(e,t,n,r)=>{if(!t.size||!e)return!1;let i=!1,a=e.length??0,o=-1;n&&(o=n.sourceRowIndex,n=o<0?zh(n):null,n&&(o=n.sourceRowIndex)),o<0||o>=a?o=a:r||++o;let s=o,c=Math.min(o,a-1);for(let e of t){let t=e.sourceRowIndex;t<s&&(s=t),t>c&&(c=t)}let l=s;for(let n=s;n<o;++n){let r=e[n];t.has(r)||(r.sourceRowIndex!==l&&(r.sourceRowIndex=l,e[l]=r,i=!0),++l)}let u=c;for(let n=c;n>=o;--n){let r=e[n];t.has(r)||(r.sourceRowIndex!==u&&(r.sourceRowIndex=u,e[u]=r,i=!0),--u)}for(let n of t)n.sourceRowIndex!==l&&(n.sourceRowIndex=l,e[l]=n,i=!0),++l;return i},Vh=class{constructor(){this.reordered=!1,this.removals=[],this.updates=new Set,this.adds=new Set}};function Hh(e){return!!(e.rowPinned&&e.pinnedSibling)}function Uh(e,t,n,r){let i=t===`top`;if(!n)return Uh(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){let r=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Uh(e,t,n,i?e.getPinnedTopRow(r-1):e.getPinnedBottomRow(r-1))}let a=!1,o=!1,s=[];return e.forEachPinnedRow(t,e=>{if(e===n&&!a){a=!0,s.push(e);return}if(a&&e===r){o=!0,s.push(e);return}a&&!o&&s.push(e)}),s}var Wh={tag:`div`,cls:`ag-selection-checkbox`,role:`presentation`,children:[{tag:`ag-checkbox`,ref:`eCheckbox`,role:`presentation`}]},Gh=class extends pc{constructor(){super(Wh,[lu]),this.eCheckbox=null}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=zr(e,r),[a,o]=t.selectable?[`ariaRowToggleSelection`,`Press Space to toggle row selection`]:[`ariaRowSelectionDisabled`,`Row Selection is disabled for this row`],s=e(a,o);n.setValue(r,!0),n.setInputAriaLabel(`${s} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getWrapperElement(),{dblclick:Yf,click:e=>{Yf(e),!this.eCheckbox.isDisabled()&&this.beans.selectionSvc?.handleSelectionEvent(e,this.rowNode,`checkboxSelected`)}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener(`rowSelection`,({currentValue:e,previousValue:t})=>{(typeof e==`object`?bo(e):void 0)!==(typeof t==`object`?bo(t):void 0)&&this.onSelectableChanged()}),Do(this.gos)||typeof this.getIsVisible()==`function`){let e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute(`tabindex`,`-1`)}showOrHideSelect(){let{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,a=this.getIsVisible(),o;if(typeof a==`function`){let r=n?.callbackParams;if(!e)o=a({...r,node:t,data:t.data});else{let n=e.createColumnFunctionCallbackParams(t);o=a({...r,...n})}}else o=a??!1;let s=i&&!o||!i&&o,c=i||o,l=r.get(`rowSelection`),u=l&&typeof l!=`string`?!bo(l):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(c&&(s?u:!0)),this.setDisplayed(c&&(s?u:!0)),c&&this.eCheckbox.setDisabled(s),n?.removeHidden&&this.setDisplayed(c)}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get(`rowSelection`);return t&&typeof t!=`string`?_o(t):this.column?.getColDef()?.checkboxSelection}},Kh=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t,{rowModel:n,pinnedRowModel:r}=this;return t??=n.getRowNode(e),r?.isManual()&&(t??=r.getPinnedRowById(e,`top`),t??=r.getPinnedRowById(e,`bottom`)),t}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let n=t[0].id===this.rootId,r=t.findIndex(t=>t.id===e.id);if(r>-1){let i=t.slice(0,r),a=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:a}:{keep:a,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){let n=this.getRoot();if(n==null){let n=this.getRange().slice();return t&&e.depthFirstSearch(e=>!e.group&&n.push(e)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}let r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(e=>e.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}getNodesInRange(e,t){let{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned===`top`&&!t.rowPinned)return Uh(n,`top`,e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned===`bottom`&&!t.rowPinned){let i=Uh(n,`bottom`,void 0,e),a=r.getRowCount(),o=r.getRow(a-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned===`top`&&t.rowPinned===`top`)return Uh(n,`top`,e,t);if(e.rowPinned===`bottom`&&t.rowPinned===`top`){let i=Uh(n,`top`,t,void 0),a=Uh(n,`bottom`,void 0,e),o=r.getRow(0),s=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,s)??[]).concat(a)}if(!e.rowPinned&&t.rowPinned===`top`)return Uh(n,`top`,t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned===`top`&&t.rowPinned===`bottom`){let i=Uh(n,`top`,e,void 0),a=Uh(n,`bottom`,void 0,t),o=r.getRow(0),s=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,s)??[]).concat(a)}if(e.rowPinned===`bottom`&&t.rowPinned===`bottom`)return Uh(n,`bottom`,e,t);if(!e.rowPinned&&t.rowPinned===`bottom`){let i=Uh(n,`bottom`,void 0,t),a=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,a)??[]).concat(i)}return null}},qh=class extends L{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(nr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new cu);this.cbSelectAll=t,t.addCss(`ag-header-select-all`),pr(t.getGui(),`presentation`),this.showOrHideSelectAll();let n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener(`rowSelection`,({currentValue:e,previousValue:t})=>{let n=e=>typeof e==`string`||!e||e.mode===`singleRow`?void 0:e.selectAll;n(e)!==n(t)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute(`tabindex`,`-1`),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source===`uiColumnMoved`)}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType(`selectAllCheckbox`),this.checkSelectionType(`selectAllCheckbox`),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);let i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,a=zr(t,r.getValue()),o=t(`ariaRowSelectAll`,`Press Space to toggle all rows selection`);n.setAriaDescriptionProperty(`selectAll`,i?`${o} (${a})`:null),r.setInputAriaLabel(t(`ariaHeaderSelection`,`Column with Header Selection`)),e||n.announceAriaDescription()}checkSelectionType(e){return ko(this.gos)?!0:(z(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:n}=this.beans;return Ja(t)||Ya(t)?!0:(z(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),n=`uiSelectAll`;t===`currentPage`?n=`uiSelectAllCurrentPage`:t===`filtered`&&(n=`uiSelectAllFiltered`);let r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){let{column:e,gos:t,beans:n}=this,r=typeof t.get(`rowSelection`)==`object`?`headerCheckbox`:`headerCheckboxSelection`;return Jh(n,e)&&this.checkRightRowModelType(r)&&this.checkSelectionType(r)}getSelectAllMode(){let e=Mo(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?`currentPage`:n?`filtered`:`all`}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function Jh({gos:e,selectionColSvc:t},n){let r=e.get(`rowSelection`),i=n.getColDef(),{headerCheckboxSelection:a}=i,o=!1;if(typeof r==`object`){let e=ys(n),i=vs(n);(yo(r)===`autoGroupColumn`&&i||e&&t?.isSelectionColumnEnabled())&&(o=vo(r))}else o=typeof a==`function`?a(H(e,{column:n,colDef:i})):!!a;return o}var Yh=class extends L{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new Kh(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners([`isRowSelectable`,`rowSelection`],()=>{let t=Do(e);t!==this.isRowSelectable&&(this.isRowSelectable=t,this.updateSelectable())}),this.isRowSelectable=Do(e),this.addManagedEventListeners({cellValueChanged:e=>this.updateRowSelectable(e.node),rowNodeDataChanged:e=>this.updateRowSelectable(e.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Gh}createSelectAllFeature(e){if(Jh(this.beans,e))return new qh(e)}isMultiSelect(){return ko(this.gos)}onRowCtrlSelected(e,t,n){let r=!!e.rowNode.isSelected();e.forEachGui(n,e=>{e.rowComp.toggleCss(`ag-row-selected`,r);let n=e.element;Fr(n,r),n.contains(nr(this.beans))&&t(e)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;let r=this.getLocaleTextFunc()(t?`ariaRowDeselect`:`ariaRowSelect`,`Press SPACE to ${t?`deselect`:`select`} this row`);this.beans.ariaAnnounce?.announceValue(r,`rowSelection`)}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Hh(e)||!Za(this.gos)}updateRowSelectable(e,t){let n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent(`selectableChanged`),n)return;if(Po(this.gos)){let t=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:t??!1,source:`selectableChanged`});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:`selectableChanged`})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){let i=e.childrenAfterGroup[r],a=i.isSelected();if(!i.selectable){let e=this.calculateSelectedFromChildren(i);if(e===null)continue;a=e}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r=`api`){if(t&&e.destroyed)return!1;let i=!e.selectable&&t,a=e.__selected===t;if(i||a)return!1;e.__selected=t,e.dispatchRowEvent(`rowSelected`);let o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent(`rowSelected`);let s=e.pinnedSibling;return s?.rowPinned&&s.__localEventService&&s.dispatchRowEvent(`rowSelected`),this.eventSvc.dispatchEvent({...mf(e,this.gos,`rowSelected`),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){let n=this.gos.get(`rowSelection`);if(n&&typeof n!=`string`){let r=ys(e)&&_o(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){let{gos:i,selectionCtx:a}=this,o=e.isSelected(),s=Po(i),c=To(i),l=Eo(i),u=this.isMultiSelect(),d=r===`rowClicked`;if(d&&!(c||l))return null;if(t&&n&&u){let t=a.getRoot();if(t)if(t.isSelected()){let t=a.isInRange(e)?a.truncate(e):a.extend(e,s);return{deselect:t.discard,select:t.keep,reset:!1}}else return{select:[],deselect:a.extend(e,s).keep,reset:!1};else return null}else if(t&&u){let t=a.selectAll?this.beans.rowModel.getRow(0):void 0,n=a.getRoot(t),r=a.isInRange(e)?a.truncate(e):a.extend(e,s);return{select:r.keep,deselect:r.discard,reset:a.selectAll||!!(n&&!n.isSelected())}}else if(n){if(d){let t=!o;return t&&!c||!t&&!l?null:(a.setRoot(e),{node:e,newValue:t,clearSelection:!1})}return a.setRoot(e),{node:e,newValue:!o,clearSelection:!u}}else{a.setRoot(e);let t=Ao(i),n=jo(i)===`filteredDescendants`,r=d&&(!t||!c);if(n&&o===void 0&&Ja(i))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!u||r};if(d){let n=o?!t:c;return n===o&&!r||n&&!c||!n&&!l?null:{node:e,newValue:n,clearSelection:!u||r,keepDescendants:e.group&&s}}return{node:e,newValue:!o,clearSelection:!u||r}}}},Xh=class extends sf{initialiseTabGuard(e){super.initialiseTabGuard(e,Zf)}},Zh=class extends K{constructor(e){super(e,Zf)}},Qh=500,$h=550,eg,tg=e=>{if(!eg)eg=new WeakSet;else if(eg.has(e))return!1;return eg.add(e),!0},ng=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new Wn;let e=this.onTouchStart.bind(this);this.startListener=e,this.eElement.addEventListener(`touchstart`,e,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!tg(e))return;let t=e.touches[0];this.touchStart=t;let n=this.handlers;if(!n.length){let e=this.eElement,t=e.ownerDocument,r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this),a=this.onTouchCancel.bind(this),o={passive:!0},s={passive:!1};Ni(n,[e,`touchmove`,r,o],[t,`touchcancel`,a,o],[t,`touchend`,i,s],[t,`contextmenu`,Fi,s])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:`longTap`,touchStart:t,touchEvent:e}))},$h)}onTouchMove(e){let{moved:t,touchStart:n}=this;if(!t&&n){let t=Ai(n,e.touches);t&&!ki(t,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){let t=this.touchStart;!t||!Ai(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:`tap`,touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&Fi(e),this.cancel())}onTouchCancel(e){let t=this.touchStart;!t||!Ai(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now(),n=this.lastTapTime;n&&t-n>Qh&&(this.eventSvc?.dispatchEvent({type:`doubleTap`,touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),Pi(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){let e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener(`touchstart`,e)),this.cancel(),this.eElement=null,this.eventSvc=null}},rg=class{constructor(e=`javascript`){this.frameworkName=e,this.renderingEngine=`vanilla`,this.batchFrameworkComps=!1,this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e(),this.baseDocLink=`${aa}/${this.frameworkName}-data-grid`,Pa(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?`/`+e:``)}};function ig(e){return{beanName:`gridApi`,bean:e.getBean(`apiFunctionSvc`).api}}var ag=Object.fromEntries(`licenseManager.environment.eventSvc.gos.paginationAutoPageSizeSvc.apiFunctionSvc.gridApi.registry.agCompUtils.userCompFactory.rowContainerHeight.horizontalResizeSvc.localeSvc.pinnedRowModel.dragSvc.colGroupSvc.visibleCols.popupSvc.selectionSvc.colFilter.quickFilter.filterManager.colModel.headerNavigation.pageBounds.pagination.pageBoundsListener.rowSpanSvc.stickyRowSvc.rowRenderer.expressionSvc.alignedGridsSvc.navigation.valueCache.valueSvc.autoWidthCalc.filterMenuFactory.dragAndDrop.focusSvc.cellNavigation.cellStyles.scrollVisibleSvc.sortSvc.colHover.colAnimation.autoColSvc.selectionColSvc.changeDetectionSvc.animationFrameSvc.undoRedo.colDefFactory.rowStyleSvc.rowNodeBlockLoader.rowNodeSorter.ctrlsSvc.pinnedCols.dataTypeSvc.syncSvc.overlays.stateSvc.expansionSvc.apiEventSvc.ariaAnnounce.menuSvc.colMoves.colAutosize.colFlex.colResize.pivotColsSvc.valueColsSvc.rowGroupColsSvc.colNames.colViewport.pivotResultCols.showRowGroupCols.validation`.split(`.`).map((e,t)=>[e,t]));function og(e,t){return((e.beanName?ag[e.beanName]:void 0)??2**53-1)-((t.beanName?ag[t.beanName]:void 0)??2**53-1)}function sg(e,t){return e?.beanName===`gridDestroySvc`?-1:t?.beanName===`gridDestroySvc`?1:0}var cg=class extends L{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute(`grid-id`,this.beans.context.getId());let{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new rp(this.view)),this.view.setRtlClass(this.gos.get(`enableRtl`)?`ag-rtl`:`ag-ltr`);let a=mi(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),i.register(`gridCtrl`,this)}isDetailGrid(){return Fl(this.getGui())?.getAttribute(`row-id`)?.startsWith(`detail`)||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector(`AG-GRID-HEADER-DROP-ZONES`),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector(`AG-STATUS-BAR`),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:`gridSizeChanged`,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){let{view:t}=this;if(e===!1)t.setCursor(null);else{let n=e===1?`ew-resize`:`ns-resize`;t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?`none`:null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){let{visibleCols:e,focusSvc:t}=this.beans,n=e.allCols,r=U(n);if(t.focusGridView({column:r,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){if(this.gos.getCallback(`focusGridInnerElement`)?.({fromBottom:!!e}))return!0;let t=this.getFocusableContainers(),{focusSvc:n,visibleCols:r}=this.beans,i=r.allCols;if(e){if(t.length>1)return this.focusContainer(U(t),e);let r=U(i);if(n.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get(`headerHeight`)===0||Dm(this.beans)){if(n.focusGridView({column:i[0],backwards:e}))return!0;for(let n=1;n<t.length;n++)if(Nl(t[n].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:n}=this.getNextFocusableIndex(t,e),r=t[n];r?this.focusContainer(r):this.forceFocusOutOfContainer(e)}isFocusable(){let e=this.beans;return!Om(e)||!Dm(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let n=nr(this.beans),r=e.findIndex(e=>e.getGui().contains(n));return{indexWithFocus:r,nextIndex:r+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);let n=Nl(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},$=(e,t)=>{for(let n of Object.keys(t))t[n]=e;return t},lg={dispatchEvent:`CommunityCore`,...$(`CommunityCore`,{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...$(`GridState`,{getState:0,setState:0}),...$(`SharedRowSelection`,{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...$(`RowApi`,{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...$(`ScrollApi`,{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...$(`KeyboardNavigation`,{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...$(`EventApi`,{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...$(`ValueCache`,{expireValueCache:0}),...$(`CellApi`,{getCellValue:0}),...$(`SharedMenu`,{showColumnMenu:0,hidePopupMenu:0}),...$(`Sort`,{onSortChanged:0}),...$(`PinnedRow`,{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...$(`Overlay`,{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...$(`RenderApi`,{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...$(`HighlightChanges`,{flashCells:0}),...$(`RowDrag`,{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...$(`ColumnApi`,{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...$(`ColumnAutoSize`,{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...$(`ColumnGroup`,{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...$(`ColumnMove`,{moveColumnByIndex:0,moveColumns:0}),...$(`ColumnResize`,{setColumnWidths:0}),...$(`ColumnHover`,{isColumnHovered:0}),...$(`EditCore`,{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...$(`BatchEdit`,{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...$(`UndoRedoEdit`,{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...$(`FilterCore`,{isAnyFilterPresent:0,onFilterChanged:0}),...$(`ColumnFilter`,{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...$(`QuickFilter`,{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...$(`Find`,{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...$(`Pagination`,{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...$(`CsrmSsrmSharedApi`,{expandAll:0,collapseAll:0}),...$(`SsrmInfiniteSharedApi`,{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...$(`ClientSideRowModelApi`,{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...$(`CsvExport`,{getDataAsCsv:0,exportDataAsCsv:0}),...$(`InfiniteRowModel`,{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...$(`AdvancedFilter`,{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...$(`IntegratedCharts`,{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...$(`Clipboard`,{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...$(`ExcelExport`,{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...$(`SharedMasterDetail`,{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...$(`ContextMenu`,{showContextMenu:0}),...$(`ColumnMenu`,{showColumnChooser:0,hideColumnChooser:0}),...$(`CellSelection`,{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...$(`SharedRowGrouping`,{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...$(`SharedAggregation`,{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...$(`SharedPivot`,{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...$(`ServerSideRowModelApi`,{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...$(`SideBar`,{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...$(`StatusBar`,{getStatusPanel:0}),...$(`AiToolkit`,{getStructuredSchema:0})},ug={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dg=(e,t)=>e.eventSvc.dispatchEvent(t),fg=class{};Reflect.defineProperty(fg,`name`,{value:`GridApi`});var pg=class extends L{constructor(){super(),this.beanName=`apiFunctionSvc`,this.api=new fg,this.fns={...ug,dispatchEvent:dg},this.preDestroyLink=``;let{api:e}=this;for(let t of Object.keys(lg))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink(`grid-lifecycle/#grid-pre-destroyed`)}addFunction(e,t){let{fns:n,beans:r}=this;n!==ug&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:n,preDestroyLink:r}=this;if(!t)z(26,{fnName:e,preDestroyLink:r});else{let t=lg[e];n.assertModuleRegistered(t,`api.${e}`)&&z(27,{fnName:e,module:t})}}destroy(){super.destroy(),this.fns=ug,this.beans=null}};function mg(e){return e.context.getId()}function hg(e){e.gridDestroySvc.destroy()}function gg(e){return e.gridDestroySvc.destroyCalled}function _g(e,t){return e.gos.get(t)}function vg(e,t,n){yg(e,{[t]:n})}function yg(e,t){e.gos.updateGridOptions({options:t})}function bg(e,t){let n=t.replace(/Module$/,``);return e.gos.isModuleRegistered(n)}var xg={tag:`div`,cls:`ag-drag-handle ag-row-drag`,attrs:{draggable:`true`}},Sg=class extends pc{constructor(e,t,n){super(xg),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(rh(`rowDrag`,this.beans,null)),this.addGuiEventListener(`mousedown`,e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener(`dragstart`,this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:n,eCell:r,gos:i}=this,a=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),a)a(H(i,{rowNode:t,dragEvent:e}));else try{let e=JSON.stringify(t.data);o.setData(`application/json`,e),o.setData(`text/plain`,e)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Cg(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function wg(e,t){let n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function Tg(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function Eg(e){let t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:`none`}}function Dg(e,t){let n=e.rowDropHighlightSvc;if(!n)return;let r=t?.row,i=t?.dropIndicatorPosition;i!==`above`&&i!==`below`&&i!==`inside`&&(i=`none`),r?.rowIndex==null||i===`none`?n.clear():n.set(r,i)}var Og=class extends ef{shouldPreventMouseEvent(e){return this.gos.get(`enableCellTextSelection`)&&super.shouldPreventMouseEvent(e)}},kg=class extends L{constructor(){super(...arguments),this.beanName=`horizontalResizeSvc`}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.beans.ctrlsSvc.get(`gridCtrl`);e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get(`gridCtrl`);e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Ag={tag:`div`,cls:`ag-drag-handle ag-row-drag`,attrs:{"aria-hidden":`true`}},jg={skipAriaHidden:!0},Mg=class extends pc{constructor(e,t,n,r,i,a=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.alwaysVisible=a,this.dragSource=null,this.disabled=!1}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(Ag),this.getGui().appendChild(rh(`rowDrag`,e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){let{beans:e,rowNode:t}=this,n=this.refreshVisibility.bind(this);this.addManagedListeners(e.eventSvc,{rowDragVisibilityChanged:n}),this.addManagedListeners(t,{dataChanged:n,cellChanged:n}),this.refreshVisibility()}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;let{beans:e,column:t,rowNode:n}=this,{gos:r,dragAndDrop:i,rowDragSvc:a}=e,o=a?.visibility,s=!(o===`suppress`||o===`hidden`&&!i?.hasExternalDropZones()),c=s;if(s&&!this.isCustomGui()&&t){let e=t.getColDef().rowDrag;if(e===!1)s=!1;else{let r=typeof e==`function`;c=t.isRowDrag(n),s=r||c}}s&&c&&n.footer&&r.get(`rowDragManaged`)&&(c=!1,s=!0),c&&=s,s||this.setDisplayed(s,jg),c||this.setVisible(c,jg),this.setDisabled(!c||o===`disabled`&&!i?.hasExternalDropZones()),s&&this.setDisplayed(s,jg),c&&this.setVisible(c,jg)}setDisabled(e){e!==this.disabled&&(this.disabled=e,this.getGui()?.classList?.toggle(`ag-drag-handle-disabled`,e))}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get(`rowDragMultiRow`))return[e];let t=this.beans.selectionSvc?.getSelectedNodes()??[];return t.indexOf(e)===-1?[e]:t}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get(`rowDragManaged`)&&this.rowNode.footer)return;let t=this.getGui();this.gos.get(`enableCellTextSelection`)&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{e?.preventDefault()}})[0]);let n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:e=>this.getDragItemName(e,n),getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}getDragItemName(e,t){let n=e?.dragItem||this.getDragItem(),r=(e?.dropTarget?.rows.length??n.rowNodes?.length)||1,i=this.column?.getColDef()?.rowDragText??this.gos.get(`rowDragText`);return i?i(n,r):r===1?this.cellValueFn()||`1 ${t(`rowDragRow`,`rows`)}`:`${r} ${t(`rowDragRows`,`rows`)}`}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&=(this.beans.dragAndDrop.removeDragSource(this.dragSource),null)}removeMouseDownListener(){this.mouseDownListener&&=(this.mouseDownListener(),void 0)}},Ng=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:n,children:r}=e;if(r)for(let e=0;e<r.length;++e)this.depthFirstSearchChangedPath(r[e],t);t(n)}depthFirstSearchEverything(e,t,n){let r=e.childrenAfterGroup;if(r)for(let e=0,i=r.length;e<i;++e){let i=r[e];i.childrenAfterGroup?this.depthFirstSearchEverything(i,t,n):n&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){let e={rowNode:t,children:null};this.mapToItems[t.id]=e,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(let e of t)this.nodeIdsToColumns[n.id][e.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let e=0;e<t;e++){let e=this.mapToItems[n.id],t=this.mapToItems[n.parent.id];t.children||=[],t.children.push(e),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let n=this.nodeIdsToColumns[e.id];return t.filter(e=>n[e.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return t.filter(e=>!n[e.getId()])}},Pg=.25,Fg=class extends L{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.autoScroll=null,this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,t=>{let n=()=>t.gridBodyCtrl.scrollFeature.getVScrollPosition().top;this.autoScroll=new zl({scrollContainer:t.gridBodyCtrl.eBodyViewport,scrollAxis:`y`,getVerticalPosition:n,setVerticalPosition:e=>t.gridBodyCtrl.scrollFeature.setVerticalScrollPosition(e),onScrollCallback:()=>{let t=n();if(this.autoScrollOldV!==t){this.autoScrollOldV=t,this.autoScrollChanging=!0;return}let r=this.autoScrollChanging;this.autoScrollChanged=r,this.autoScrollChanging=!1,r&&(e.dragAndDrop?.nudge(),this.autoScrollChanged=!1)}}),this.clearAutoScroll()})}destroy(){super.destroy(),this.clearAutoScroll(),this.autoScroll=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.beans.rowDragSvc.visibility!==`visible`?`notAllowed`:`move`}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get(`rowDragMultiRow`)){let e=this.beans.selectionSvc?.getSelectedNodes();if(e&&e.indexOf(t)>=0)return e.slice().sort(Lg)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){let{lastDraggingEvent:n,beans:r}=this;if(t){let t=this.getRowNodes(e);e.dragItem.rowNodes=t,Rg(t,!0)}this.lastDraggingEvent=e;let i=e.fromNudge,a=this.makeRowsDrop(n,e,i,!1);r.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent(`rowDragEnter`,e),this.dispatchGridEvent(`rowDragMove`,e);let o=this.autoScroll;a?.rowDragManaged&&a.moved&&a.allowed&&a.sameGrid&&!a.suppressMoveWhenRowDragging&&(!i&&!o?.scrolling||this.autoScrollChanged)&&this.dropRows(a),o?.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,r){let{beans:i,gos:a}=this,o=this.newRowsDrop(t,r),s=i.rowModel;if(t.dropTarget=o,t.changed=!1,!o)return null;let{sameGrid:c,rootNode:l,source:u,target:d}=o;d??=s.getRow(s.getRowCount()-1)??null;let f=this.beans.groupEditSvc,p=!!f?.canSetParent(o),m=null;if(d?.footer){let e=_f(s,-1,d)??_f(s,1,d);p&&(m=d.sibling??l),d=e??null}d?.detail&&(d=d.parent),o.moved&&=u!==d;let h=.5;if(d&&(h=c&&o.moved&&(m||!p)?u.rowIndex>d.rowIndex?-.5:.5:(o.y-d.rowTop-d.rowHeight/2)/d.rowHeight||0),!p&&c&&d&&o.moved&&Ja(a)){let e=zg(s,o);e&&(h=u.rowIndex>e.rowIndex?-.5:.5,d=e,o.moved&&=u!==d)}return o.target=d,o.newParent=m,o.pointerPos=Bg(d,o.y),o.yDelta=h,f?.fixRowsDrop(o,p,n,h),this.validateRowsDrop(o,p,r),t.changed||=Ig(e?.dropTarget,o),o}newRowsDrop(e,t){let{beans:n,gos:r}=this,i=n.rowModel.rootNode,a=Ja(r)?r.get(`rowDragManaged`):!1,o=r.get(`suppressMoveWhenRowDragging`),s=this.isFromThisGrid(e),{rowNode:c,rowNodes:l}=e.dragItem;if(l||=c?[c]:[],c||=l[0],!c||!i)return null;let u=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e),d=!0;a&&(!l.length||n.rowDragSvc.visibility!==`visible`||(o||!s)&&!u)&&(d=!1);let f=em(n,e).y,p=this.getOverNode(f);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:a,suppressMoveWhenRowDragging:o,sameGrid:s,withinGrid:u,treeData:!1,rootNode:i,moved:c!==p,y:f,overNode:p,overIndex:p?.rowIndex??-1,pointerPos:`none`,position:`none`,source:c,target:p??null,newParent:null,rows:l,allowed:d,highlight:!t&&a&&o&&(u||!s),yDelta:0,inside:!1,droppedManaged:!1}}validateRowsDrop(e,t,n){let{source:r,target:i,yDelta:a,inside:o,moved:s,rowDragManaged:c,suppressMoveWhenRowDragging:l}=e;e.moved&&=r!==i;let{position:u,fallbackPosition:d}=this.computeDropPosition(s,o,a);e.position=u,t||(e.newParent=null),this.enforceSuppressMoveWhenRowDragging(e,l,`initial`);let f=(!c||e.allowed)&&this.gos.get(`isRowValidDropPosition`);f&&this.applyDropValidator(e,t,n,c,f),c&&(e.rows=this.filterRows(e)),this.beans.groupEditSvc?.clearNewSameParent(e,t),this.enforceSuppressMoveWhenRowDragging(e,l,`final`),e.position===`inside`&&(!e.allowed||!e.newParent)&&(e.position=d)}computeDropPosition(e,t,n){let r=n<0?`above`:`below`;return e?{position:t?`inside`:r,fallbackPosition:r}:{position:`none`,fallbackPosition:r}}enforceSuppressMoveWhenRowDragging(e,t,n){if(t){if(n===`initial`){e.moved||(e.allowed=!1);return}(!e.rows.length||e.position===`none`)&&(e.allowed=!1)}}applyDropValidator(e,t,n,r,i){this.beans.groupEditSvc?.clearNewSameParent(e,t);let a=i(e);if(!a){e.allowed=!1;return}if(typeof a!=`object`)return;a.rows!==void 0&&(e.rows=a.rows??[]),t&&a.newParent!==void 0&&(e.newParent=a.newParent),a.target!==void 0&&(e.target=a.target),a.position&&(e.position=a.position),a.allowed===void 0?r||(e.allowed=!0):e.allowed=a.allowed;let o=e.draggingEvent;a.changed&&o&&(o.changed=!0),!n&&a.highlight!==void 0&&(e.highlight=a.highlight)}addRowDropZone(e){if(!e.getContainer()){z(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){z(56);return}let n={isInterestedIn:e=>e===2,getIconName:()=>`move`,external:!0,...e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(t=>e.onDragEnter(this.rowDragEvent(`rowDragEnter`,t))),onDragLeave:e.onDragLeave&&(t=>e.onDragLeave(this.rowDragEvent(`rowDragLeave`,t))),onDragging:e.onDragging&&(t=>e.onDragging(this.rowDragEvent(`rowDragMove`,t))),onDragStop:e.onDragStop&&(t=>e.onDragStop(this.rowDragEvent(`rowDragEnd`,t))),onDragCancel:e.onDragCancel&&(t=>e.onDragCancel(this.rowDragEvent(`rowDragCancel`,t)))}};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:t=>{this.onDragEnter(t),e?.onDragEnter?.(this.rowDragEvent(`rowDragEnter`,t))},onDragLeave:t=>{this.onDragLeave(t),e?.onDragLeave?.(this.rowDragEvent(`rowDragLeave`,t))},onDragging:t=>{this.onDragging(t),e?.onDragging?.(this.rowDragEvent(`rowDragMove`,t))},onDragStop:t=>{this.onDragStop(t),e?.onDragStop?.(this.rowDragEvent(`rowDragEnd`,t))},onDragCancel:t=>{this.onDragCancel(t),e?.onDragCancel?.(this.rowDragEvent(`rowDragCancel`,t))},fromGrid:!0}}getOverNode(e){let{pageBounds:t,rowModel:n}=this.beans,r=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return r>=0?n.getRow(r):void 0}rowDragEvent(e,t){let n=this.beans,{dragItem:r,dropTarget:i,event:a,vDirection:o}=t,s=i?.rootNode===n.rowModel.rootNode,c=s?i.y:em(n,t).y,l=s?i.overNode:this.getOverNode(c),u=s?i.overIndex:l?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:a,node:r.rowNode,nodes:r.rowNodes,overIndex:u,overNode:l,y:c,vDirection:o,rowsDrop:i}}dispatchGridEvent(e,t){let n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent(`rowDragLeave`,e),this.stopDragging(e,!1)}onDragStop(e){let t=this.lastDraggingEvent?.dropTarget??null,n=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent(`rowDragEnd`,e),n?.allowed&&n.rowDragManaged&&(!t?.droppedManaged||Ig(t,n))&&this.dropRows(n),this.stopDragging(e,!0)}onDragCancel(e){this.dispatchGridEvent(`rowDragCancel`,e),this.stopDragging(e,!0)}stopDragging(e,t){this.clearAutoScroll(),this.beans.groupEditSvc?.stopDragging(t),this.beans.rowDropHighlightSvc?.fromDrag(null),Rg(e.dragItem.rowNodes,!1),this.lastDraggingEvent=null}clearAutoScroll(){this.autoScroll?.ensureCleared(),this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}dropRows(e){return e.droppedManaged=!0,e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){let r=mo(this.gos),i=this.beans.rowModel,a=n.filter(({data:e,rowPinned:t})=>!i.getRowNode(r?.({data:e,level:0,rowPinned:t})??e.id)).map(({data:e})=>e);if(a.length===0)return!1;let o;if(t){let n=t.sourceRowIndex>=0?t:zh(t);n&&(o=n.sourceRowIndex+(e===`above`?0:1))}return i.updateRowData({add:a,addIndex:o}),!0}filterRows(e){let{groupEditSvc:t}=this.beans,{rows:n,sameGrid:r}=e,i;for(let a=0,o=n.length;a<o;++a){let o=!0,s=n[a];(!s||s.footer||r&&s.destroyed&&!s.group||!this.csrmGetLeaf(s))&&(o=!1),o&&t&&!t.canDropRow(s,e)&&(o=!1),o?i?.push(s):i??=n.slice(0,a)}return i??n}csrmMoveRows(e){let t=this.beans.groupEditSvc;return t?.isGroupingDrop(e)?t.dropGroupEdit(e):this.csrmMoveRowsReorder(e)}csrmMoveRowsReorder({position:e,target:t,rows:n,newParent:r,rootNode:i}){let a=!1,o=new Set;for(let e of n){r&&e.parent!==r&&(e.treeParent=r,a=!0);let t=this.csrmGetLeaf(e);t&&o.add(t)}if(!a&&o.size===0)return!1;let s=this.beans.focusSvc,c=s.getFocusedCell(),l=c&&ym(this.beans,c);if(o.size&&Bh(i._leafs,o,t,e===`above`)&&(a=!0),!a)return!1;let u=this.beans.rowModel,d=new Vh;return d.reordered=!0,u.refreshModel({step:`group`,keepRenderedRows:!0,animate:!this.gos.get(`suppressAnimationFrame`),changedPath:new Ng(!1,i),changedRowNodes:d}),l?l.focusCell():s.clearFocusedCell(),!0}csrmGetLeaf(e){if(e.sourceRowIndex>=0)return e.destroyed?void 0:e;let t=this.beans.groupEditSvc;return t?t.csrmFirstLeaf(e):zh(e)}},Ig=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!ls(e.rows,t.rows)),Lg=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,Rg=(e,t)=>{for(let n=0,r=e?.length||0;n<r;++n){let r=e[n];r.dragging!==t&&(r.dragging=t,r.dispatchRowEvent(`draggingChanged`))}},zg=(e,t)=>{let n=null,r=t.target;if(r&&t.rows.indexOf(r)<0)return null;let i=t.source;if(!r||!i)return null;let a=r.rowIndex-i.rowIndex,o=a<0?-1:1;a=t.suppressMoveWhenRowDragging?Math.abs(a):1;let s=new Set(t.rows);do{let t=_f(e,o,r);if(!t)break;s.has(t)||(n=t,--a),r=t}while(a>0);return n},Bg=(e,t)=>{let n=e?.rowTop,r=e?.rowHeight??0;if(n==null||!r||r<=0)return`none`;let i=t-n,a=r*Pg;return i<=a?`above`:i>=r-a?`below`:`inside`},Vg=class extends L{constructor(){super(...arguments),this.beanName=`rowDragSvc`,this.rowDragFeature=null,this.visibility=`suppress`}setupRowDrag(e,t){let n=t.createManagedBean(new Fg(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n;let i=()=>this.refreshVisibility();this.addManagedPropertyListeners([`rowDragManaged`,`suppressRowDrag`,`refreshAfterGroupEdit`],i),this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:i,columnPivotModeChanged:i,sortChanged:i,filterChanged:i}),this.visibility=this.computeVisibility()}createRowDragComp(e,t,n,r,i,a){return new Mg(e,t,n,r,i,a)}createRowDragCompForRow(e,t){if(So(this.gos))return;let n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n(`rowDragRow`,`row`)}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,a){let o=this.gos;if(!(o.get(`rowDragManaged`)&&(!Ja(o)||o.get(`pagination`))))return this.createRowDragComp(n,e,t,r,i,a)}cancelRowDrag(){this.rowDragFeature?.lastDraggingEvent&&this.beans.dragSvc?.cancelDrag()}computeVisibility(){let e=this.beans,t=e.gos;if(t.get(`suppressRowDrag`))return`suppress`;if(!t.get(`rowDragManaged`))return`visible`;let n=e.colModel.isPivotMode();return(n||e.rowGroupColsSvc?.columns?.length)&&!t.get(`refreshAfterGroupEdit`)?`hidden`:n||e.filterManager?.isAnyFilterPresent()||e.sortSvc?.isSortActive()?`disabled`:`visible`}refreshVisibility(){let e=this.visibility,t=this.computeVisibility();e!==t&&(this.visibility=t,this.eventSvc?.dispatchEvent({type:`rowDragVisibilityChanged`}))}},Hg=class extends L{constructor(){super(...arguments),this.beanName=`rowDropHighlightSvc`,this.uiLevel=0,this.dragging=!1,this.row=null,this.position=`none`}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){let e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position===`none`?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){let e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position=`none`,this.row=null,e.dispatchRowEvent(`rowHighlightChanged`))}set(e,t){let n=e!==this.row,r=e.uiLevel,i=t!==this.position,a=r!==this.uiLevel;this.dragging=!1,(n||i||a)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent(`rowHighlightChanged`))}fromDrag(e){let t=e?.dropTarget;if(t){let{highlight:e,target:n,position:r}=t;if(e&&n&&r!==`none`){this.set(n,r),this.dragging=!0;return}}this.dragging&&this.clear()}},Ug={moduleName:`Drag`,version:R,beans:[Og]},Wg={moduleName:`DragAndDrop`,version:R,dynamicBeans:{dndSourceComp:Sg},icons:{rowDrag:`grip`}},Gg={moduleName:`SharedDragAndDrop`,version:R,beans:[cf],dependsOn:[Ug],userComponents:{agDragAndDropImage:mh},icons:{columnMovePin:`pin`,columnMoveHide:`eye-slash`,columnMoveMove:`arrows`,columnMoveLeft:`left`,columnMoveRight:`right`,columnMoveGroup:`group`,columnMoveValue:`aggregation`,columnMovePivot:`pivot`,dropNotAllowed:`not-allowed`,rowDrag:`grip`}},Kg={moduleName:`RowDrag`,version:R,beans:[Hg,Vg],apiFunctions:{addRowDropZone:Cg,removeRowDropZone:wg,getRowDropZoneParams:Tg,getRowDropPositionIndicator:Eg,setRowDropPositionIndicator:Dg},dependsOn:[Gg]},qg={moduleName:`HorizontalResize`,version:R,beans:[kg],dependsOn:[Ug]},Jg=`:where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}`,Yg=class extends L{constructor(){super(...arguments),this.beanName=`colAnimation`,this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get(`suppressColumnMoveAnimation`)||e.get(`enableRtl`)||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}let i=e=>{for(;e.length;){let t=e.pop();t&&t()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function Xg(e,t,n){e.colMoves?.moveColumnByIndex(t,n,`api`)}function Zg(e,t,n){e.colMoves?.moveColumns(t,n,`api`)}var Qg=class extends L{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get(`functionsReadOnly`))return;let t=e.dragItem.columns;if(t)for(let e of t)e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?`pinned`:`move`:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,`toolPanelDragAndDrop`),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,`toolPanelDragAndDrop`),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,`toolPanelDragAndDrop`)}onDragCancel(){this.clearColumnsList()}};function $g(e,t){!t||t.length<=1||t.filter(t=>e.indexOf(t)<0).length>0||t.sort((t,n)=>e.indexOf(t)-e.indexOf(n))}function e_(e){let t=[...e];for(let n of e){let e=null,r=n.getParent();for(;r!=null&&r.getDisplayedLeafColumns().length===1;)e=r,r=r.getParent();if(e!=null){let n=e.getColGroupDef()?.marryChildren?e.getProvidedColumnGroup().getLeafColumns():e.getLeafColumns();for(let e of n)t.includes(e)||t.push(e)}}return t}function t_(e,t,n,r){let i=r.allCols,a=null,o=null;for(let r=0;r<e.length;r++){let s=e[r],c=n.getProposedColumnOrder(t,s);if(!n.doesOrderPassRules(c))continue;let l=c.filter(e=>i.includes(e));if(o===null)o=l;else if(!ls(l,o))break;let u=a_(c);(a===null||u<a.fragCount)&&(a={move:s,fragCount:u})}return a}function n_(e){let{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:a,pinned:o,gos:s,colModel:c,colMoves:l,visibleCols:u}=e,{allMovingColumns:d}=e;t&&(d=e_(d));let f=d.slice();$g(c.getCols(),f);let p=s_({movingCols:f,draggingRight:n,xPosition:r,pinned:o,gos:s,colModel:c,visibleCols:u}),m=i_(f,c);if(p.length===0)return;let h=p[0];if(m!==null&&(t||!i)&&!a&&(!n&&h>=m||n&&h<=m))return;let g=t_(p,f,l,u);if(!g)return;let _=g.move;if(!(_>c.getCols().length-f.length))return{columns:f,toIndex:_}}function r_(e){let{columns:t,toIndex:n}=n_(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,`uiColumnMoved`,r),r?null:{columns:t,toIndex:n})}function i_(e,t){let n=t.getCols(),r=e.map(e=>n.indexOf(e)).sort((e,t)=>e-t),i=r[0];return U(r)-i===r.length-1?i:null}function a_(e){function t(e){let t=[],n=e.getOriginalParent();for(;n!=null;)t.push(n),n=n.getOriginalParent();return t}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),a=t(e[r+1]);[i,a]=i.length>a.length?[i,a]:[a,i];for(let e of i)a.indexOf(e)===-1&&n++}return n}function o_(e,t){switch(t){case`left`:return e.leftCols;case`right`:return e.rightCols;default:return e.centerCols}}function s_(e){let{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:a,colModel:o,visibleCols:s}=e;if(a.get(`suppressMovableColumns`)||t.some(e=>e.getColDef().suppressMovable))return[];let c=o_(s,i),l=o.getCols(),u=c.filter(e=>t.includes(e)),d=c.filter(e=>!t.includes(e)),f=l.filter(e=>!t.includes(e)),p=0,m=r;if(n){let e=0;for(let t of u)e+=t.getActualWidth();m-=e}if(m>0){for(let e=0;e<d.length;e++){let t=d[e];if(m-=t.getActualWidth(),m<0)break;p++}n&&p++}let h;if(p>0){let e=d[p-1];h=f.indexOf(e)+1}else h=f.indexOf(d[0]),h===-1&&(h=0);let g=[h],_=(e,t)=>e-t;if(n){let e=h+1,t=l.length-1;for(;e<=t;)g.push(e),e++;g.sort(_)}else{let e=h,t=l.length-1,n=l[e];for(;e<=t&&c.indexOf(n)<0;)e++,g.push(e),n=l[e];for(e=h-1;e>=0;)g.push(e),e--;g.sort(_).reverse()}return g}function c_(e){let{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:a,skipScrollPadding:o}=e,s=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:c}=e;return s?(n&&(c-=s.getBoundingClientRect().left),r.get(`enableRtl`)&&(a&&(s=s.querySelector(`.ag-header-row`)),c=s.clientWidth-c),t==null&&!o&&(c+=i.get(`center`).getCenterViewportScrollLeft()),c):0}function l_(e,t){for(let n of e)n.moving=t,n.dispatchColEvent(`movingChanged`,`uiColumnMoved`)}var u_=7,d_=100,f_=d_/2,p_=5,m_=100,h_=class extends L{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!P(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(let t of r){let r=t.getPinned();if(t.getColDef().lockPinned){if(r==e)return`move`;continue}let i=n?.containerType;if(i===e||!e)return`move`;if(e&&(!r||i!==e))return`pinned`}return`notAllowed`}onDragEnter(e){let t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,`uiColumnDragged`);else{let e=t.visibleState,r=(n||[]).filter(t=>e[t.getId()]&&!t.isVisible());this.setColumnsVisible(r,!0,`uiColumnDragged`)}this.gos.get(`suppressMoveWhenColumnDragging`)||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){let{gos:i,ctrlsSvc:a}=this.beans,o=i.get(`suppressMoveWhenColumnDragging`);if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Kn(e.hDirection))return;let s=c_({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:a});t||this.checkCenterForScrolling(s),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,s,r):this.handleColumnDragWhileAllowingMovement(e,t,n,s,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;let r=e.filter(e=>!e.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,`uiColumnMoved`,!0)}updateDragItemContainerType(){let{lastDraggingEvent:e}=this;if(this.gos.get(`suppressMoveWhenColumnDragging`)||!e)return;let t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){let a=this.getAllMovingColumns(e,!0);if(i){let e=this.isAttemptingToPin(a);e&&this.attemptToPinColumns(a,void 0,!0);let{fromLeft:r,xPosition:i}=this.getNormalisedXPositionInfo(a,e)||{};if(r==null||i==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:a,xPosition:i,fromEnter:t,fakeEvent:n,fromLeft:r})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(a,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){let a=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===`right`,s=e.dragSource.type===1,c=r_({...this.getMoveColumnParams({allMovingColumns:a,isFromHeader:s,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let n=e.dragSource.getDragItem(),r=null;return t?(r=n.columnsInSplit,r||=n.columns):r=n.columns,r?r.filter(e=>e.getColDef().lockPinned?e.getPinned()==this.pinned:!0):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:a,fakeEvent:o}=e,{gos:s,colModel:c,colMoves:l,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:a,fakeEvent:o,gos:s,colModel:c,colMoves:l,visibleCols:u}}highlightHoveredColumn(e,t){let{gos:n,colModel:r}=this.beans,i=n.get(`enableRtl`),a=r.getCols().filter(e=>e.isVisible()&&e.getPinned()===this.pinned),o=null,s=null,c=null;for(let e of a){if(s=e.getActualWidth(),o=this.getNormalisedColumnLeft(e,0,i),o!=null){let n=o+s;if(o<=t&&n>=t){c=e;break}}o=null,s=null}if(c)e.indexOf(c)!==-1&&(c=null);else{for(let e=a.length-1;e>=0;e--){let t=a[e],n=a[e].getParent();if(!n){c=t;break}let r=n?.getDisplayedLeafColumns();if(r.length){c=U(r);break}}if(!c)return;o=this.getNormalisedColumnLeft(c,0,i),s=c.getActualWidth()}if(this.lastHighlightedColumn?.column!==c&&this.clearHighlighted(),c==null||o==null||s==null)return;let l;l=t-o<s/2?0:1,g_(c,l),this.lastHighlightedColumn={column:c,position:l}}getNormalisedXPositionInfo(e,t){let{gos:n,visibleCols:r}=this.beans,i=n.get(`enableRtl`),{firstMovingCol:a,column:o,position:s}=this.getColumnMoveAndTargetInfo(e,t,i);if(!a||!o||s==null)return;let c=r.allCols,l=c.indexOf(a),u=c.indexOf(o),d=s===0,f=l<u||l===u&&!d,p=0;if(d?f&&--p:f||(p+=1),u+p===l)return;let m=c[u+p];if(m)return{fromLeft:f,xPosition:this.getNormalisedColumnLeft(m,20,i)}}getColumnMoveAndTargetInfo(e,t,n){let r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:a}=__(e);if(!i||!a||r.column||!t)return{firstMovingCol:i,...r};let o=this.getPinDirection()===`left`;return{firstMovingCol:i,position:o?1:0,column:o===n?a:i}}normaliseDirection(e){if(this.gos.get(`enableRtl`))switch(e){case`left`:return`right`;case`right`:return`left`}return e}getNormalisedColumnLeft(e,t,n){let{gos:r,ctrlsSvc:i}=this.beans,a=e.getLeft();if(a==null)return null;let o=e.getActualWidth();return c_({x:n?a+o-t:a+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>u_;return t&&n||e.some(e=>e.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:a}=e,{columns:o,toIndex:s}=n_(this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:a,fromEnter:r,fakeEvent:i}))||{};o&&s!=null&&(this.lastMovedInfo={columns:o,toIndex:s}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(g_(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get(`center`),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth(),i,a;this.gos.get(`enableRtl`)?(i=e<n+f_,a=e>r-f_):(a=e<n+f_,i=e>r-f_),this.needToMoveRight=i,this.needToMoveLeft=a,a||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),m_),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?`left`:`right`,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*p_,e>d_&&(e=d_);let t=null,n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:e,dragAndDrop:t,gos:n}=this.beans;if(this.failedMoveAttempts<=u_+1||!e)return;if(t.setDragImageCompIcon(`pinned`),!n.get(`suppressMoveWhenColumnDragging`)){let e=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(e,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned===`left`)return`left`;if(this.needToMoveRight||this.pinned===`right`)return`right`}attemptToPinColumns(e,t,n=!1){let r=(e||[]).filter(e=>!e.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());let{pinnedCols:i,dragAndDrop:a}=this.beans;return i?.setColsPinned(r,t,`uiColumnDragged`),n&&a.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function g_(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent(`headerHighlightChanged`,`uiColumnMoved`))}function __(e){let t=e.length,n,r;for(let i=0;i<t;i++){if(!n){let t=e[i];t.getLeft()!=null&&(n=t)}if(!r){let n=e[t-1-i];n.getLeft()!=null&&(r=n)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var v_=class extends L{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,e=>{let t,r=e.gridBodyCtrl.eBodyViewport;switch(n){case`left`:t=[[r,e.left.eContainer],[e.bottomLeft.eContainer],[e.topLeft.eContainer]];break;case`right`:t=[[r,e.right.eContainer],[e.bottomRight.eContainer],[e.topRight.eContainer]];break;default:t=[[r,e.center.eViewport],[e.bottomCenter.eViewport],[e.topCenter.eViewport]];break}this.eSecondaryContainers=t}),this.moveColumnFeature=this.createManagedBean(new h_(n)),this.bodyDropPivotTarget=this.createManagedBean(new Qg(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get(`allowDragFromColumnsToolPanel`)}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},y_=class extends L{constructor(){super(...arguments),this.beanName=`colMoves`}moveColumnByIndex(e,t,n){let r=this.beans.colModel.getCols();if(!r)return;let i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){let{colModel:i,colAnimation:a,visibleCols:o,eventSvc:s}=this.beans,c=i.getCols();if(!c)return;if(t>c.length-e.length){z(30,{toIndex:t});return}a?.start();let l=i.getColsForKeys(e);this.doesMovePassRules(l,t)&&(fs(i.getCols(),l,t),o.refresh(n),s.dispatchEvent({type:`columnMoved`,columns:l,column:l.length===1?l[0]:null,toIndex:t,finished:r,source:n})),a?.finish()}doesMovePassRules(e,t){let n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){let{colModel:t,gos:n}=this.beans;return!(!Ws(e,t.getColTree())||!(e=>{let t=e=>e?e===`left`||e===!0?-1:1:0,r=n.get(`enableRtl`),i=r?1:-1,a=!0;for(let n of e){let e=t(n.getColDef().lockPosition);r?e>i&&(a=!1):e<i&&(a=!1),i=e}return a})(e))}getProposedColumnOrder(e,t){let n=this.beans.colModel.getCols().slice();return fs(n,e,t),n}createBodyDropTarget(e,t){return new v_(e,t)}moveHeader(e,t,n,r,i){let{ctrlsSvc:a,gos:o,colModel:s,visibleCols:c,focusSvc:l}=this.beans,u=t.getBoundingClientRect(),d=u.left,f=Q(n),p=f?u.width:n.getActualWidth(),m=e===`left`!==o.get(`enableRtl`),h=c_({x:m?d-20:d+p+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:a}),g=l.focusedHeader;r_({allMovingColumns:f?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e===`right`,xPosition:h,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:s,colMoves:this,visibleCols:c,finished:!0});let _;if(f){let e=n.getDisplayedLeafColumns();_=m?e[0]:U(e)}else _=n;if(a.getScrollFeature().ensureColumnVisible(_,`auto`),(!i.isAlive()||o.get(`ensureDomOrder`))&&g){let e;if(f){let t=n.getGroupId(),r=n.getLeafColumns();if(!r.length)return;let i=r[0].getParent();if(!i)return;e=b_(i,t)}else e=n;e&&l.focusHeaderPosition({headerPosition:{...g,column:e}})}}setDragSourceForHeader(e,t,n){let{gos:r,colModel:i,dragAndDrop:a,visibleCols:o}=this.beans,s=!r.get(`suppressDragLeaveHidesColumns`),c=Q(t),l=c?t.getProvidedColumnGroup().getLeafColumns():[t],u={type:1,eElement:e,getDefaultIconName:()=>s?`hide`:`notAllowed`,getDragItem:c?()=>S_(t,o.allCols):()=>x_(t),dragItemName:n,onDragStarted:()=>{s=!r.get(`suppressDragLeaveHidesColumns`),l_(l,!0)},onDragStopped:()=>l_(l,!1),onDragCancelled:()=>l_(l,!1),onGridEnter:e=>{if(s){let{columns:t=[],visibleState:n}=e??{},r=c?e=>!n||n[e.getColId()]:()=>!0,a=t.filter(e=>!e.getColDef().lockVisible&&r(e));i.setColsVisible(a,!0,`uiColumnMoved`)}},onGridExit:e=>{if(s){let t=e?.columns?.filter(e=>!e.getColDef().lockVisible)||[];i.setColsVisible(t,!1,`uiColumnMoved`)}}};return a.addDragSource(u,!0),u}};function b_(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function x_(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function S_(e,t){let n=e.getProvidedColumnGroup().getLeafColumns(),r={};for(let e of n)r[e.getId()]=e.isVisible();let i=[];for(let e of t)n.indexOf(e)>=0&&(i.push(e),ds(n,e));for(let e of n)i.push(e);let a=[],o=e.getLeafColumns();for(let e of i)o.indexOf(e)!==-1&&a.push(e);return{columns:i,columnsInSplit:a,visibleState:r,containerType:a[0]?.pinned}}var C_={moduleName:`ColumnMove`,version:R,beans:[y_,Yg],apiFunctions:{moveColumnByIndex:Xg,moveColumns:Zg},dependsOn:[Gg],css:[Jg]},w_={moduleName:`AutoWidth`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`autoWidthCalc`}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let n=document.createElement(`form`);n.style.position=`fixed`;let r=this.centerRowContainerCtrl.eContainer;for(let t of e)this.cloneItemIntoDummy(t,n);r.appendChild(n);let i=n.offsetWidth;return n.remove(),t??=this.gos.get(`autoSizePadding`),i+t}getHeaderCellForColumn(e){let t=null;for(let n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){let r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}return t}cloneItemIntoDummy(e,t){let n=e.cloneNode(!0);n.style.width=``,n.style.position=`static`,n.style.left=``;let r=document.createElement(`div`),i=r.classList;[`ag-header-cell`,`ag-header-group-cell`].some(e=>n.classList.contains(e))?(i.add(`ag-header`,`ag-header-row`),r.style.position=`static`):i.add(`ag-row`);let a=e.parentElement;for(;a;){if([`ag-header-row`,`ag-row`].some(e=>a.classList.contains(e))){for(let e=0;e<a.classList.length;e++){let t=a.classList[e];t!=`ag-row-position-absolute`&&i.add(t)}break}a=a.parentElement}r.appendChild(n),t.appendChild(r)}}]};function T_(e,t,n=!0,r=`api`){e.colResize?.setColumnWidths(t,!1,n,r)}var E_=class extends L{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get(`suppressAutoSize`)&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit(`uiColumnResized`)))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:a,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n=`uiColumnResized`){let r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){let t=e=>e.reduce((e,t)=>e+t.getActualWidth(),0),n=(e,t)=>e.map(e=>e.getActualWidth()/t),r=this.getColumnsToResize(),i=t(r),a={columnsToResize:r,resizeStartWidth:i,resizeRatios:n(r,i)},o=null;if(e&&(o=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,`After`)??null),o){let e=a.groupAfterColumns=o.getDisplayedLeafColumns().filter(e=>e.isResizable());a.groupAfterRatios=n(e,a.groupAfterStartWidth=t(e))}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){let{columnsToResize:i,resizeStartWidth:a,resizeRatios:o,groupAfterColumns:s,groupAfterStartWidth:c,groupAfterRatios:l}=e,u=[];if(u.push({columns:i,ratios:o,width:t}),s){let e=t-a;u.push({columns:s,ratios:l,width:c-e})}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss(`ag-column-resizing`,e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get(`enableRtl`)?this.pinned!==`left`&&(t*=-1):this.pinned===`right`&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},D_=class extends L{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){let e=[],t,n,r=()=>{if(F(this.eResize,t),!t)return;let{horizontalResizeSvc:r,colAutosize:i}=this.beans,a=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(a),n&&i&&e.push(i.addColumnAutosizeListeners(this.eResize,this.column))},i=()=>{for(let t of e)t();e.length=0},a=()=>{let e=this.column.isResizable(),a=!this.gos.get(`suppressAutoSize`)&&!this.column.getColDef().suppressAutoSize;(e!==t||a!==n)&&(t=e,n=a,i(),r())};a(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction(`resize`,a)}onResizing(e,t){let{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:a}=this,o=this.normaliseResizeAmount(t),s=[{key:n,newWidth:i+o}],{pinnedCols:c,ctrlsSvc:l,colResize:u}=a;if(this.column.getPinned()){let e=c?.leftWidth??0,t=c?.rightWidth??0,n=Jr(l.getGridBodyCtrl().eBodyViewport)-50;if(e+t+(o-r)>n)return}this.lastResizeAmount=o,u?.setColumnWidths(s,this.resizeWithShiftKey,e,`uiColumnResized`),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss(`ag-column-resizing`,e)}normaliseResizeAmount(e){let t=e,n=this.pinned!==`left`,r=this.pinned===`right`;return this.gos.get(`enableRtl`)?n&&(t*=-1):r&&(t*=-1),t}},O_=class extends L{constructor(){super(...arguments),this.beanName=`colResize`}setColumnWidths(e,t,n,r){let i=[],{colModel:a,gos:o,visibleCols:s}=this.beans;for(let n of e){let e=a.getColDefCol(n.key)||a.getCol(n.key);if(e&&(i.push({width:n.newWidth,ratios:[1],columns:[e]}),o.get(`colResizeDefault`)===`shift`&&(t=!t),t)){let t=s.getColAfter(e);if(!t)continue;let r=e.getActualWidth()-n.newWidth,a=t.getActualWidth()+r;i.push({width:a,ratios:[1],columns:[t]})}}i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){let{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(e=>k_(e)))){if(n){let e=t&&t.length>0?t[0].columns:null;Ys(this.eventSvc,e,n,r)}return}let i=[],a=[];for(let e of t){let{width:t,columns:n,ratios:o}=e,s={},c={};for(let e of n)a.push(e);let l=!0,u=0;for(;l;){if(u++,u>1e3){B(31);break}l=!1;let e=[],r=0,i=t;n.forEach((t,n)=>{if(c[t.getId()])i-=s[t.getId()];else{e.push(t);let i=o[n];r+=i}});let a=1/r;e.forEach((n,r)=>{let u=r===e.length-1,d;u?d=i:(d=Math.round(o[r]*t*a),i-=d);let f=n.getMinWidth(),p=n.getMaxWidth();d<f?(d=f,c[n.getId()]=!0,l=!0):p>0&&d>p&&(d=p,c[n.getId()]=!0,l=!0),s[n.getId()]=d})}for(let e of n){let t=s[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,r),i.push(e))}}let o=i.length>0,s=[];if(o){let{colFlex:e,visibleCols:t,colViewport:n}=this.beans;s=e?.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0})??[],t.setLeftValues(r),t.updateBodyWidths(),n.checkViewportColumns()}let c=a.concat(s);(o||n)&&Ys(this.eventSvc,c,n,r,s)}resizeHeader(e,t,n){if(!e.isResizable())return;let r=e.getActualWidth(),i=e.getMinWidth(),a=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),a);this.setColumnWidths([{key:e,newWidth:o}],n,!0,`uiColumnResized`)}createResizeFeature(e,t,n,r,i){return new D_(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new E_(e,t,n,r)}};function k_(e){let{columns:t,width:n}=e,r=0,i=0,a=!0;for(let e of t){let t=e.getMinWidth();r+=t||0;let n=e.getMaxWidth();n>0?i+=n:a=!1}return n>=r&&(!a||n<=i)}var A_={moduleName:`ColumnResize`,version:R,beans:[O_],apiFunctions:{setColumnWidths:T_},dependsOn:[qg,w_]},j_=class extends L{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);for(let t of this.columnGroup.getLeafColumns())t.__addEventListener(`widthChanged`,e),t.__addEventListener(`visibleChanged`,e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener(`widthChanged`,e),t.__removeEventListener(`visibleChanged`,e)})}removeListenersOnChildrenColumns(){for(let e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss(`ag-hidden`,e===0)}},M_=class extends Gm{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,r,i){let{column:a,beans:o}=this,{context:s,colNames:c,colHover:l,rangeSvc:u,colResize:d}=o;this.comp=e,i=cc(this,s,i),this.setGui(t,i),this.displayName=c.getDisplayNameForColumnGroup(a,`header`),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.refreshAnnouncement(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i,r),this.addManagedPropertyListener(`groupHeaderHeight`,this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let f=this.rowCtrl.pinned,p=a.getProvidedColumnGroup().getLeafColumns();l?.createHoverFeature(i,p,t),u?.createRangeHighlightFeature(i,a,e),i.createManagedBean(new Hm(a,t,o)),i.createManagedBean(new j_(e,a)),d?this.resizeFeature=i.createManagedBean(d.createGroupResizeFeature(e,n,f,a)):e.setResizableDisplayed(!1),i.createManagedBean(new Qf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>void 0,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,p),this.addManagedEventListeners({cellSelectionChanged:()=>this.refreshAnnouncement()}),i.addManagedPropertyListener(`suppressMovableColumns`,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.getDefinition();return H(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,n=e.get(`groupHeaderHeight`);n==null?(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null)):n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n)}addHighlightListeners(e,t){if(this.beans.gos.get(`suppressMoveWhenColumnDragging`))for(let n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=U(t)===e;if(!n&&!r)return;let i=e.getHighlighted(),a=!!this.rowCtrl.getHeaderCellCtrls().find(e=>e.column.isMoving()),o=!1,s=!1;if(a){let e=this.beans.gos.get(`enableRtl`),t=i===1,a=i===0;n&&(e?s=t:o=a),r&&(e?o=a:s=t)}this.comp.toggleCss(`ag-header-highlight-before`,o),this.comp.toggleCss(`ag-header-highlight-after`,s)}resizeHeader(e,t){let{resizeFeature:n}=this;if(!n)return;let r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,`uiColumnResized`,!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,a=i.getProvidedColumnGroup(),o=Rc(t,H(n,{displayName:this.displayName,columnGroup:i,setExpanded:t=>{e.setColumnGroupOpened(a,t,`gridInitializing`)},setTooltip:(e,t)=>{n.assertModuleRegistered(`Tooltip`,3),this.setupTooltip(e,t)},showColumnMenu:(e,t)=>r?.showMenuAfterButtonClick(a,e,`columnMenu`,t),showColumnMenuAfterMouseClick:(e,t)=>r?.showMenuAfterMouseEvent(a,e,`columnMenu`,t),eGridHeader:this.eGui}));o&&this.comp.setUserCompDetails(o)}addHeaderMouseListeners(e,t){let{column:n,comp:r,beans:{rangeSvc:i},gos:a}=this,o=e=>this.handleMouseOverChange(e.type===`mouseenter`);e.addManagedListeners(this.eGui,{mouseenter:o,mouseleave:o,click:()=>this.dispatchColumnMouseEvent(`columnHeaderClicked`,n.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,n.getProvidedColumnGroup())}),r.toggleCss(`ag-header-group-cell-selectable`,Co(a));let s=i?.createHeaderGroupCellMouseListenerFeature(this.column,t);s&&this.createManagedBean(s)}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?`columnHeaderMouseOver`:`columnHeaderMouseLeave`,column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?`true`:`false`):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),n=cm(t,this.gos,null,e);e.isPadding()?(n.push(`ag-header-group-cell-no-group`),e.getLeafColumns().every(e=>e.isSpanHeaderHeight())&&n.push(`ag-header-span-height`)):(n.push(`ag-header-group-cell-with-group`),t?.wrapHeaderText&&n.push(`ag-header-cell-wrap-text`));for(let e of n)this.comp.toggleCss(e,!0)}setupMovingCss(e){let{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss(`ag-header-cell-moving`,t.isMoving());for(let t of n)e.addManagedListeners(t,{movingChanged:r});r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription())}handleKeyDown(e){if(super.handleKeyDown(e),!this.getWrapperHasFocus())return;let{column:t,expandable:n,gos:r,beans:i}=this,a=Co(r);if(e.key==G.ENTER){if(a&&!e.altKey)i.rangeSvc?.handleColumnSelection(t,e);else if(n){let e=!t.isExpanded();i.colGroupSvc.setColumnGroupOpened(t.getProvidedColumnGroup(),e,`uiColumnExpanded`)}}}refreshAnnouncement(){let e,{gos:t,column:n,beans:r}=this;if(Co(t)){let t=this.getLocaleTextFunc(),i=r.rangeSvc?.isColumnInAnyRange(n);e=t(`ariaColumnCellSelection`,`Press CTRL+SPACE to ${i?`de`:``}select all visible cells in this column group`)}this.ariaAnnouncement=e}announceAriaDescription(){let{beans:e,eGui:t,ariaAnnouncement:n}=this;!n||!t.contains(nr(e))||e.ariaAnnounce?.announceValue(n,`columnHeader`)}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get(`suppressMovableColumns`)||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function N_(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,`api`)}function P_(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function F_(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function I_(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||``}function L_(e){return e.colGroupSvc?.getColumnGroupState()??[]}function R_(e,t){e.colGroupSvc?.setColumnGroupState(t,`api`)}function z_(e){e.colGroupSvc?.resetColumnGroupState(`api`)}function B_(e){return e.visibleCols.treeLeft}function V_(e){return e.visibleCols.treeCenter}function H_(e){return e.visibleCols.treeRight}function U_(e){return e.visibleCols.getAllTrees()}function W_(e,t){for(let n=0;n<t.length;n++){let r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var G_=class extends L{constructor(){super(...arguments),this.beanName=`visibleCols`,this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colFlex:n,colModel:r,colGroupSvc:i,colViewport:a,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=q_(this.treeLeft),this.centerCols=q_(this.treeCenter),this.rightCols=q_(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(e=>e.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),a.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:`displayedColumnsChanged`,source:e})}getHeaderRowCount(){if(!this.gos.get(`hidePaddedHeaderRows`))return this.beans.colModel.cols.treeDepth;let e=0;for(let t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){let t=n.getProvidedColumnGroup().getLevel()+1;t>e&&(e=t);break}n=n.getParent()}}return e}updateBodyWidths(){let e=gs(this.centerCols),t=gs(this.leftCols),n=gs(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:`columnContainerWidthChanged`}),this.eventSvc.dispatchEvent({type:`displayedColumnsWidthChanged`}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,a;this.gos.get(`enableRtl`)?(i=t?t[0]:null,a=n?U(n):null):(i=t?U(t):null,a=n?n[0]:null);for(let t of e.getCols())t.setLastLeftPinned(t===i,r),t.setFirstRightPinned(t===a,r)}buildTrees(e,t){let n=e.getColsToShow(),r=n.filter(e=>e.getPinned()==`left`),i=n.filter(e=>e.getPinned()==`right`),a=n.filter(e=>e.getPinned()!=`left`&&e.getPinned()!=`right`),o=new oc,s=e=>t?t.createColumnGroups(e):e.columns;this.treeLeft=s({columns:r,idCreator:o,pinned:`left`,oldDisplayedGroups:this.treeLeft}),this.treeRight=s({columns:i,idCreator:o,pinned:`right`,oldDisplayedGroups:this.treeRight}),this.treeCenter=s({columns:a,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),n=[],r=[],i=[];for(let e of t){let t=e.getPinned();t?t===!0||t===`left`?n.push(e):i.push(e):r.push(e)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return t=Q(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(let e of[this.treeLeft,this.treeRight,this.treeCenter])for(let t of e)Q(t)&&t.checkLeft()}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let n=t.getCols().slice(0),r=this.gos.get(`enableRtl`);for(let t of[this.leftCols,this.rightCols,this.centerCols]){if(r){let n=gs(t);for(let r of t)n-=r.getActualWidth(),r.setLeft(n,e)}else{let n=0;for(let r of t)r.setLeft(n,e),n+=r.getActualWidth()}W_(n,t)}for(let t of n)t.setLeft(null,e)}joinCols(){this.gos.get(`enableRtl`)?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){let i=[],a=null;for(let o=0;o<t.length;o++){let s=t[o],c=t.length-o,l=Math.min(s.getColSpan(e),c),u=[s];if(l>1){let e=l-1;for(let n=1;n<=e;n++)u.push(t[o+n]);o+=e}let d;if(n){d=!1;for(let e of u)n(e)&&(d=!0)}else d=!0;d&&(i.length===0&&a&&r&&r(s)&&i.push(a),i.push(s)),a=s}return i}getContainerWidth(e){switch(e){case`left`:return this.leftWidth;case`right`:return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};K_(this.treeCenter,!1,e),K_(this.treeLeft,!1,e),K_(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get(`enableRtl`),t=[`leftCols`,`centerCols`,`rightCols`];e&&t.reverse();for(let n=0;n<t.length;n++){let r=this[t[n]];if(r.length)return e?U(r):r[0]}return null}getColAfter(e){let t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return gs(this.leftCols)}getDisplayedColumnsRightWidth(){return gs(this.rightCols)}isColAtEdge(e,t){let n=this.allCols;if(!n.length)return!1;let r=t===`first`,i;if(Q(e)){let t=e.getDisplayedLeafColumns();if(!t.length)return!1;i=r?t[0]:U(t)}else i=e;return(r?n[0]:U(n))===i}};function K_(e,t,n){if(e)for(let r=0;r<e.length;r++){let i=e[r];Q(i)&&K_(t?i.getDisplayedChildren():i.getChildren(),t,n),n(i)}}function q_(e){let t=[];return K_(e,!0,e=>{qo(e)&&t.push(e)}),t}var J_={moduleName:`ColumnGroup`,version:R,dynamicBeans:{headerGroupCellCtrl:M_},beans:[class extends L{constructor(){super(...arguments),this.beanName=`colGroupSvc`}getColumnGroupState(){let e=[];return Hs(null,this.beans.colModel.getColTree(),t=>{is(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let n=[];Hs(null,t,e=>{if(is(e)){let t=e.getColGroupDef(),r={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};n.push(r)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){let{colModel:n,colAnimation:r,visibleCols:i,eventSvc:a}=this.beans;if(!n.getColTree().length)return;r?.start();let o=[];for(let t of e){let e=t.groupId,n=t.open,r=this.getProvidedColGroup(e);r&&r.isExpanded()!==n&&(r.setExpanded(n),o.push(r))}i.refresh(t,!0),o.length&&a.dispatchEvent({type:`columnGroupOpened`,columnGroup:o.length===1?o[0]:void 0,columnGroups:o}),r?.finish()}setColumnGroupOpened(e,t,n){let r;r=is(e)?e.getId():e||``,this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return Hs(null,this.beans.colModel.getColTree(),n=>{is(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t===`After`?U(r):r[0],a=`getCol${t}`;for(;;){let t=this.beans.visibleCols[a](i);if(!t)return null;let r=this.getColGroupAtLevel(t,n);if(r!==e)return r}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){K_(this.beans.visibleCols.getAllTrees(),!1,e=>{Q(e)&&e.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Q(e))return e;let n=this.beans.visibleCols.getAllTrees(),r=typeof t==`number`,i=null;return K_(n,!1,n=>{if(Q(n)){let a=n,o;o=r?e===a.getGroupId()&&t===a.getPartId():e===a.getGroupId(),o&&(i=a)}}),i}createColumnGroups(e){let{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:a}=e,o=this.mapOldGroupsById(i),s=[],c=t;for(;c.length;){let e=c;c=[];let t=0,i=i=>{let l=t;t=i;let u=e[l],d=(Q(u)?u.getProvidedColumnGroup():u).getOriginalParent();if(d==null){for(let t=l;t<i;t++)s.push(e[t]);return}let f=this.createColumnGroup(d,n,o,r,a);for(let t=l;t<i;t++)f.addChild(e[t]);c.push(f)};for(let n=1;n<e.length;n++){let r=e[n],a=(Q(r)?r.getProvidedColumnGroup():r).getOriginalParent(),o=e[t];a!==(Q(o)?o.getProvidedColumnGroup():o).getOriginalParent()&&i(n)}t<e.length&&i(e.length)}return a||this.setupParentsIntoCols(s,null),s}createProvidedColumnGroup(e,t,n,r,i,a,o){let s=i.getUniqueKey(t.groupId||null,null),c=ss(this.beans,t,s),l=new as(c,s,!1,n);this.createBean(l);let u=this.findExistingGroup(t,a);u&&a.splice(u.idx,1);let d=u?.group;d&&l.setExpanded(d.isExpanded());let f=Ns(this.beans,c.children,n+1,e,r,i,a,o);return l.setChildren(f),l}balanceColumnTree(e,t,n,r){let i=[];for(let a=0;a<e.length;a++){let o=e[a];if(is(o)){let e=o,a=this.balanceColumnTree(e.getChildren(),t+1,n,r);e.setChildren(a),i.push(e)}else{let a,s;for(let e=t;e<n;e++){let t=r.getUniqueKey(null,null),n=new as(ss(this.beans,null,t),t,!0,e);this.createBean(n),s&&s.setChildren([n]),s=n,a||=s}if(a&&s)if(i.push(a),e.some(e=>is(e))){s.setChildren([o]);continue}else{s.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n?.[0]&&is(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){let i=e[r];if(is(i)){let e=i,r=this.findMaxDepth(e.getChildren(),t+1);n<r&&(n=r)}}return n}balanceTreeForAutoCols(e,t){let n=[];for(let r of e){let e=r;for(let n=t-1;n>=0;n--){let t=new as(null,`FAKE_PATH_${r.getId()}}_${n}`,!0,n);this.createBean(t),t.setChildren([e]),e.originalParent=t,e=t}t===0&&(r.originalParent=null),n.push(e)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){let r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}createColumnGroup(e,t,n,r,i){let a=e.getGroupId(),o=t.getInstanceIdForKey(a),s=n[lf(a,o)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),P(s)?s.reset():(s=new uf(e,a,o,r),i||this.createBean(s)),s}mapOldGroupsById(e){let t={},n=e=>{for(let r of e)if(Q(r)){let e=r;t[r.getUniqueId()]=e,n(e.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(let n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=``),n.parent=t,Q(n)){let e=n;this.setupParentsIntoCols(e.getChildren(),e)}}}],apiFunctions:{getAllDisplayedColumnGroups:U_,getCenterDisplayedColumnGroups:V_,getColumnGroup:P_,getColumnGroupState:L_,getDisplayNameForColumnGroup:I_,getLeftDisplayedColumnGroups:B_,getProvidedColumnGroup:F_,getRightDisplayedColumnGroups:H_,resetColumnGroupState:z_,setColumnGroupOpened:N_,setColumnGroupState:R_}},Y_={tag:`div`,cls:`ag-skeleton-container`},X_=class extends pc{constructor(){super(Y_)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute(`id`,t),this.addDestroyFunc(()=>_r(e.eParentOfValue)),_r(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.getLocaleTextFunc();this.getGui().textContent=e(`loadingError`,`ERR`);let t=e(`ariaSkeletonCellLoadingFailed`,`Row failed to load`);gr(this.getGui(),t)}setupLoading(e){let t=Ef({tag:`div`,cls:`ag-skeleton-effect`}),n=e.node.rowIndex;if(n!=null){let e=75+25*(n%2==0?Math.sin(n):Math.cos(n));t.style.width=`${e}%`}this.getGui().appendChild(t);let r=this.getLocaleTextFunc(),i=e.deferRender?r(`ariaDeferSkeletonCellLoading`,`Cell is loading`):r(`ariaSkeletonCellLoading`,`Row data is loading`);gr(this.getGui(),i)}refresh(e){return!1}},Z_={moduleName:`CheckboxCellRenderer`,version:R,userComponents:{agCheckboxCellRenderer:_h}},Q_={moduleName:`SkeletonCellRenderer`,version:R,userComponents:{agSkeletonCellRenderer:X_}};function $_(e,t){let n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function ev(e){return e.colModel.getColumnDefs(!0)}function tv(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||``}function nv(e,t){return e.colModel.getColDefCol(t)}function rv(e){return e.colModel.getColDefCols()}function iv(e,t){return Xs(e,t,`api`)}function av(e){return $s(e)}function ov(e){Zs(e,`api`)}function sv(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function cv(e){return e.visibleCols.isPinningLeft()}function lv(e){return e.visibleCols.isPinningRight()}function uv(e,t){return e.visibleCols.getColAfter(t)}function dv(e,t){return e.visibleCols.getColBefore(t)}function fv(e,t,n){e.colModel.setColsVisible(t,n,`api`)}function pv(e,t,n){e.pinnedCols?.setColsPinned(t,n,`api`)}function mv(e){return e.colModel.getCols()}function hv(e){return e.visibleCols.leftCols}function gv(e){return e.visibleCols.centerCols}function _v(e){return e.visibleCols.rightCols}function vv(e){return e.visibleCols.allCols}function yv(e){return e.colViewport.getViewportColumns()}function bv(e,t){if(!e)return;let n=e,r={};for(let e of Object.keys(n)){if(t&&t.indexOf(e)>=0||Zi.has(e))continue;let i=n[e];typeof i==`object`&&i&&i.constructor===Object?r[e]=bv(i):r[e]=i}return r}var xv=class extends L{constructor(){super(...arguments),this.beanName=`colDefFactory`}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r,i=!1){let a=e.slice();t?a.sort((e,t)=>n.indexOf(e)-n.indexOf(t)):(n||i)&&a.sort((e,t)=>r.indexOf(e)-r.indexOf(t));let o=this.rowGroupColsSvc?.columns,s=this.pivotColsSvc?.columns;return this.buildColumnDefs(a,o,s)}buildColumnDefs(e,t=[],n=[]){let r=[],i={};for(let a of e){let e=this.createDefFromColumn(a,t,n),o=!0,s=e,c=a.getOriginalParent(),l=null;for(;c;){let e=null;if(c.isPadding()){c=c.getOriginalParent();continue}let t=i[c.getGroupId()];if(t){t.children.push(s),o=!1;break}if(e=this.createDefFromGroup(c),e&&(e.children=[s],i[e.groupId]=e,s=e,c=c.getOriginalParent()),c!=null&&l===c){o=!1;break}l=c}o&&r.push(s)}return r}createDefFromGroup(e){let t=bv(e.getColGroupDef(),[`children`]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){let r=bv(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSortDef(),r.sortIndex=e.getSortIndex()==null?null:e.getSortIndex(),r}},Sv=class extends L{constructor(){super(...arguments),this.beanName=`colFlex`,this.columnsHidden=!1}refreshFlexedColumns(e={}){let t=e.source??`flex`;e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let n=this.flexViewportWidth,{visibleCols:r,colDelayRenderSvc:i}=this.beans,a=r.centerCols,o=-1;if(e.resizingCols){let t=new Set(e.resizingCols);for(let e=a.length-1;e>=0;e--)if(t.has(a[e])){o=e;break}}let s=!1,c=a.map((e,t)=>{let n=e.getFlex(),r=n!=null&&n>0&&t>o;return s||=r,{col:e,isFlex:r,flex:Math.max(0,n??0),initialSize:e.getActualWidth(),min:e.getMinWidth(),max:e.getMaxWidth(),targetSize:0}});if(s?(i?.hideColumns(`colFlex`),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(i),!n||!s)return[];let l=c.length,u=c.reduce((e,t)=>e+t.flex,0),d=n,f=(e,n)=>{e.frozenSize=n,e.col.setActualWidth(n,t),d-=n,u-=e.flex,--l},p=e=>e.frozenSize!=null;for(let e of c)e.isFlex||f(e,e.initialSize);for(;l>0;){let e=Math.round(u<1?d*u:d),t,n=0,r=0;for(let i of c){if(p(i))continue;t=i,r+=e*(i.flex/u);let a=r-n,o=Math.round(a);i.targetSize=o,n+=o}t&&(t.targetSize+=e-n);let i=0;for(let e of c){if(p(e))continue;let t=e.targetSize,n=Math.min(Math.max(t,e.min),e.max);i+=n-t,e.violationType=n===t?void 0:n<t?`max`:`min`,e.targetSize=n}let a=i===0?`all`:i>0?`min`:`max`;for(let e of c)p(e)||(a===`all`||e.violationType===a)&&f(e,e.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();let m=c.filter(e=>e.isFlex&&!e.violationType).map(e=>e.col);if(e.fireResizedEvent){let e=c.filter(e=>e.initialSize!==e.frozenSize).map(e=>e.col),n=c.filter(e=>e.flex).map(e=>e.col);Ys(this.eventSvc,e,!0,t,n)}return this.revealColumns(i),m}revealColumns(e){this.columnsHidden&&=(e?.revealColumns(`colFlex`),!1)}initCol(e){let{flex:t,initialFlex:n}=e.colDef;t===void 0?n!==void 0&&(e.flex=n):e.flex=t}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent(`flex`)}};function Cv(e,t,n){if(!t||!e)return;if(!n)return e[t];let r=t.split(`.`),i=e;for(let e=0;e<r.length;e++){if(i==null)return;i=i[r[e]]}return i}var wv=[`dateTimeString`,`dateString`,`text`,`number`,`boolean`,`date`],Tv=class extends L{constructor(){super(...arguments),this.beanName=`dataTypeSvc`,this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:`agNumberCellEditor`}},boolean(){return{cellEditor:`agCheckboxCellEditor`,cellRenderer:`agCheckboxCellRenderer`,getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===G.SPACE}},date({formatValue:e}){return{cellEditor:`agDateCellEditor`,keyCreator:e}},dateString({formatValue:e}){return{cellEditor:`agDateStringCellEditor`,keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{let a=t.getColDefCol(n),o=a?.getColDef();if(!a||!o)return 0;let s=r==null?``:e({column:a,node:null,value:r}),c=i==null?``:e({column:a,node:null,value:i});return s===c?0:s>c?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener(`dataTypeDefinitions`,e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={},n={},r=e=>t=>{let{column:n,node:r,value:i}=t,a=n.getColDef().valueFormatter;return a===e.groupSafeValueFormatter&&(a=e.valueFormatter),this.beans.valueSvc.formatValue(n,r,i,a)};for(let i of Object.keys(e)){let a=e[i],o={...a,groupSafeValueFormatter:Ov(a,this.gos)};t[i]=o,n[i]=r(o)}let i=this.gos.get(`dataTypeDefinitions`)??{},a={};for(let o of Object.keys(i)){let s=i[o],c=this.processDataTypeDefinition(s,i,[o],e);c&&(t[o]=c,s.dataTypeMatcher&&(a[o]=s.dataTypeMatcher),n[o]=r(c))}let{valueParser:o,valueFormatter:s}=e.object,{valueParser:c,valueFormatter:l}=t.object;this.hasObjectValueParser=c!==o,this.hasObjectValueFormatter=l!==s,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(a,e)}sortKeysInMatchers(e,t){let n={...e};for(let r of wv)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i,a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let n=r[a],o=t[a];if(n&&o&&(n=o),!Dv(e,n,a))return;i=Ev(n,e)}else{if(n.includes(a)){z(44);return}let o=t[a];if(!Dv(e,o,a))return;let s=this.processDataTypeDefinition(o,t,[...n,a],r);if(!s)return;i=Ev(s,e)}return{...i,groupSafeValueFormatter:Ov(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t,{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}let a=this.dataTypeDefinitions[r];if(!a){z(47,{cellDataType:r});return}return e.cellDataType=r,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,a,n),a.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let n=e=>{t.add(e.key)};e.__addEventListener(`columnStateUpdated`,n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener(`columnStateUpdated`,n))}canInferCellDataType(e,t){let{gos:n}=this;if(!Ja(n))return!1;let r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Av(t,r))return!1;let i=t.type===null?e.type:t.type;if(i){let e=n.get(`columnTypes`)??{};if(Ss(i).some(t=>{let n=e[t.trim()];return n&&Av(n,r)}))return!1}return!Av(e,r)}inferCellDataType(e,t){if(!e)return;let n,r=this.getInitialData();if(r?n=Cv(r,e,e.includes(`.`)&&!this.gos.get(`suppressFieldDotNotation`)):this.initWaitForRowData(t),n!=null)return Object.keys(this.dataTypeMatchers).find(e=>this.dataTypeMatchers[e](n))??`object`}getInitialData(){let e=this.gos.get(`rowData`);if(e?.length)return e[0];if(this.initialData)return this.initialData;{let e=this.beans.rowModel.rootNode?._leafs;if(e?.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);let[i]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{let{firstRowData:a}=e;a&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(a,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:`dataTypesInferred`}))}})}processColumnsPendingInference(e,t){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let r={},i={};for(let e of Object.keys(this.columnStateUpdatesPendingInference)){let a=this.columnStateUpdatesPendingInference[e],o=this.colModel.getCol(e);if(!o)return;let s=o.getColDef();if(!this.resetColDefIntoCol(o,`cellDataTypeInferred`))return;let c=o.getColDef();if(t&&c.type&&c.type!==s.type){let t=jv(o,a);t.rowGroup&&t.rowGroupIndex==null&&(r[e]=t),t.pivot&&t.pivotIndex==null&&(i[e]=t),n.push(t)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&Xs(this.beans,{state:n},`cellDataTypeInferred`),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){let n=e.getUserProvidedColDef();if(!n)return!1;let r=Rs(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e===`dateTime`||e===`dateTimeString`}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!n||e.getColDef().allowFormula&&this.beans.formula?.isFormula(t)?!0:n(t)}validateColDef(e){let t=e=>z(48,{property:e});if(e.cellDataType===`object`){let{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t(`Formatter`),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t(`Parser`)}}postProcess(e){let t=e.cellDataType;if(!t||typeof t!=`string`)return;let{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,a=n[t];a&&r.colFilter?.setColDefPropsForDataType(e,a,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){let i=this.formatValueFuncs[t],a=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,a)}getDateObjectTypeDef(e){let t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:e=>$l(e.newValue&&String(e.newValue)),valueFormatter:e=>e.value==null?``:!(e.value instanceof Date)||isNaN(e.value.getTime())?t(`invalidDate`,`Invalid Date`):Y(e.value,n)??``,dataTypeMatcher:e=>e instanceof Date}}getDateStringTypeDef(e){let t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:e=>$l(e)??void 0,dateFormatter:e=>Y(e??null,t)??void 0,valueParser:e=>Zl(String(e.newValue))?e.newValue:null,valueFormatter:e=>Zl(String(e.value))?String(e.value):``,dataTypeMatcher:e=>typeof e==`string`&&Zl(e)}}getDefaultDataTypes(){let e=this.getLocaleTextFunc();return{number:{baseDataType:`number`,valueParser:e=>e.newValue?.trim?.()===``?null:Number(e.newValue),valueFormatter:t=>t.value==null?``:typeof t.value!=`number`||isNaN(t.value)?e(`invalidNumber`,`Invalid Number`):String(t.value),dataTypeMatcher:e=>typeof e==`number`},text:{baseDataType:`text`,valueParser:e=>e.newValue===``?null:qn(e.newValue),dataTypeMatcher:e=>typeof e==`string`},boolean:{baseDataType:`boolean`,valueParser:e=>e.newValue==null?e.newValue:e.newValue?.trim?.()===``?null:String(e.newValue).toLowerCase()===`true`,valueFormatter:e=>e.value==null?``:String(e.value),dataTypeMatcher:e=>typeof e==`boolean`},date:this.getDateObjectTypeDef(`date`),dateString:this.getDateStringTypeDef(`dateString`),dateTime:this.getDateObjectTypeDef(`dateTime`),dateTimeString:{...this.getDateStringTypeDef(`dateTimeString`),dataTypeMatcher:e=>typeof e==`string`&&Ql(e)},object:{baseDataType:`object`,valueParser:()=>null,valueFormatter:e=>qn(e.value)??``}}}destroyColumnStateUpdateListeners(){for(let e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function Ev(e,t){let n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...Ss(e.columnTypes),...Ss(t.columnTypes)]),n}function Dv(e,t,n){return t?t.baseDataType===e.baseDataType?!0:(z(46),!1):(z(45,{parentCellDataType:n}),!1)}function Ov(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){let t=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(t){if(t===`first`||t===`last`)return e.valueFormatter(n);if(e.baseDataType===`number`&&t!==`count`){if(typeof n.value==`number`)return e.valueFormatter(n);if(typeof n.value==`object`){if(!n.value)return;if(`toNumber`in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if(`value`in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get(`groupHideOpenParents`)&&n.column.isRowGroupActive()&&typeof n.value==`string`&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function kv(e,t,n,r){if(!t[n])return!1;let i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function Av(e,t){return[[`cellRenderer`,`agSparklineCellRenderer`],[`valueGetter`,void 0],[`valueParser`,void 0],[`refData`,void 0]].some(([n,r])=>kv(e,t,n,r))}function jv(e,t){let n=ec(e);for(let e of t)delete n[e],e===`rowGroup`?delete n.rowGroupIndex:e===`pivot`&&delete n.pivotIndex;return n}var Mv={moduleName:`DataType`,version:R,beans:[Tv],dependsOn:[Z_]},Nv={moduleName:`ColumnFlex`,version:R,beans:[Sv]},Pv={moduleName:`ColumnApi`,version:R,beans:[xv],apiFunctions:{getColumnDef:$_,getDisplayNameForColumn:tv,getColumn:nv,getColumns:rv,applyColumnState:iv,getColumnState:av,resetColumnState:ov,isPinning:sv,isPinningLeft:cv,isPinningRight:lv,getDisplayedColAfter:uv,getDisplayedColBefore:dv,setColumnsVisible:fv,setColumnsPinned:pv,getAllGridColumns:mv,getDisplayedLeftColumns:hv,getDisplayedCenterColumns:gv,getDisplayedRightColumns:_v,getAllDisplayedColumns:vv,getAllDisplayedVirtualColumns:yv,getColumnDefs:ev}};function Fv(e){return!e||e==null?null:e.replace(/([a-z])([A-Z])/g,`$1 $2`).replace(/([A-Z]+)([A-Z])([a-z])/g,`$1 $2$3`).replace(/\./g,` `).split(` `).map(e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):``)).join(` `)}var Iv=class extends L{constructor(){super(...arguments),this.beanName=`colNames`}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;let r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){let r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){let a=e.headerValueGetter;if(a){let o=H(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof a==`function`?a(o):typeof a==`string`?this.beans.expressionSvc?.evaluate(a,o)??null:``}else if(e.headerName!=null)return e.headerName;else if(e.field)return Fv(e.field);return``}},Lv=class extends L{constructor(){super(...arguments),this.beanName=`colViewport`,this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash=``,this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get(`suppressColumnVirtualisation`)}setScrollPosition(e,t,n=!1){let{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get(`enableRtl`)){let n=r.bodyWidth;this.viewportLeft=n-t-e,this.viewportRight=n-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case`left`:return this.columnsToRenderLeft;case`right`:return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case`left`:n=this.rowsOfHeadersToRenderLeft[t];break;case`right`:n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=``}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||Rv(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200;return!(t<r&&n<r)&&!(t>i&&n>i)}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=e=>{let t=e.getLeft();return P(t)&&t>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:`virtualColumnsChanged`,afterScroll:e})}calculateHeaderRows(){let{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;let n=e=>{let t=new Set,n={};for(let r of e){let e=r.getParent(),i=r.isSpanHeaderHeight();for(;e&&!t.has(e);){if(i&&e.isPadding()){e=e.getParent();continue}let r=e.getProvidedColumnGroup().getLevel();n[r]??(n[r]=[]),n[r].push(e),t.add(e),e=e.getParent()}}return n};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){let e=e=>`${e.getId()}-${e.getPinned()||`normal`}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join(`#`),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function Rv(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var zv={moduleName:`CellRendererFunction`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`agCompUtils`}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(e){let n=t(e),r=typeof n;if(r===`string`||r===`number`||r===`boolean`){this.eGui=ii(`<span>`+n+`</span>`);return}if(n==null){this.eGui=Ef({tag:`span`});return}this.eGui=n}}return n}}]},Bv=class extends Ad{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get(`components`);if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){let e=(e,t,n,r)=>{this.agGridDefaults[e]=t,(n||r)&&(this.agGridDefaultOverrides[e]={params:n,processParams:r})};for(let t of Object.keys(n)){let r=n[t];if(el(r)&&(r=r.getComp(this.beans)),typeof r==`object`){let{classImp:n,params:i,processParams:a}=r;e(t,n,i,a)}else e(t,r)}}this.registerDynamicBeans(r);for(let e of i??[])this.selectors[e.selector]=e;if(t)for(let e of Object.keys(t))this.icons[e]=t[e]}getUserComponent(e,t){let n=(e,t,n,r)=>({componentFromFramework:t,component:e,params:n,processParams:r}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get(`components`));if(i!=null)return n(i,!0);let a=this.jsComps[t];if(a)return n(a,r.isFrameworkComponent(a));let o=this.agGridDefaults[t];if(o){let e=this.agGridDefaultOverrides[t];return n(o,!1,e?.params,e?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?Ka(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??Ka(256)}},Vv=23,Hv=class extends L{constructor(){super(...arguments),this.beanName=`ctrlsSvc`,this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener(`ready`,()=>{if(this.updateReady(),this.ready){for(let e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===Vv&&e.every(e=>e?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let e=this.readyCallbacks.indexOf(t);e>=0&&this.readyCallbacks.splice(e,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:`ready`}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case`left`:return t.leftHeader;case`right`:return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Uv=`.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-drag-handle-disabled{opacity:.35;pointer-events:none}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-row-drag-indicator-color);border-radius:calc(var(--ag-row-drag-indicator-width)/2);content:"";height:var(--ag-row-drag-indicator-width);pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label,:where(.ag-header-group-cell-selectable) .ag-header-cell-comp-wrapper{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-column-drag-indicator-color);border-radius:calc(var(--ag-column-drag-indicator-width)/2);content:"";height:100%;position:absolute;top:0;width:var(--ag-column-drag-indicator-width)}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}:where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}}:where(.ag-ltr) :where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){&:after{right:-1px}}:where(.ag-rtl) :where(.ag-filter-active,.ag-filter-toolpanel-group-instance-header-icon,.ag-filter-toolpanel-instance-header-icon){&:after{left:-1px}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}`,Wv={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:`rowBorder`},columnBorder:{style:`solid`,width:1,color:`transparent`},headerColumnBorder:!1,headerColumnBorderHeight:`100%`,pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:`chromeBackgroundColor`},sideButtonBarBackgroundColor:{ref:`sideBarBackgroundColor`},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:`transparent`,sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:`transparent`,sideButtonTextColor:{ref:`textColor`},sideButtonHoverBackgroundColor:{ref:`sideButtonBackgroundColor`},sideButtonHoverTextColor:{ref:`sideButtonTextColor`},sideButtonSelectedBackgroundColor:Yu,sideButtonSelectedTextColor:{ref:`sideButtonTextColor`},sideButtonBorder:`solid 1px transparent`,sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:`spacing`},sideButtonRightPadding:{ref:`spacing`},sideButtonVerticalPadding:{calc:`spacing * 3`},headerBackgroundColor:{ref:`chromeBackgroundColor`},headerFontFamily:{ref:`fontFamily`},cellFontFamily:{ref:`fontFamily`},headerFontWeight:500,headerFontSize:{ref:`fontSize`},dataFontSize:{ref:`fontSize`},headerTextColor:{ref:`textColor`},headerCellHoverBackgroundColor:`transparent`,headerCellMovingBackgroundColor:{ref:`headerCellHoverBackgroundColor`},headerCellBackgroundTransitionDuration:`0.2s`,cellTextColor:{ref:`textColor`},rangeSelectionBorderStyle:`solid`,rangeSelectionBorderColor:Zu,rangeSelectionBackgroundColor:X(.2),rangeSelectionChartBackgroundColor:`#0058FF1A`,rangeSelectionChartCategoryBackgroundColor:`#00FF841A`,rangeSelectionHighlightColor:X(.5),rangeHeaderHighlightColor:Ju(.08),rowNumbersSelectedColor:X(.5),rowHoverColor:X(.08),columnHoverColor:X(.05),selectedRowBackgroundColor:X(.12),modalOverlayBackgroundColor:{ref:`backgroundColor`,mix:.66},dataBackgroundColor:Yu,oddRowBackgroundColor:{ref:`dataBackgroundColor`},wrapperBorderRadius:8,cellHorizontalPadding:{calc:`spacing * 2 * cellHorizontalPaddingScale`},cellWidgetSpacing:{calc:`spacing * 1.5`},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:`cellWidgetSpacing + iconSize`},valueChangeDeltaUpColor:`#43a047`,valueChangeDeltaDownColor:`#e53935`,valueChangeValueHighlightBackgroundColor:`#16a08580`,rowHeight:{calc:`max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale`},rowVerticalPaddingScale:1,headerHeight:{calc:`max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale`},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:`rowHeight`,calc:`max(rowHeight, 22px)`},dragHandleColor:Ku(.7),headerColumnResizeHandleHeight:`30%`,headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:`borderColor`},widgetContainerHorizontalPadding:{calc:`spacing * 1.5`},widgetContainerVerticalPadding:{calc:`spacing * 1.5`},widgetHorizontalSpacing:{calc:`spacing * 1.5`},widgetVerticalSpacing:{ref:`spacing`},iconButtonColor:{ref:`iconColor`},iconButtonBackgroundColor:`transparent`,iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:`iconButtonColor`},iconButtonHoverBackgroundColor:Ku(.1),iconButtonActiveColor:Zu,iconButtonActiveBackgroundColor:X(.28),iconButtonActiveIndicatorColor:Zu,menuBorder:{color:Ku(.2)},menuBackgroundColor:qu(.03),menuTextColor:qu(.95),menuShadow:{ref:`popupShadow`},menuSeparatorColor:{ref:`borderColor`},setFilterIndentSize:{ref:`iconSize`},chartMenuPanelWidth:260,chartMenuLabelColor:Ku(.8),dialogShadow:{ref:`popupShadow`},cellEditingBorder:{color:Zu},cellEditingShadow:{ref:`cardShadow`},fullRowEditInvalidBackgroundColor:{ref:`invalidColor`,onto:`backgroundColor`,mix:.25},dialogBorder:{color:Ku(.2)},panelBackgroundColor:Yu,panelTitleBarHeight:{ref:`headerHeight`},panelTitleBarBackgroundColor:{ref:`headerBackgroundColor`},panelTitleBarIconColor:{ref:`headerTextColor`},panelTitleBarTextColor:{ref:`headerTextColor`},panelTitleBarFontWeight:{ref:`headerFontWeight`},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:`iconSize`},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:Ku(.07),columnDropCellTextColor:{ref:`textColor`},columnDropCellDragHandleColor:{ref:`textColor`},columnDropCellBorder:{color:Ku(.13)},selectCellBackgroundColor:Ku(.07),selectCellBorder:{color:Ku(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:`spacing * 2 + iconSize`},advancedFilterBuilderJoinPillColor:`#f08e8d`,advancedFilterBuilderColumnPillColor:`#a6e194`,advancedFilterBuilderOptionPillColor:`#f3c08b`,advancedFilterBuilderValuePillColor:`#85c0e4`,filterPanelApplyButtonColor:Yu,filterPanelApplyButtonBackgroundColor:Zu,filterPanelCardSubtleColor:{ref:`textColor`,mix:.7},filterPanelCardSubtleHoverColor:{ref:`textColor`},findMatchColor:Xu,findMatchBackgroundColor:`#ffff00`,findActiveMatchColor:Xu,findActiveMatchBackgroundColor:`#ffa500`,filterToolPanelGroupIndent:{ref:`spacing`},rowLoadingSkeletonEffectColor:Ku(.15),statusBarLabelColor:Xu,statusBarLabelFontWeight:500,statusBarValueColor:Xu,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:`textColor`},pinnedSourceRowBackgroundColor:{ref:`dataBackgroundColor`},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:`dataBackgroundColor`},pinnedRowTextColor:{ref:`textColor`},rowDragIndicatorColor:{ref:`rangeSelectionBorderColor`},rowDragIndicatorWidth:2,columnDragIndicatorColor:{ref:`accentColor`},columnDragIndicatorWidth:2},Gv=`.ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}`,Kv={cellBatchEditBackgroundColor:`rgba(220 181 139 / 16%)`,cellBatchEditTextColor:`#422f00`,rowBatchEditBackgroundColor:{ref:`cellBatchEditBackgroundColor`},rowBatchEditTextColor:{ref:`cellBatchEditTextColor`}},qv={...Kv,cellBatchEditTextColor:`#f3d0b3`},Jv=(()=>Lu({feature:`batchEditStyle`,params:Kv,css:Gv}))(),Yv=`:where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}`,Xv={buttonTextColor:`inherit`,buttonFontWeight:`normal`,buttonBackgroundColor:`transparent`,buttonBorder:!1,buttonBorderRadius:{ref:`borderRadius`},buttonHorizontalPadding:{calc:`spacing * 2`},buttonVerticalPadding:{ref:`spacing`},buttonHoverTextColor:{ref:`buttonTextColor`},buttonHoverBackgroundColor:{ref:`buttonBackgroundColor`},buttonHoverBorder:{ref:`buttonBorder`},buttonActiveTextColor:{ref:`buttonHoverTextColor`},buttonActiveBackgroundColor:{ref:`buttonHoverBackgroundColor`},buttonActiveBorder:{ref:`buttonHoverBorder`},buttonDisabledTextColor:{ref:`inputDisabledTextColor`},buttonDisabledBackgroundColor:{ref:`inputDisabledBackgroundColor`},buttonDisabledBorder:{ref:`inputDisabledBorder`}},Zv=(()=>Lu({feature:`buttonStyle`,params:{...Xv,buttonBackgroundColor:Yu,buttonBorder:!0,buttonHoverBackgroundColor:{ref:`rowHoverColor`},buttonActiveBorder:{color:Zu}},css:Yv}))(),Qv=`.ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}`,$v=(()=>Lu({feature:`columnDropStyle`,css:Qv}))(),ey={warn:(...e)=>{z(e[0],e[1])},error:(...e)=>{B(e[0],e[1])},preInitErr:(...e)=>{Wa(e[0],e[2],e[1])}},ty=()=>gd(ey).withParams(Wv).withPart(Zv).withPart($v).withPart(Jv),ny=`.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}`,ry=(()=>Lu({feature:`checkboxStyle`,params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:`borderRadius`},checkboxUncheckedBackgroundColor:Yu,checkboxUncheckedBorderColor:qu(.3),checkboxCheckedBackgroundColor:Zu,checkboxCheckedBorderColor:{ref:`checkboxCheckedBackgroundColor`},checkboxCheckedShapeImage:{svg:`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>`},checkboxCheckedShapeColor:Yu,checkboxIndeterminateBackgroundColor:qu(.3),checkboxIndeterminateBorderColor:{ref:`checkboxIndeterminateBackgroundColor`},checkboxIndeterminateShapeImage:{svg:`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>`},checkboxIndeterminateShapeColor:Yu,radioCheckedShapeImage:{svg:`<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>`}},css:ny}))(),iy=()=>({...Qu,...qv,backgroundColor:`hsl(217, 0%, 17%)`,foregroundColor:`#FFF`,chromeBackgroundColor:qu(.05),rowHoverColor:X(.15),selectedRowBackgroundColor:X(.2),menuBackgroundColor:qu(.1),browserColorScheme:`dark`,popupShadow:`0 0px 20px #000A`,cardShadow:`0 1px 4px 1px #000A`,advancedFilterBuilderJoinPillColor:`#7a3a37`,advancedFilterBuilderColumnPillColor:`#355f2d`,advancedFilterBuilderOptionPillColor:`#5a3168`,advancedFilterBuilderValuePillColor:`#374c86`,filterPanelApplyButtonColor:Xu,findMatchColor:Yu,findActiveMatchColor:Yu,checkboxUncheckedBorderColor:qu(.4),toggleButtonOffBackgroundColor:qu(.4),rowBatchEditBackgroundColor:qu(.1)}),ay=()=>({...iy(),backgroundColor:`#1f2836`}),oy=(()=>Lu({feature:`colorScheme`,params:Qu,modeParams:{light:Qu,dark:iy(),"dark-blue":ay()}}))(),sy={aggregation:`<path d="M18 7V4H6l6 8-6 8h12v-3"/>`,arrows:`<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>`,asc:`<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>`,cancel:`<path d="m18 6-12 12"/><path d="m6 6 12 12"/>`,chart:`<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>`,"color-picker":`<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>`,columns:`<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>`,contracted:`<path d="m9 18 6-6-6-6"/>`,copy:`<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>`,cross:`<path d="M18 6 6 18"/><path d="m6 6 12 12"/>`,csv:`<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>`,cut:`<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>`,desc:`<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>`,down:`<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>`,excel:`<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>`,expanded:`<path d="m15 18-6-6 6-6"/>`,eye:`<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>`,"eye-slash":`<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>`,filter:`<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>`,first:`<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>`,grip:`<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>`,group:`<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>`,last:`<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>`,left:`<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>`,linked:`<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>`,loading:`<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>`,maximize:`<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>`,menu:`<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>`,"menu-alt":`<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>`,minimize:`<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>`,minus:`<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>`,next:`<path d="m9 18 6-6-6-6"/>`,none:`<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>`,"not-allowed":`<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>`,paste:`<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>`,pin:`<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>`,pivot:`<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>`,plus:`<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>`,previous:`<path d="m15 18-6-6 6-6"/>`,right:`<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>`,save:`<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>`,settings:`<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>`,"small-left":`<path d="m15 18-6-6 6-6"/>`,"small-right":`<path d="m9 18 6-6-6-6"/>`,tick:`<path d="M20 6 9 17l-5-5"/>`,"tree-closed":`<path d="m9 18 6-6-6-6"/>`,"tree-indeterminate":`<path d="M5 12h14"/>`,"tree-open":`<path d="m6 9 6 6 6-6"/>`,unlinked:`<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>`,up:`<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>`},cy={aasc:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2012 8.07928C13.6346 8.0793 14.0128 8.15365 14.3359 8.30193C14.6609 8.45018 14.9141 8.65595 15.0947 8.9201C15.2754 9.18439 15.3683 9.49109 15.374 9.83904H14.1904C14.1676 9.60898 14.0695 9.4303 13.8965 9.30291C13.7235 9.1756 13.4889 9.1115 13.1924 9.1115C12.9909 9.1115 12.8204 9.1404 12.6816 9.19744C12.543 9.25255 12.4364 9.32917 12.3623 9.42791C12.2901 9.52678 12.2539 9.63933 12.2539 9.76482C12.2501 9.8692 12.272 9.9604 12.3193 10.0383C12.3688 10.1162 12.4369 10.1843 12.5225 10.2414C12.6079 10.2964 12.7064 10.3451 12.8184 10.3869C12.9304 10.4268 13.0505 10.4609 13.1777 10.4894L13.7031 10.6144C13.9578 10.6715 14.1914 10.7479 14.4043 10.8429C14.6173 10.938 14.8021 11.0547 14.958 11.1935C15.1138 11.3323 15.2348 11.4957 15.3203 11.6838C15.4077 11.8719 15.4522 12.088 15.4541 12.3312C15.4522 12.6885 15.3611 12.9986 15.1807 13.2609C15.0019 13.5214 14.7427 13.7248 14.4043 13.8693C14.0678 14.0118 13.6617 14.0832 13.1865 14.0832C12.7153 14.0832 12.3048 14.0107 11.9551 13.8664C11.6071 13.7219 11.3345 13.5071 11.1387 13.2238C10.9449 12.9387 10.8435 12.5862 10.834 12.1662H12.0283C12.0416 12.362 12.0984 12.5252 12.1973 12.6564C12.298 12.7857 12.4323 12.8838 12.5996 12.9504C12.7688 13.0149 12.96 13.047 13.1729 13.047C13.3817 13.047 13.563 13.0169 13.7168 12.9562C13.8727 12.8954 13.9935 12.8106 14.0791 12.7023C14.1647 12.5939 14.208 12.469 14.208 12.3283C14.2079 12.1974 14.1686 12.0875 14.0908 11.9982C14.0148 11.9089 13.9022 11.8324 13.7539 11.7697C13.6076 11.707 13.4276 11.6501 13.2148 11.5988L12.5791 11.4387C12.0869 11.3189 11.6982 11.1318 11.4131 10.8771C11.128 10.6224 10.9855 10.2793 10.9873 9.84783C10.9854 9.49418 11.0804 9.18439 11.2705 8.9201C11.4625 8.65603 11.7261 8.45015 12.0605 8.30193C12.3951 8.15369 12.7754 8.07928 13.2012 8.07928Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 14.0002H4.48926L4.05664 12.6681H1.94824L1.51465 14.0002H0.19043L2.20703 8.15935H3.79883L5.8125 14.0002ZM2.26172 11.7043H3.74316L3.02539 9.49334H2.98047L2.26172 11.7043Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 8.15935C8.88165 8.15935 9.24031 8.22251 9.52734 8.34978C9.81445 8.47717 10.0303 8.65477 10.1748 8.88103C10.3192 9.10536 10.3916 9.36368 10.3916 9.65642C10.3916 9.88452 10.3461 10.085 10.2549 10.258C10.1637 10.4289 10.0384 10.5696 9.87891 10.6799C9.72117 10.7882 9.54024 10.8657 9.33691 10.9113V10.9679C9.55917 10.9775 9.76716 11.0406 9.96094 11.1564C10.1568 11.2724 10.3158 11.4356 10.4375 11.6447C10.5591 11.8519 10.6201 12.099 10.6201 12.3859C10.6201 12.6958 10.5427 12.9727 10.3887 13.216C10.2366 13.4573 10.0113 13.6486 9.71289 13.7892C9.41443 13.9299 9.04655 14.0002 8.60938 14.0002H6.11426V8.15935H8.45215ZM7.34863 12.9904H8.35547C8.69943 12.9904 8.95057 12.9252 9.1084 12.7941C9.26621 12.661 9.34473 12.4834 9.34473 12.2629C9.34468 12.1014 9.30643 11.9587 9.22852 11.8351C9.15056 11.7116 9.03903 11.6145 8.89453 11.5441C8.75195 11.4738 8.58148 11.4387 8.38379 11.4387H7.34863V12.9904ZM7.34863 10.6037H8.26465C8.43369 10.6036 8.58376 10.5737 8.71484 10.5148C8.84793 10.454 8.95227 10.3683 9.02832 10.258C9.10628 10.1477 9.14551 10.0155 9.14551 9.8615C9.14546 9.65055 9.07008 9.48001 8.91992 9.35076C8.77165 9.22169 8.56064 9.15741 8.28711 9.1574H7.34863V10.6037Z" fill="black"/><path d="M7.16602 0.377127C7.44584 0.189493 7.82551 0.20905 8.08496 0.442557L11.418 3.44256C11.7257 3.71966 11.7507 4.19428 11.4736 4.50213C11.1966 4.80961 10.7228 4.83441 10.415 4.55779L7.60938 2.03338L5.11328 4.53045C4.82042 4.82326 4.34562 4.82322 4.05273 4.53045C3.75986 4.23757 3.75989 3.7628 4.05273 3.4699L7.05273 0.4699L7.16602 0.377127Z" fill="black"/></svg>`,adesc:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.3867 11.4697C10.6796 11.1771 11.1544 11.1769 11.4473 11.4697C11.7399 11.7626 11.7399 12.2374 11.4473 12.5303L8.44727 15.5303L8.33398 15.623C8.05425 15.8106 7.67449 15.7909 7.41504 15.5576L4.08203 12.5576C3.77415 12.2805 3.74927 11.8059 4.02637 11.498C4.30342 11.1907 4.77722 11.1657 5.08496 11.4424L7.89062 13.9668L10.3867 11.4697Z" fill="black"/><path d="M13.2012 3.0791C13.6346 3.07912 14.0128 3.1535 14.3359 3.30176C14.6611 3.45006 14.9141 3.65661 15.0947 3.9209C15.2752 4.18513 15.3683 4.49104 15.374 4.83887H14.1904C14.1676 4.60882 14.0695 4.43012 13.8965 4.30273C13.7235 4.17546 13.4889 4.11133 13.1924 4.11133C12.9909 4.11133 12.8204 4.14023 12.6816 4.19727C12.5431 4.25236 12.4364 4.32902 12.3623 4.42773C12.2901 4.52659 12.2539 4.63919 12.2539 4.76465C12.2501 4.86901 12.272 4.96023 12.3193 5.03809C12.3688 5.11604 12.4369 5.18417 12.5225 5.24121C12.6079 5.29623 12.7064 5.34496 12.8184 5.38672C12.9304 5.42661 13.0505 5.46075 13.1777 5.48926L13.7031 5.61426C13.9578 5.67128 14.1914 5.74776 14.4043 5.84277C14.6172 5.93784 14.8021 6.05457 14.958 6.19336C15.1139 6.33216 15.2348 6.49633 15.3203 6.68457C15.4076 6.8727 15.4522 7.08885 15.4541 7.33203C15.4521 7.68929 15.3612 7.99944 15.1807 8.26172C15.0019 8.52216 14.7427 8.72465 14.4043 8.86914C14.0678 9.01165 13.6617 9.08301 13.1865 9.08301C12.7153 9.08299 12.3048 9.01057 11.9551 8.86621C11.6072 8.72173 11.3345 8.50786 11.1387 8.22461C10.9447 7.9394 10.8435 7.58622 10.834 7.16602H12.0283C12.0416 7.36176 12.0985 7.52509 12.1973 7.65625C12.298 7.78554 12.4323 7.88365 12.5996 7.9502C12.7688 8.01477 12.96 8.04785 13.1729 8.04785C13.3817 8.04781 13.5629 8.01678 13.7168 7.95605C13.8727 7.89522 13.9935 7.81051 14.0791 7.70215C14.1646 7.59387 14.2079 7.46965 14.208 7.3291C14.208 7.19796 14.1687 7.08739 14.0908 6.99805C14.0148 6.90868 13.9022 6.83228 13.7539 6.76953C13.6076 6.70685 13.4276 6.64993 13.2148 6.59863L12.5791 6.43848C12.0868 6.31871 11.6982 6.13163 11.4131 5.87695C11.1279 5.62221 10.9855 5.27916 10.9873 4.84766C10.9854 4.49404 11.0804 4.18517 11.2705 3.9209C11.4625 3.65661 11.7259 3.45006 12.0605 3.30176C12.3951 3.15353 12.7754 3.0791 13.2012 3.0791Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 9H4.48926L4.05664 7.66797H1.94824L1.51465 9H0.19043L2.20703 3.15918H3.79883L5.8125 9ZM2.26172 6.7041H3.74316L3.02539 4.49414H2.98047L2.26172 6.7041Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 3.15918C8.88181 3.15918 9.24025 3.22322 9.52734 3.35059C9.81445 3.47798 10.0303 3.6546 10.1748 3.88086C10.3193 4.10518 10.3916 4.36351 10.3916 4.65625C10.3916 4.88432 10.3461 5.08484 10.2549 5.25781C10.1636 5.4289 10.0386 5.57039 9.87891 5.68066C9.72118 5.78898 9.54022 5.86549 9.33691 5.91113V5.96875C9.55913 5.9783 9.76719 6.04044 9.96094 6.15625C10.1568 6.27223 10.3158 6.43538 10.4375 6.64453C10.5591 6.85173 10.6201 7.09875 10.6201 7.38574C10.6201 7.69567 10.5427 7.97245 10.3887 8.21582C10.2366 8.45719 10.0113 8.64841 9.71289 8.78906C9.41442 8.9297 9.04658 8.99999 8.60938 9H6.11426V3.15918H8.45215ZM7.34863 7.99023H8.35547C8.69948 7.99023 8.95057 7.92504 9.1084 7.79395C9.26621 7.66085 9.34473 7.48325 9.34473 7.2627C9.34466 7.10125 9.3064 6.95844 9.22852 6.83496C9.15056 6.71143 9.03899 6.61427 8.89453 6.54395C8.75196 6.47365 8.58145 6.43848 8.38379 6.43848H7.34863V7.99023ZM7.34863 5.60352H8.26465C8.43369 5.60347 8.58376 5.57354 8.71484 5.51465C8.84791 5.45381 8.95228 5.36807 9.02832 5.25781C9.10623 5.14755 9.14551 5.01529 9.14551 4.86133C9.14542 4.65046 9.07002 4.48078 8.91992 4.35156C8.77163 4.22228 8.56087 4.15724 8.28711 4.15723H7.34863V5.60352Z" fill="black"/></svg>`,"chevron-down":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"chevron-left":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"chevron-right":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"chevron-up":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`,"column-arrow":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>`,edit:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>`,"filter-add":`<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>`,"pinned-bottom":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>`,"pinned-top":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>`,"small-down":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>`,"small-up":`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>`,"un-pin":`<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>`},ly=(e={})=>{let t=``;for(let n of[...Object.keys(sy),...Object.keys(cy)]){let r=uy(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},uy=(e,t=1.5)=>{let n=cy[e];if(n)return n;let r=sy[e];if(!r)throw Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+`</svg>`},dy=((e={})=>Lu({feature:`iconSet`,css:()=>ly(e)}))(),fy=`:where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select,.ag-floating-filter-search-icon){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}`,py=`.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}`,my={inputBackgroundColor:`transparent`,inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:`textColor`},inputPlaceholderTextColor:{ref:`inputTextColor`,mix:.5},inputPaddingStart:0,inputHeight:{calc:`max(iconSize, fontSize) + spacing * 2`},inputFocusBackgroundColor:{ref:`inputBackgroundColor`},inputFocusBorder:{ref:`inputBorder`},inputFocusShadow:`none`,inputFocusTextColor:{ref:`inputTextColor`},inputDisabledBackgroundColor:{ref:`inputBackgroundColor`},inputDisabledBorder:{ref:`inputBorder`},inputDisabledTextColor:{ref:`inputTextColor`},inputInvalidBackgroundColor:{ref:`inputBackgroundColor`},inputInvalidBorder:{ref:`inputBorder`},inputInvalidTextColor:{ref:`inputTextColor`},inputIconColor:{ref:`inputTextColor`},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:`inputFocusBorder`},pickerButtonBackgroundColor:{ref:`backgroundColor`},pickerButtonFocusBackgroundColor:{ref:`backgroundColor`},pickerListBorder:!1,pickerListBackgroundColor:{ref:`backgroundColor`},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},hy=(()=>Lu({feature:`inputStyle`,params:{...my,inputBackgroundColor:Yu,inputBorder:!0,inputBorderRadius:{ref:`borderRadius`},inputPaddingStart:{ref:`spacing`},inputFocusBorder:{color:Zu},inputFocusShadow:{ref:`focusShadow`},inputDisabledBackgroundColor:qu(.06),inputDisabledTextColor:{ref:`textColor`,mix:.5},inputInvalidBorder:{color:{ref:`invalidColor`}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>fy+py}))(),gy=`.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}`,_y={tabBarBackgroundColor:`transparent`,tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:`transparent`,tabTextColor:{ref:`textColor`},tabHorizontalPadding:{ref:`spacing`},tabTopPadding:{ref:`spacing`},tabBottomPadding:{ref:`spacing`},tabSpacing:`0`,tabHoverBackgroundColor:{ref:`tabBackgroundColor`},tabHoverTextColor:{ref:`tabTextColor`},tabSelectedBackgroundColor:{ref:`tabBackgroundColor`},tabSelectedTextColor:{ref:`tabTextColor`},tabSelectedBorderWidth:{ref:`borderWidth`},tabSelectedBorderColor:`transparent`,tabSelectedUnderlineColor:`transparent`,tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},vy=(()=>Lu({feature:`tabStyle`,params:{..._y,tabBarBorder:!0,tabBarBackgroundColor:Ku(.05),tabTextColor:{ref:`textColor`,mix:.7},tabSelectedTextColor:{ref:`textColor`},tabHoverTextColor:{ref:`textColor`},tabSelectedBorderColor:{ref:`borderColor`},tabSelectedBackgroundColor:Yu},css:gy}))(),yy=(()=>ty().withPart(ry).withPart(oy).withPart(dy).withPart(vy).withPart(hy).withPart($v).withParams({fontFamily:[{googleFont:`IBM Plex Sans`},`-apple-system`,`BlinkMacSystemFont`,`Segoe UI`,`Roboto`,`Oxygen-Sans`,`Ubuntu`]}))(),by={cssName:`--ag-cell-horizontal-padding`,changeKey:`cellHorizontalPaddingChanged`,defaultValue:16},xy={cssName:`--ag-indentation-level`,changeKey:`indentationLevelChanged`,defaultValue:0,noWarn:!0,cacheDefault:!0},Sy={cssName:`--ag-row-group-indent-size`,changeKey:`rowGroupIndentSizeChanged`,defaultValue:0},Cy={cssName:`--ag-row-height`,changeKey:`rowHeightChanged`,defaultValue:42},wy={cssName:`--ag-header-height`,changeKey:`headerHeightChanged`,defaultValue:48},Ty={cssName:`--ag-row-border`,changeKey:`rowBorderWidthChanged`,defaultValue:1,border:!0},Ey={cssName:`--ag-pinned-row-border`,changeKey:`pinnedRowBorderWidthChanged`,defaultValue:1,border:!0};function Dy(e,t){for(let n of t.sort((e,t)=>e.moduleName.localeCompare(t.moduleName))){let t=n.css;t&&e.set(`module-${n.moduleName}`,t)}}var Oy=class extends Dd{initVariables(){this.addManagedPropertyListener(`rowHeight`,()=>this.refreshRowHeightVariable()),this.getSizeEl(Cy),this.getSizeEl(wy),this.getSizeEl(Ty),this.getSizeEl(Ey),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(Ey)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Ty)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Cy)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(wy)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(by)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(xy),n=this.getCSSVariablePixelValue(Sy);return e-1+n*t}getCellPadding(){let e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}refreshRowHeightVariable(){let{eRootDiv:e}=this,t=e.style.getPropertyValue(`--ag-line-height`).trim(),n=this.gos.get(`rowHeight`);if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty(`--ag-line-height`,null),-1;let r=`${n}px`;return t==r?t==``?-1:Number.parseFloat(t):(e.style.setProperty(`--ag-line-height`,r),n)}fireStylesChangedEvent(e){e===`rowBorderWidthChanged`&&this.refreshRowBorderWidthVariable(),super.fireStylesChangedEvent(e)}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(Ty);this.eRootDiv.style.setProperty(`--ag-internal-row-border-width`,`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue(`--ag-legacy-styles-loaded`)&&B(t?106:239)}getAdditionalCss(){let e=new Map;return e.set(`core`,[Uv]),Dy(e,Array.from(Ca())),e}getDefaultTheme(){return yy}varError(e){z(9,{variable:e})}themeError(e){B(240,{theme:e})}shadowRootError(){B(293)}},ky=class extends jd{postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function Ay(e,t,n){let r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();let a=t.isSpanHeaderHeight();return!i||a&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var jy=class extends L{constructor(){super(...arguments),this.beanName=`headerNavigation`,this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl});let t=rr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n,{colModel:r,colGroupSvc:i,ctrlsSvc:a}=this.beans;if(typeof e==`string`?(n=r.getCol(e),n||=i?.getColumnGroup(e)??null):n=e,!n)return null;let o=a.getHeaderRowContainerCtrl()?.getAllCtrls(),s=U(o||[]).type===`filter`,c=jm(this.beans)-1,l=-1,u=n;for(;u;)l++,u=u.getParent();let d=l;return t&&s&&d===c-1&&d++,d===-1?null:{headerRowIndex:d,column:n}}navigateVertically(e,t){let{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;let{headerRowIndex:a}=i,o=i.column,s=jm(this.beans),c=this.getHeaderRowType(a),l=r.headerGroupRowCount,{headerRowIndex:u,column:d,headerRowIndexWithoutSpan:f}=e===`UP`?My(c,o,a):Ny(o,a,l),p=!1;return u<0&&(u=0,d=o,p=!0),u>=s?(u=-1,this.currentHeaderRowWithoutSpan=-1):f!==void 0&&(this.currentHeaderRowWithoutSpan=f),!p&&!d?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){let{focusSvc:r,gos:i}=this.beans,a={...r.focusedHeader},o,s;this.currentHeaderRowWithoutSpan===-1?this.currentHeaderRowWithoutSpan=a.headerRowIndex:a.headerRowIndex=this.currentHeaderRowWithoutSpan,e===`LEFT`===i.get(`enableRtl`)?(s=`After`,o=this.findHeader(a,s)):(s=`Before`,o=this.findHeader(a,s));let c=i.getCallback(`tabToNextHeader`);if(t&&c){let e=r.focusHeaderPositionFromUserFunc({userFunc:c,headerPosition:o,direction:s});if(e){let{headerRowIndex:e}=r.focusedHeader||{};e!=null&&e!=a.headerRowIndex&&(this.currentHeaderRowWithoutSpan=e)}return e}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:s,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(a,s,n)}focusNextHeaderRow(e,t,n){let r=this.beans,i=e.headerRowIndex,a=null,o,s=jm(r),c=this.beans.visibleCols.allCols;if(t===`Before`){if(i<=0)return!1;a=U(c),o=i-1,--this.currentHeaderRowWithoutSpan}else a=c[0],o=i+1,this.currentHeaderRowWithoutSpan<s?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:l,headerRowIndex:u}=Ay(this.beans,a,o);return u>=s&&(u=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t=`After`){if(e.getPinned())return;let n;if(Q(e)){let r=e.getDisplayedLeafColumns();n=t===`Before`?U(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let{colGroupSvc:n,visibleCols:r}=this.beans,i=e.column;if(i instanceof uf){let e=i.getDisplayedLeafColumns();i=t===`Before`?e[0]:e[e.length-1]}let a=t===`Before`?r.getColBefore(i):r.getColAfter(i);if(!a)return;let o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:a};let s=n?.getColGroupAtLevel(a,e.headerRowIndex);return s?s.isPadding()&&a.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:a}:{headerRowIndex:e.headerRowIndex,column:s??a}:{headerRowIndex:a instanceof Xo&&a.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:a}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function My(e,t,n){let r=n-1;if(e!==`filter`){let e=t instanceof Xo&&t.isSpanHeaderHeight(),n=t.getParent();for(;n&&(n.getProvidedColumnGroup().getLevel()>r||e&&n.isPadding());)n=n.getParent();if(n)return e?{column:n,headerRowIndex:n.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:n,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function Ny(e,t,n){let r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof uf){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let t=e.getDisplayedChildren()[0];if(t instanceof uf&&t.isPadding()){let e=t.getDisplayedLeafColumns()[0];e.isSpanHeaderHeight()&&(t=e)}i.column=t,t instanceof Xo&&t.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var Py=class extends L{constructor(){super(...arguments),this.beanName=`focusSvc`,this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Al(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get(`suppressFocusAfterRefresh`)?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column;e!==this.colModel.getCol(e.getId())&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){let{gos:e,focusedCell:t}=this;return e.get(`suppressFocusAfterRefresh`)||e.get(`suppressCellFocus`)||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get(`suppressFocusAfterRefresh`)||!this.focusedHeader||!this.isDomDataPresentInHierarchy(nr(this.beans),Wm)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=nr(this.beans);return this.isDomDataPresentInHierarchy(e,gp)?!0:this.isDomDataPresentInHierarchy(e,vp)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(ao(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return a&&(i.isFullWidthCell=a.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:`cellFocusCleared`,...e})}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:a=!1,sourceEvent:o}=e,s=this.colModel.getCol(t);if(!s){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Gn(r),column:s};let c=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:`cellFocused`,...c,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:a,sourceEvent:o}),this.previousCellFocusParams=c}isCellFocused(e){return this.focusedCell==null?!1:pm(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:a}=this.focusedHeader;return t===i&&n===a&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Dm(this.beans))return!1;let{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:a,rowWithoutSpanValue:o,scroll:s=!0}=e,{headerPosition:c}=e;if(a&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(c);if(r){let e=this.focusedHeader,r=jm(this.beans);if(n){let n=this.gos.getCallback(`tabToNextHeader`);n&&(c=this.getHeaderPositionFromUserFunc({userFunc:n,direction:t,currentPosition:e,headerPosition:c,headerRowCount:r}))}else{let t=this.gos.getCallback(`navigateToNextHeader`);t&&i&&(c=t({key:i.key,previousHeaderPosition:e,nextHeaderPosition:c,headerRowCount:r,event:i}))}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:t,event:i,fromCell:a,rowWithoutSpanValue:o,scroll:s}):!1}focusHeaderPositionFromUserFunc(e){if(Dm(this.beans))return!1;let{userFunc:t,headerPosition:n,direction:r,event:i}=e,a=this.focusedHeader,o=jm(this.beans),s=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:a,headerPosition:n,headerRowCount:o});return!!s&&this.focusProvidedHeaderPosition({headerPosition:s,direction:r,event:i})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:a}=e,o=t({backwards:n===`Before`,previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:a});return o===!0?r:o===!1?null:o}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:a,scroll:o=!0}=e,{column:s,headerRowIndex:c}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:d}=this.beans;if(this.focusedHeader&&Bm(e.headerPosition,this.focusedHeader))return!1;if(c===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:a});o&&d?.scrollToColumn(s,n);let f=u.getHeaderRowContainerCtrl(s.getPinned())?.focusHeader(t.headerRowIndex,s,a)||!1;return d&&f&&(i!=null||r)&&(d.currentHeaderRowWithoutSpan=i??-1),f}focusFirstHeader(){if(this.overlays?.exclusive&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let t=Ay(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.exclusive&&this.focusOverlay(!0))return!0;let t=jm(this.beans)-1,n=U(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Gn(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Nl(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.exclusive)return n&&this.focusOverlay(t);if(Om(this.beans))return t&&!Dm(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:km(this.beans,t);let i=t?_m(this.beans):gm(this.beans);if(i){let n=e.column??this.focusedHeader?.column,{rowIndex:a,rowPinned:o}=i,s=vm(this.beans,i);if(!n||!s||a==null)return!1;if(n.isSuppressNavigable(s)){let e=this.gos.get(`enableRtl`),t;return t=!r||r.key===G.TAB?e?G.LEFT:G.RIGHT:r.key,this.beans.navigation?.navigateToNextCell(null,t,{rowIndex:a,column:n,rowPinned:o||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:a,column:n,rowPinned:o}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)?!0:(this.setFocusedCell({rowIndex:a,column:n,rowPinned:Gn(o),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:a,rowPinned:o,column:n}),!0)}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:jm(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Fy=class extends L{constructor(){super(...arguments),this.beanName=`scrollVisibleSvc`}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get(`alwaysShowHorizontalScroll`)===!0,this.verticalScrollShowing=this.gos.get(`alwaysShowVerticalScroll`)===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get(`center`);if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get(`center`),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:`scrollGapChanged`}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:`scrollVisibilityChanged`}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get(`scrollbarWidth`),t=typeof e==`number`&&e>=0?e:Sl();t!=null&&(this.scrollbarWidth=t,this.eventSvc.dispatchEvent({type:`scrollbarWidthChanged`}))}return this.scrollbarWidth}},Iy=class extends L{constructor(){super(...arguments),this.beanName=`gridDestroySvc`,this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:`gridPreDestroyed`,state:e?.getState()??{}}),this.destroyCalled=!0,t.get(`gridCtrl`)?.destroyGridUi(),n.destroy(),super.destroy()}},Ly=new Set([`gridPreDestroyed`,`fillStart`,`pasteStart`]),Ry=`columnEverythingChanged.newColumnsLoaded.columnPivotModeChanged.pivotMaxColumnsExceeded.columnRowGroupChanged.expandOrCollapseAll.columnPivotChanged.gridColumnsChanged.columnValueChanged.columnMoved.columnVisible.columnPinned.columnGroupOpened.columnResized.displayedColumnsChanged.virtualColumnsChanged.columnHeaderMouseOver.columnHeaderMouseLeave.columnHeaderClicked.columnHeaderContextMenu.asyncTransactionsFlushed.rowGroupOpened.rowDataUpdated.pinnedRowDataChanged.pinnedRowsChanged.rangeSelectionChanged.cellSelectionChanged.chartCreated.chartRangeSelectionChanged.chartOptionsChanged.chartDestroyed.toolPanelVisibleChanged.toolPanelSizeChanged.modelUpdated.cutStart.cutEnd.pasteStart.pasteEnd.fillStart.fillEnd.cellSelectionDeleteStart.cellSelectionDeleteEnd.rangeDeleteStart.rangeDeleteEnd.undoStarted.undoEnded.redoStarted.redoEnded.cellClicked.cellDoubleClicked.cellMouseDown.cellContextMenu.cellValueChanged.cellEditRequest.rowValueChanged.headerFocused.cellFocused.rowSelected.selectionChanged.tooltipShow.tooltipHide.cellKeyDown.cellMouseOver.cellMouseOut.filterChanged.filterModified.filterUiChanged.filterOpened.floatingFilterUiChanged.advancedFilterBuilderVisibleChanged.sortChanged.virtualRowRemoved.rowClicked.rowDoubleClicked.gridReady.gridPreDestroyed.gridSizeChanged.viewportChanged.firstDataRendered.dragStarted.dragStopped.dragCancelled.rowEditingStarted.rowEditingStopped.cellEditingStarted.cellEditingStopped.bodyScroll.bodyScrollEnd.paginationChanged.componentStateChanged.storeRefreshed.stateUpdated.columnMenuVisibleChanged.contextMenuVisibleChanged.rowDragEnter.rowDragMove.rowDragLeave.rowDragEnd.rowDragCancel.findChanged.rowResizeStarted.rowResizeEnded.columnsReset.bulkEditingStarted.bulkEditingStopped.batchEditingStarted.batchEditingStopped`.split(`.`).reduce((e,t)=>(e[t]=zo(t),e),{}),zy={agSetColumnFilter:`SetFilter`,agSetColumnFloatingFilter:`SetFilter`,agMultiColumnFilter:`MultiFilter`,agMultiColumnFloatingFilter:`MultiFilter`,agGroupColumnFilter:`GroupFilter`,agGroupColumnFloatingFilter:`GroupFilter`,agGroupCellRenderer:`GroupCellRenderer`,agGroupRowRenderer:`GroupCellRenderer`,agRichSelect:`RichSelect`,agRichSelectCellEditor:`RichSelect`,agDetailCellRenderer:`SharedMasterDetail`,agSparklineCellRenderer:`Sparklines`,agDragAndDropImage:`SharedDragAndDrop`,agColumnHeader:`ColumnHeaderComp`,agColumnGroupHeader:`ColumnGroupHeaderComp`,agSortIndicator:`Sort`,agAnimateShowChangeCellRenderer:`HighlightChanges`,agAnimateSlideCellRenderer:`HighlightChanges`,agLoadingCellRenderer:`LoadingCellRenderer`,agSkeletonCellRenderer:`SkeletonCellRenderer`,agCheckboxCellRenderer:`CheckboxCellRenderer`,agLoadingOverlay:`Overlay`,agExportingOverlay:`Overlay`,agNoRowsOverlay:`Overlay`,agNoMatchingRowsOverlay:`Overlay`,agTooltipComponent:`Tooltip`,agReadOnlyFloatingFilter:`CustomFilter`,agTextColumnFilter:`TextFilter`,agNumberColumnFilter:`NumberFilter`,agDateColumnFilter:`DateFilter`,agDateInput:`DateFilter`,agTextColumnFloatingFilter:`TextFilter`,agNumberColumnFloatingFilter:`NumberFilter`,agDateColumnFloatingFilter:`DateFilter`,agCellEditor:`TextEditor`,agSelectCellEditor:`SelectEditor`,agTextCellEditor:`TextEditor`,agNumberCellEditor:`NumberEditor`,agDateCellEditor:`DateEditor`,agDateStringCellEditor:`DateEditor`,agCheckboxCellEditor:`CheckboxEditor`,agLargeTextCellEditor:`LargeTextEditor`,agMenuItem:`MenuItem`,agColumnsToolPanel:`ColumnsToolPanel`,agFiltersToolPanel:`FiltersToolPanel`,agNewFiltersToolPanel:`NewFiltersToolPanel`,agAggregationComponent:`StatusBar`,agSelectedRowCountComponent:`StatusBar`,agTotalRowCountComponent:`StatusBar`,agFilteredRowCountComponent:`StatusBar`,agTotalAndFilteredRowCountComponent:`StatusBar`,agFindCellRenderer:`Find`};function By(e){return`"${e}"`}var Vy=()=>({checkboxSelection:{version:`32.2`,message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:`32.2`,message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:`32.2`,message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:`32.2`,message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:`32.2`,message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:`34.3`,message:"Use `colDef.groupHierarchy` instead."}}),Hy={allowFormula:`Formula`,aggFunc:`SharedAggregation`,autoHeight:`RowAutoHeight`,cellClass:`CellStyle`,cellClassRules:`CellStyle`,cellEditor:({cellEditor:e,editable:t})=>t?typeof e==`string`?zy[e]??`CustomEditor`:`CustomEditor`:null,cellRenderer:({cellRenderer:e})=>typeof e==`string`?zy[e]:null,cellStyle:`CellStyle`,columnChooserParams:`ColumnMenu`,contextMenuItems:`ContextMenu`,dndSource:`DragAndDrop`,dndSourceOnRowDrag:`DragAndDrop`,editable:({editable:e,cellEditor:t})=>e&&!t?`TextEditor`:null,enableCellChangeFlash:`HighlightChanges`,enablePivot:`SharedPivot`,enableRowGroup:`SharedRowGrouping`,enableValue:`SharedAggregation`,filter:({filter:e})=>e&&typeof e!=`string`&&typeof e!=`boolean`?`CustomFilter`:typeof e==`string`?zy[e]??`ColumnFilter`:`ColumnFilter`,floatingFilter:`ColumnFilter`,getQuickFilterText:`QuickFilter`,headerTooltip:`Tooltip`,headerTooltipValueGetter:`Tooltip`,mainMenuItems:`ColumnMenu`,menuTabs:e=>{let t=[`columnsMenuTab`,`generalMenuTab`];return e.menuTabs?.some(e=>t.includes(e))?`ColumnMenu`:null},pivot:`SharedPivot`,pivotIndex:`SharedPivot`,rowDrag:`RowDrag`,rowGroup:`SharedRowGrouping`,rowGroupIndex:`SharedRowGrouping`,tooltipField:`Tooltip`,tooltipValueGetter:`Tooltip`,tooltipComponentSelector:`Tooltip`,spanRows:`CellSpan`,groupHierarchy:`SharedRowGrouping`},Uy=()=>({autoHeight:{supportedRowModels:[`clientSide`,`serverSide`],validate:(e,{paginationAutoPageSize:t})=>t?`colDef.autoHeight is not supported with paginationAutoPageSize.`:null},allowFormula:{supportedRowModels:[`clientSide`]},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer===`agGroupCellRenderer`)&&`checkbox`in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(e,t)=>t.autoSizeStrategy?`colDef.flex is not supported with gridOptions.autoSizeStrategy`:null},headerCheckboxSelection:{supportedRowModels:[`clientSide`,`serverSide`],validate:(e,{rowSelection:t})=>t===`multiple`?null:`headerCheckboxSelection is only supported with rowSelection=multiple`},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:[`clientSide`],validate:(e,{rowSelection:t})=>t===`multiple`?null:`headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple`},headerCheckboxSelectionFilteredOnly:{supportedRowModels:[`clientSide`],validate:(e,{rowSelection:t})=>t===`multiple`?null:`headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple`},headerValueGetter:{validate:e=>{let t=e.headerValueGetter;return typeof t==`function`||typeof t==`string`?null:`headerValueGetter must be a function or a valid string expression`}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return Ka(262);if(e.smallLeft)return Ka(263);if(e.smallRight)return Ka(264)}return null}},sort:{validate:e=>es(e.sort)||Qo(e.sort)?null:`sort must be of type (SortDirection | SortDef), currently it is ${typeof e.sort==`object`?JSON.stringify(e.sort):za(e.sort)}`},initialSort:{validate:e=>es(e.initialSort)||Qo(e.initialSort)?null:`initialSort must be of non-null type (SortDirection | SortDef), currently it is ${typeof e.initialSort==`object`?JSON.stringify(e.initialSort):za(e.initialSort)}`},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let e=t.filter(e=>!(es(e)||Qo(e)));if(e.length>0)return`sortingOrder must be an array of type non-null (SortDirection | SortDef)[], incorrect items are: [${e.map(e=>typeof e==`string`||e==null?za(e):JSON.stringify(e)).join(`, `)}]`}else if(!Array.isArray(t)||!t.length)return`sortingOrder must be an array with at least one element, currently it is [${t}]`;return null}},type:{validate:e=>{let t=e.type;return t instanceof Array?t.some(e=>typeof e!=`string`)?`if colDef.type is supplied an array it should be of type 'string[]'`:null:typeof t==`string`?null:`colDef.type should be of type 'string' | 'string[]'`}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:`colDef.rowSpan requires suppressRowTransform to be enabled.`},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(e,{rowSelection:t,cellSelection:n,suppressRowTransform:r,enableCellSpan:i,rowDragEntireRow:a,enableCellTextSelection:o})=>typeof t==`object`&&t?.mode===`singleRow`&&t?.enableClickSelection?`colDef.spanRows is not supported with rowSelection.clickSelection`:n?`colDef.spanRows is not supported with cellSelection.`:r?`colDef.spanRows is not supported with suppressRowTransform.`:i?a?`colDef.spanRows is not supported with rowDragEntireRow.`:o?`colDef.spanRows is not supported with enableCellTextSelection.`:null:`colDef.spanRows requires enableCellSpan to be enabled.`},groupHierarchy:{validate(e,{groupHierarchyConfig:t={}},n){let r=new Set([`year`,`quarter`,`month`,`formattedMonth`,`day`,`hour`,`minute`,`second`]),i=[];for(let a of e.groupHierarchy??[]){if(typeof a==`object`){n.validation?.validateColDef(a);continue}!r.has(a)&&!(a in t)&&i.push(By(a))}return i.length>0?`${`The following parts of colDef.groupHierarchy are not recognised: ${i.join(`, `)}.`}
${`Choose one of ${[...r].map(By).join(`, `)}, or define your own parts in gridOptions.groupHierarchyConfig.`}`:null}}}),Wy={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0,allowFormula:void 0},Gy=()=>Object.keys(Wy),Ky=()=>({objectName:`colDef`,allProperties:Gy(),docsUrl:`column-properties/`,deprecations:Vy(),validations:Uy()}),qy=`overlayLoadingTemplate.overlayNoRowsTemplate.gridId.quickFilterText.rowModelType.editType.domLayout.clipboardDelimiter.rowGroupPanelShow.multiSortKey.pivotColumnGroupTotals.pivotRowTotals.pivotPanelShow.fillHandleDirection.groupDisplayType.treeDataDisplayType.treeDataChildrenField.treeDataParentIdField.colResizeDefault.tooltipTrigger.serverSidePivotResultFieldSeparator.columnMenu.tooltipShowMode.invalidEditValueMode.grandTotalRow.themeCssLayer.findSearchValue.styleNonce.renderingMode`.split(`.`),Jy=`components.rowStyle.context.autoGroupColumnDef.localeText.icons.datasource.dragAndDropImageComponentParams.serverSideDatasource.viewportDatasource.groupRowRendererParams.aggFuncs.fullWidthCellRendererParams.defaultColGroupDef.defaultColDef.defaultCsvExportParams.defaultExcelExportParams.columnTypes.rowClassRules.detailCellRendererParams.loadingCellRendererParams.overlayComponentParams.loadingOverlayComponentParams.noRowsOverlayComponentParams.activeOverlayParams.popupParent.themeStyleContainer.statusBar.chartThemeOverrides.customChartThemes.chartToolPanelsDef.dataTypeDefinitions.advancedFilterParent.advancedFilterBuilderParams.advancedFilterParams.formulaDataSource.formulaFuncs.initialState.autoSizeStrategy.selectionColumnDef.findOptions.filterHandlers.groupHierarchyConfig`.split(`.`),Yy=[`sortingOrder`,`alignedGrids`,`rowData`,`columnDefs`,`excelStyles`,`pinnedTopRowData`,`pinnedBottomRowData`,`chartThemes`,`rowClass`,`paginationPageSizeSelector`,`suppressOverlays`],Xy=`rowHeight.detailRowHeight.rowBuffer.headerHeight.groupHeaderHeight.groupLockGroupColumns.floatingFiltersHeight.pivotHeaderHeight.pivotGroupHeaderHeight.groupDefaultExpanded.pivotDefaultExpanded.viewportRowModelPageSize.viewportRowModelBufferSize.autoSizePadding.maxBlocksInCache.maxConcurrentDatasourceRequests.tooltipShowDelay.tooltipHideDelay.cacheOverflowSize.paginationPageSize.cacheBlockSize.infiniteInitialRowCount.serverSideInitialRowCount.scrollbarWidth.asyncTransactionWaitMillis.blockLoadDebounceMillis.keepDetailRowsCount.undoRedoCellEditingLimit.cellFlashDuration.cellFadeDuration.tabIndex.pivotMaxGeneratedColumns.rowDragInsertDelay`.split(`.`),Zy=[`theme`,`rowSelection`],Qy=[`cellSelection`,`sideBar`,`rowNumbers`,`suppressGroupChangesColumnVisibility`,`groupAggFiltering`,`suppressStickyTotalRow`,`groupHideParentOfSingleChild`,`enableRowPinning`],$y=`loadThemeGoogleFonts.suppressMakeColumnVisibleAfterUnGroup.suppressRowClickSelection.suppressCellFocus.suppressHeaderFocus.suppressHorizontalScroll.groupSelectsChildren.alwaysShowHorizontalScroll.alwaysShowVerticalScroll.debug.enableBrowserTooltips.enableCellExpressions.groupSuppressBlankHeader.suppressMenuHide.suppressRowDeselection.unSortIcon.suppressMultiSort.alwaysMultiSort.singleClickEdit.suppressLoadingOverlay.suppressNoRowsOverlay.suppressAutoSize.skipHeaderOnAutoSize.suppressColumnMoveAnimation.suppressMoveWhenColumnDragging.suppressMovableColumns.suppressFieldDotNotation.enableRangeSelection.enableRangeHandle.enableFillHandle.suppressClearOnFillReduction.deltaSort.suppressTouch.allowContextMenuWithControlKey.suppressContextMenu.suppressDragLeaveHidesColumns.suppressRowGroupHidesColumns.suppressMiddleClickScrolls.suppressPreventDefaultOnMouseWheel.suppressCopyRowsToClipboard.copyHeadersToClipboard.copyGroupHeadersToClipboard.pivotMode.suppressAggFuncInHeader.suppressColumnVirtualisation.alwaysAggregateAtRootLevel.suppressFocusAfterRefresh.functionsReadOnly.animateRows.groupSelectsFiltered.groupRemoveSingleChildren.groupRemoveLowestSingleChildren.enableRtl.enableCellSpan.suppressClickEdit.rowDragEntireRow.rowDragManaged.refreshAfterGroupEdit.suppressRowDrag.suppressMoveWhenRowDragging.rowDragMultiRow.enableGroupEdit.embedFullWidthRows.suppressPaginationPanel.groupHideOpenParents.groupAllowUnbalanced.pagination.paginationAutoPageSize.suppressScrollOnNewData.suppressScrollWhenPopupsAreOpen.purgeClosedRowNodes.cacheQuickFilter.includeHiddenColumnsInQuickFilter.ensureDomOrder.accentedSort.suppressChangeDetection.valueCache.valueCacheNeverExpires.aggregateOnlyChangedColumns.suppressAnimationFrame.suppressExcelExport.suppressCsvExport.includeHiddenColumnsInAdvancedFilter.suppressMultiRangeSelection.enterNavigatesVerticallyAfterEdit.enterNavigatesVertically.suppressPropertyNamesCheck.rowMultiSelectWithClick.suppressRowHoverHighlight.suppressRowTransform.suppressClipboardPaste.suppressLastEmptyLineOnPaste.enableCharts.suppressMaintainUnsortedOrder.enableCellTextSelection.suppressBrowserResizeObserver.suppressMaxRenderedRowRestriction.excludeChildrenWhenTreeDataFiltering.tooltipMouseTrack.tooltipInteraction.keepDetailRows.paginateChildRows.preventDefaultOnContextMenu.undoRedoCellEditing.allowDragFromColumnsToolPanel.pivotSuppressAutoColumn.suppressExpandablePivotGroups.debounceVerticalScrollbar.detailRowAutoHeight.serverSideSortAllLevels.serverSideEnableClientSideSort.serverSideOnlyRefreshFilteredGroups.suppressAggFilteredOnly.showOpenedGroup.suppressClipboardApi.suppressModelUpdateAfterUpdateTransaction.stopEditingWhenCellsLoseFocus.groupMaintainOrder.columnHoverHighlight.readOnlyEdit.suppressRowVirtualisation.enableCellEditingOnBackspace.resetRowDataOnUpdate.removePivotHeaderRowWhenSingleValueColumn.suppressCopySingleCellRanges.suppressGroupRowsSticky.suppressCutToClipboard.rowGroupPanelSuppressSort.allowShowChangeAfterFilter.enableAdvancedFilter.masterDetail.treeData.reactiveCustomComponents.applyQuickFilterBeforePivotOrAgg.suppressServerSideFullWidthLoadingRow.suppressAdvancedFilterEval.loading.maintainColumnOrder.enableStrictPivotColumnOrder.suppressSetFilterByDefault.enableFilterHandlers.suppressStartEditOnTab.hidePaddedHeaderRows.ssrmExpandAllAffectsAllRows.animateColumnResizing`.split(`.`),eb=`doesExternalFilterPass.processPivotResultColDef.processPivotResultColGroupDef.getBusinessKeyForNode.isRowSelectable.rowDragText.groupRowRenderer.dragAndDropImageComponent.fullWidthCellRenderer.loadingCellRenderer.overlayComponent.loadingOverlayComponent.noRowsOverlayComponent.overlayComponentSelector.activeOverlay.detailCellRenderer.quickFilterParser.quickFilterMatcher.getLocaleText.isExternalFilterPresent.getRowHeight.getRowClass.getRowStyle.getFullRowEditValidationErrors.getContextMenuItems.getMainMenuItems.processRowPostCreate.processCellForClipboard.getGroupRowAgg.isFullWidthRow.sendToClipboard.focusGridInnerElement.navigateToNextHeader.tabToNextHeader.navigateToNextCell.tabToNextCell.processCellFromClipboard.getDocument.postProcessPopup.getChildCount.getDataPath.isRowMaster.postSortRows.processHeaderForClipboard.processUnpinnedColumns.processGroupHeaderForClipboard.paginationNumberFormatter.processDataFromClipboard.getServerSideGroupKey.isServerSideGroup.createChartContainer.getChartToolbarItems.fillOperation.isApplyServerSideTransaction.getServerSideGroupLevelParams.isServerSideGroupOpenByDefault.isGroupOpenByDefault.initialGroupOrderComparator.loadingCellRendererSelector.getRowId.chartMenuItems.groupTotalRow.alwaysPassFilter.isRowPinnable.isRowPinned.isRowValidDropPosition`.split(`.`),tb=()=>[...Yy,...Jy,...qy,...Xy,...eb,...$y,...Qy,...Zy],nb=()=>({suppressLoadingOverlay:{version:`32`,message:"Use `loading`=false instead."},enableFillHandle:{version:`32.2`,message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:`32.2`,message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:`32.2`,message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:`32.2`,message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:`32.2`,message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:`32.2`,message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:`32.2`,message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:`32.2`,message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:`32.2`,message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:`32.2`,message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:`32.2`,message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:`32.2`,message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:`32.2`,message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:`32.2`,message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:`32.2`,message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:`32.2`,message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:`32.2`,message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:`32.2`,message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:`32.2`,message:`The grid always uses the browser's ResizeObserver, this grid option has no effect.`},onColumnEverythingChanged:{version:`32.2`,message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:`33`,message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:`33`,message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:`33`,message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:`33`,message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:`33`,message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:`33`,message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:`33`,message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:`34`,message:`Advanced filter no longer uses function evaluation, so this option has no effect.`}});function rb(e,t,n){return typeof t==`number`||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var ib={alignedGrids:`AlignedGrids`,allowContextMenuWithControlKey:`ContextMenu`,autoSizeStrategy:`ColumnAutoSize`,cellSelection:`CellSelection`,columnHoverHighlight:`ColumnHover`,datasource:`InfiniteRowModel`,doesExternalFilterPass:`ExternalFilter`,editType:`EditCore`,invalidEditValueMode:`EditCore`,enableAdvancedFilter:`AdvancedFilter`,enableCellSpan:`CellSpan`,enableCharts:`IntegratedCharts`,enableRangeSelection:`CellSelection`,enableRowPinning:`PinnedRow`,findSearchValue:`Find`,getFullRowEditValidationErrors:`EditCore`,getContextMenuItems:`ContextMenu`,getLocaleText:`Locale`,getMainMenuItems:`ColumnMenu`,getRowClass:`RowStyle`,getRowStyle:`RowStyle`,groupTotalRow:`SharedRowGrouping`,grandTotalRow:`ClientSideRowModelHierarchy`,initialState:`GridState`,isExternalFilterPresent:`ExternalFilter`,isRowPinnable:`PinnedRow`,isRowPinned:`PinnedRow`,localeText:`Locale`,masterDetail:`SharedMasterDetail`,pagination:`Pagination`,pinnedBottomRowData:`PinnedRow`,pinnedTopRowData:`PinnedRow`,pivotMode:`SharedPivot`,pivotPanelShow:`RowGroupingPanel`,quickFilterText:`QuickFilter`,rowClass:`RowStyle`,rowClassRules:`RowStyle`,rowData:`ClientSideRowModel`,rowDragManaged:`RowDrag`,refreshAfterGroupEdit:[`RowGrouping`,`TreeData`],rowGroupPanelShow:`RowGroupingPanel`,rowNumbers:`RowNumbers`,rowSelection:`SharedRowSelection`,rowStyle:`RowStyle`,serverSideDatasource:`ServerSideRowModel`,sideBar:`SideBar`,statusBar:`StatusBar`,treeData:`SharedTreeData`,undoRedoCellEditing:`UndoRedoEdit`,valueCache:`ValueCache`,viewportDatasource:`ViewportRowModel`},ab=()=>{let e={autoSizePadding:{validate({autoSizePadding:e}){return rb(`autoSizePadding`,e,0)}},cacheBlockSize:{supportedRowModels:[`serverSide`,`infinite`],validate({cacheBlockSize:e}){return rb(`cacheBlockSize`,e,1)}},cacheOverflowSize:{validate({cacheOverflowSize:e}){return rb(`cacheOverflowSize`,e,1)}},datasource:{supportedRowModels:[`infinite`]},domLayout:{validate:e=>{let t=e.domLayout,n=[`autoHeight`,`normal`,`print`];return t&&!n.includes(t)?`domLayout must be one of [${n.join()}], currently it's ${t}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:[`clientSide`],validate({enableRowPinning:e,pinnedTopRowData:t,pinnedBottomRowData:n}){return e&&(t||n)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:[`clientSide`],validate({enableRowPinning:e,isRowPinnable:t,pinnedTopRowData:n,pinnedBottomRowData:r}){return t&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!e&&t?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:[`clientSide`],validate({enableRowPinning:e,isRowPinned:t,pinnedTopRowData:n,pinnedBottomRowData:r}){return t&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!e&&t?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:[`clientSide`]},groupHideOpenParents:{supportedRowModels:[`clientSide`,`serverSide`],dependencies:{groupTotalRow:{required:[void 0,`bottom`]},treeData:{required:[void 0,!1],reason:`Tree Data has values at the group level so it doesn't make sense to hide them.`}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:[`multiple`]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:e={}},t,n){for(let t of Object.keys(e))n.validation?.validateColDef(e[t]);return null}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return Ka(262);if(e.smallLeft)return Ka(263);if(e.smallRight)return Ka(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:e}){return rb(`infiniteInitialRowCount`,e,1)}},initialGroupOrderComparator:{supportedRowModels:[`clientSide`]},ssrmExpandAllAffectsAllRows:{validate:e=>{if(typeof e.ssrmExpandAllAffectsAllRows==`boolean`){if(e.rowModelType!==`serverSide`)return`'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.`;if(e.ssrmExpandAllAffectsAllRows&&typeof e.getRowId!=`function`)return`'getRowId' callback must be provided for Server Side Row Model grouping to work correctly.`}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:e}){return rb(`keepDetailRowsCount`,e,1)}},paginationPageSize:{validate({paginationPageSize:e}){return rb(`paginationPageSize`,e,1)}},paginationPageSizeSelector:{validate:e=>{let t=e.paginationPageSizeSelector;return typeof t==`boolean`||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:`Pivot Mode is not supported with Tree Data.`}}},quickFilterText:{supportedRowModels:[`clientSide`]},rowBuffer:{validate({rowBuffer:e}){return rb(`rowBuffer`,e,0)}},rowClass:{validate:e=>typeof e.rowClass==`function`?`rowClass should not be a function, please use getRowClass instead`:null},rowData:{supportedRowModels:[`clientSide`]},rowDragManaged:{supportedRowModels:[`clientSide`],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:e}){return e&&typeof e==`string`?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!=`object`?"Expected `RowSelectionOptions` object for the `rowSelection` property.":e&&e.mode!==`multiRow`&&e.mode!==`singleRow`?`Selection mode "${e.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:e=>{let t=e.rowStyle;return t&&typeof t==`function`?`rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead`:null}},serverSideDatasource:{supportedRowModels:[`serverSide`]},serverSideInitialRowCount:{supportedRowModels:[`serverSide`],validate({serverSideInitialRowCount:e}){return rb(`serverSideInitialRowCount`,e,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:[`serverSide`]},serverSideSortAllLevels:{supportedRowModels:[`serverSide`]},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let e=t.filter(e=>!Zo(e));if(e.length>0)return`sortingOrder must be an array of type (SortDirection | SortDef)[], incorrect items are: ${e.map(e=>typeof e==`string`||e==null?za(e):JSON.stringify(e))}]`}else if(!Array.isArray(t)||!t.length)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipHideDelay:{validate:e=>e.tooltipHideDelay&&e.tooltipHideDelay<0?`tooltipHideDelay should not be lower than 0`:null},tooltipShowDelay:{validate:e=>e.tooltipShowDelay&&e.tooltipShowDelay<0?`tooltipShowDelay should not be lower than 0`:null},treeData:{supportedRowModels:[`clientSide`,`serverSide`],validate:e=>{let t=e.rowModelType??`clientSide`;switch(t){case`clientSide`:{let{treeDataChildrenField:t,treeDataParentIdField:n,getDataPath:r,getRowId:i}=e;if(!t&&!n&&!r)return`treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.`;if(t){if(r)return`Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.`;if(n)return`Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time.`}if(n){if(!i)return`getRowId callback not provided, tree data with parent id cannot be built.`;if(r)return`Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time.`}return null}case`serverSide`:{let n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}}return null}},viewportDatasource:{supportedRowModels:[`viewport`]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:e}){return rb(`viewportRowModelBufferSize`,e,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:e}){return rb(`viewportRowModelPageSize`,e,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:e,showOpenedGroup:t}){return e?.field&&t?`autoGroupColumnDef.field and showOpenedGroup are not supported when used together.`:e?.valueGetter&&t?`autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.`:null}},renderingMode:{validate:e=>{let t=e.renderingMode,n=[`default`,`legacy`];return t&&!n.includes(t)?`renderingMode must be one of [${n.join()}], currently it's ${t}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:e})=>{if(!e)return null;let t=[`fitCellContents`,`fitGridWidth`,`fitProvidedWidth`],n=e.type;return n!==`fitCellContents`&&n!==`fitGridWidth`&&n!==`fitProvidedWidth`?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${t.map(e=>`"`+e+`"`).join(`, `)}, currently it's ${n}`:n===`fitProvidedWidth`&&typeof e.width!=`number`?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${e.width}`:null}}},t={};for(let e of $y)t[e]={expectedType:`boolean`};for(let e of Xy)t[e]={expectedType:`number`};return $i(t,e),t},ob=()=>({objectName:`gridOptions`,allProperties:[...tb(),...Object.values(Ry)],propertyExceptions:[`api`],docsUrl:`grid-options/`,deprecations:nb(),validations:ab()}),sb=0,cb=0,lb=`__ag_grid_instance`,ub=class extends L{constructor(){super(...arguments),this.beanName=`gos`,this.domDataKey=`__AG_`+Math.random().toString(),this.instanceId=cb++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Wn,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;let r=Ly.has(t);if(r&&!e||!r&&e||!db(t))return;let i=(e,t)=>{let n=Ry[e],r=this.gridOptions[n];typeof r==`function`&&this.beans.frameworkOverrides.wrapOutgoing(()=>r(t))};if(this.gridReadyFired)i(t,n);else if(t===`gridReady`){i(t,n),this.gridReadyFired=!0;for(let e of this.queueEvents)i(e.eventName,e.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:`optionsUpdated`})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??ia[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return P(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(t=>e(this.addCommon(t)))}updateGridOptions({options:e,force:t,source:n=`api`}){let r={id:sb++,properties:[]},i=[],{gridOptions:a,validation:o}=this;for(let s of Object.keys(e)){let c=na.applyGlobalGridOption(s,e[s]);o?.warnOnInitialPropertyUpdate(n,s);let l=t||typeof c==`object`&&n===`api`,u=a[s];if(l||u!==c){a[s]=c;let e={type:s,currentValue:c,previousValue:u,changeSet:r,source:n};i.push(e)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(e=>e.type);for(let e of i)oa(this,`Updated property ${e.type} from`,e.previousValue,` to `,e.currentValue),this.propEventSvc.dispatchEvent(e)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(let n of Object.keys(e)){let r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i==`function`&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,ib),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,Hy),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){let n=Array.isArray(e)?e.some(e=>this.isModuleRegistered(e)):this.isModuleRegistered(e);return n||B(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:xa(),rowModelType:this.get(`rowModelType`),isUmd:Ea()}}isModuleRegistered(e){return ba(e,this.gridId,this.get(`rowModelType`))}setInstanceDomData(e){e[lb]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){let e=t[lb];if(P(e))return e===this.instanceId;t=t.parentElement}return!1}};function db(e){return!!Ry[e]}var fb=class extends L{constructor(e,t){super(),this.column=e,this.eGui=t,this.lastMovingChanged=0}postConstruct(){this.addManagedElementListeners(this.eGui,{click:e=>e&&this.onClick(e)}),this.addManagedListeners(this.column,{movingChanged:()=>{this.lastMovingChanged=Date.now()}})}onClick(e){let{sortSvc:t,rangeSvc:n,gos:r}=this.beans;if(!(!Co(r)||e.altKey))n?.handleColumnSelection(this.column,e);else if(this.column.isSortable()){let n=this.column.isMoving(),r=Date.now()-this.lastMovingChanged<50;n||r||t?.progressSortFromEvent(this.column,e)}}};function pb(e,t){let n={"aria-hidden":`true`};return{tag:`div`,cls:`ag-cell-label-container`,role:`presentation`,children:[{tag:`span`,ref:`eMenu`,cls:`ag-header-icon ag-header-cell-menu-button`,attrs:n},{tag:`span`,ref:`eFilterButton`,cls:`ag-header-icon ag-header-cell-filter-button`,attrs:n},{tag:`div`,ref:`eLabel`,cls:`ag-header-cell-label`,role:`presentation`,children:[e?{tag:`span`,ref:`eColRef`,cls:`ag-header-col-ref`}:null,{tag:`span`,ref:`eText`,cls:`ag-header-cell-text`},{tag:`span`,ref:`eFilter`,cls:`ag-header-icon ag-header-label-icon ag-filter-icon`,attrs:n},t?{tag:`ag-sort-indicator`,ref:`eSortIndicator`}:null]}]}}var mb=class extends pc{constructor(){super(...arguments),this.eFilter=null,this.eFilterButton=null,this.eSortIndicator=null,this.eMenu=null,this.eLabel=null,this.eText=null,this.eColRef=null,this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,this.eSortAbsoluteAsc=null,this.eSortAbsoluteDesc=null,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||e.column.formulaRef!=this.currentRef||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let t={...e};$i(t,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(t)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let{formula:n}=this.beans,r=e.template;return r?r?.trim?r.trim():r:pb(!!n?.active,t)}init(e){this.params=e;let{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,a=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!a),this.setTemplate(this.currentTemplate,a?[a]:void 0),this.eLabel&&(this.mouseListener??=this.createManagedBean(new fb(e.column,this.eLabel))),n?.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupColumnRefIndicator(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let n=Lc(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderComponent=e,this.eText&&this.eText.appendChild(e.getGui())):this.destroyBean(e))}))}setDisplayName(e){let{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Qn(t))}addInIcon(e,t,n){let r=rh(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){ti(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:n}=this,r=Lo(e);this.addInIcon(r?`menu`:`menuAlt`,t,n.column),t.classList.toggle(`ag-header-menu-icon`,!r);let i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle(`ag-header-menu-always-show`,e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:n,beans:r,eMenu:i,eFilterButton:a}=this,o=t.column,s=Lo(n);if(e&&!s){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(a??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??a??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:t,eSortOrder:n,eSortAsc:r,eSortDesc:i,eSortMixed:a,eSortNone:o,eSortAbsoluteAsc:s,eSortAbsoluteDesc:c}=this;t.attachCustomElements(n,r,i,a,o,s,c)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n)}setupColumnRefIndicator(){let{eColRef:e,beans:{editModelSvc:t},params:n}=this;e&&(this.currentRef=n.column.formulaRef,e.textContent=this.currentRef,F(e,!1),this.addManagedEventListeners({cellEditingStarted:()=>{let n=t?.getEditPositions();F(e,!!this.currentRef&&!!n?.some(e=>e.column.isAllowFormula()))},cellEditingStopped:()=>{F(e,!1)}}))}setupFilterIcon(){let{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,()=>{F(e,t.column.isFilterActive(),{skipAriaHidden:!0})},`filterActive`)}setupFilterButton(){let{eFilterButton:e,params:t}=this;e&&(this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),`filter`)?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0)}configureFilter(e,t,n,r){if(!e)return ti(t),!1;let i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle(`ag-filter-active`,e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent=this.destroyBean(this.innerHeaderComponent),this.mouseListener=this.destroyBean(this.mouseListener)}},hb={tag:`div`,cls:`ag-header-group-cell-label`,role:`presentation`,children:[{tag:`span`,ref:`agLabel`,cls:`ag-header-group-text`,role:`presentation`},{tag:`span`,ref:`agOpened`,cls:`ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded`},{tag:`span`,ref:`agClosed`,cls:`ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed`}]},gb=class extends pc{constructor(){super(hb),this.agOpened=null,this.agClosed=null,this.agLabel=null,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&z(89)}workOutInnerHeaderGroupComponent(e,t){let n=zc(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(e=>{this.isLoadingInnerComponent=!1,e&&(this.isAlive()?(this.innerHeaderGroupComponent=e,this.agLabel.appendChild(e.getGui())):this.destroyBean(e))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:n},beans:{colGroupSvc:r}}=this;this.addInIcon(`columnGroupOpened`,e),this.addInIcon(`columnGroupClosed`,t);let i=e=>{if(Xf(e))return;let t=!n.isExpanded();r.setColumnGroupOpened(n.getProvidedColumnGroup(),t,`uiColumnExpanded`)};this.addTouchAndClickListeners(t,i),this.addTouchAndClickListeners(e,i);let a=e=>{Yf(e)};this.addManagedElementListeners(t,{dblclick:a}),this.addManagedElementListeners(e,{dblclick:a}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();let o=n.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){this.beans.touchSvc?.setupForHeaderGroupElement(this,e,t),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){let r=n.isExpanded();F(e,r),F(t,!r)}else F(e,!1),F(t,!1)}addInIcon(e,t){let n=rh(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:e,agClosed:t}=this;F(e,!1),F(t,!1)}}setupLabel(e){let{displayName:t,columnGroup:n}=e,{innerHeaderGroupComponent:r,isLoadingInnerComponent:i}=this,a=r||i;P(t)&&!a&&(this.agLabel.textContent=Qn(t)),this.toggleCss(`ag-sticky-label`,!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&=(this.destroyBean(this.innerHeaderGroupComponent),void 0)}},_b={moduleName:`ColumnHeaderComp`,version:R,userComponents:{agColumnHeader:mb},icons:{menu:`menu`,menuAlt:`menu-alt`}},vb={moduleName:`ColumnGroupHeaderComp`,version:R,userComponents:{agColumnGroupHeader:gb},icons:{columnGroupOpened:`expanded`,columnGroupClosed:`contracted`}},yb={moduleName:`AnimationFrame`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`animationFrameSvc`,this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get(`suppressAnimationFrame`),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&z(92)}createTask(e,t,n,r,i=!1){this.verify();let a=n;r&&this.batchFrameworkComps&&(a=`f1`);let o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[a],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((e,n)=>e.deferred===n.deferred?e.index===n.index?n.createOrder-e.createOrder:t*(n.index-e.index):e.deferred?-1:1),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:n,f1:r,destroyTasks:i,beans:a}=this,{ctrlsSvc:o,frameworkOverrides:s}=a,c=t.list,l=n.list,u=r.list,d=Date.now(),f=0,p=e<=0,m=o.getScrollFeature();for(;p||f<e;){if(!m.scrollGridIfNeeded()){let a;if(c.length)this.sortTaskList(t),a=c.pop().task;else if(l.length)this.sortTaskList(n),a=l.pop().task;else if(u.length)s.wrapOutgoing(()=>{for(;(p||f<e)&&!m.scrollGridIfNeeded()&&u.length;)this.sortTaskList(r),a=u.pop().task,a(),f=Date.now()-d}),a=()=>{};else if(i.length)a=i.pop();else break;a()}f=Date.now()-d}c.length||l.length||u.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);hi(this.beans,e)}isQueueEmpty(){return!this.ticking}}]},bb=class extends L{constructor(){super(...arguments),this.beanName=`iconSvc`}createIconNoSpan(e,t){return rh(e,this.beans,t?.column)}},xb={moduleName:`Touch`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`touchSvc`}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){yl()&&this.mockContextMenu(e,e.element,(t,n,r)=>{let{rowCtrl:i,cellCtrl:a}=e.getControlsForEventTarget(r?.target??null);a?.column&&a.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,i,a)})}handleCellDoubleClick(e,t){return(()=>{if(!yl()||Ci(`dblclick`))return!1;let t=Date.now(),n=t-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=t,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get(`suppressTouch`))return;let{params:i,eMenu:a,eFilterButton:o}=e,s=new ng(e.getGui(),!0);e.addDestroyFunc(()=>s.destroy());let c=e.shouldSuppressMenuHide(),l=c&&P(a)&&i.enableMenu,u=s;if(l&&(u=new ng(a,!0),e.addDestroyFunc(()=>u.destroy())),i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){let t=l?`tap`:`longTap`,n=e=>i.showColumnMenuAfterMouseClick(e.touchStart);e.addManagedListeners(u,{[t]:n}),e.addManagedListeners(s,{longTap:n})}if(i.enableSorting&&e.addManagedListeners(s,{tap:e=>{let t=e.touchStart.target;c&&(a?.contains(t)||o?.contains(t))||n?.progressSort(i.column,!1,`uiColumnSorted`)}}),i.enableFilterButton&&o){let t=new ng(o,!0);e.addManagedListeners(t,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>t.destroy())}}setupForHeaderGroup(e){let t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){let n=new ng(t.eGridHeader,!0);e.addManagedListeners(n,{longTap:e=>t.showColumnMenuAfterMouseClick(e.touchStart)}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){let r=new ng(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!yl())return;let r=new ng(t);e.addManagedListeners(r,{longTap:e=>{ji(this.beans,e.touchEvent)&&n(void 0,e.touchStart,e.touchEvent)}}),e.addDestroyFunc(()=>r.destroy())}}]},Sb=class extends L{constructor(){super(...arguments),this.beanName=`cellNavigation`}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let n=e===G.UP,r=e===G.DOWN,i=e===G.LEFT,a,o,{pageBounds:s,gos:c,visibleCols:l,pinnedRowModel:u}=this.beans,{rowPinned:d}=t;if(n||r)o=d&&u?n?0:d===`top`?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:n?s.getFirstRow():s.getLastRow(),a=t.column;else{let e=c.get(`enableRtl`);o=t.rowIndex,a=(i===e?[...l.allCols].reverse():l.allCols).find(e=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:e}))}return a?{rowIndex:o,rowPinned:d,column:a}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case G.UP:n=this.getCellAbove(n);break;case G.DOWN:n=this.getCellBelow(n);break;case G.RIGHT:n=this.gos.get(`enableRtl`)?this.getCellToLeft(n):this.getCellToRight(n);break;case G.LEFT:n=this.gos.get(`enableRtl`)?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,z(8,{key:e});break}r=n?this.isCellGoodToFocusOn(n):!0}return n}isCellGoodToFocusOn(e){let t=e.column,n,{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case`top`:n=r?.getPinnedTopRow(e.rowIndex);break;case`bottom`:n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,n=Sm(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,n=xm(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:n}=this.beans,r=t.allCols,i=e.rowIndex,a=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];let t=Sm(this.beans,e,!0);if(Kn(t)||!t.rowPinned&&!(n?.isRowInPage(t.rowIndex)??!0))return null;i=t?t.rowIndex:null,a=t?t.rowPinned:null}return{rowIndex:i,column:o,rowPinned:a}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols,a=e.rowIndex,o=e.rowPinned,s=n.getColBefore(e.column);if(!s){s=U(i);let n=xm(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(Kn(n)||!n.rowPinned&&!(r?.isRowInPage(n.rowIndex)??!0))return null;a=n?n.rowIndex:null,o=n?n.rowPinned:null}return{rowIndex:a,column:s,rowPinned:o}}isSuppressNavigable(e,t){let{suppressNavigable:n}=e.colDef;return typeof n==`boolean`?n:typeof n==`function`?n(e.createColumnFunctionCallbackParams(t)):!1}};function Cb(e){return e.focusSvc.getFocusedCell()}function wb(e){return e.focusSvc.clearFocusedCell()}function Tb(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function Eb(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function Db(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Ob(e,t,n=!1){let r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var kb=class extends L{constructor(){super(...arguments),this.beanName=`editModelSvc`,this.edits=new Map,this.cellValidations=new Ab,this.rowValidations=new jb,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;let n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;let n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){let t=e.pinnedSibling;if(t)return this.getEditRow(t)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;let n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return;let a=Object.assign({},e.data),o=(e,t)=>e.forEach(({pendingValue:e},n)=>{e!==Lb&&(t[n.getColId()]=e)});return n&&o(n,a),i&&o(i,a),a}getEdit(e,t){let n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;let t=new Map;return this.edits.forEach((e,n)=>{let r=new Map;e.forEach(({editorState:e,...t},n)=>r.set(n,{...t})),t.set(n,r)}),t}setEditMap(e){this.edits.clear(),e.forEach((e,t)=>{let n=new Map;e.forEach((e,t)=>n.set(t,{...e})),this.edits.set(t,n)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);let n=this._getEdit(e),r=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...n,...t});return this.getEditRow(e.rowNode).set(e.column,r),r}clearEditValue(e){let{rowNode:t,column:n}=e;if(t)if(n){let t=this._getEdit(e);t&&(t.editorValue=void 0,t.pendingValue=t.sourceValue,t.state=`changed`)}else this.getEditRow(t)?.forEach(e=>{e.editorValue=void 0,e.pendingValue=e.sourceValue,e.state=`changed`})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];let t=[];return(e??this.edits).forEach((e,n)=>{for(let r of e.keys()){let{editorState:i,...a}=e.get(r);t.push({rowNode:n,column:r,...a})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;let{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){let a=this.getEditRow(n,t);return a?r?i?this.getEdit(e)?.state===`editing`:a.has(r)??!1:a.size===0?!1:i?Array.from(a.values()).some(({state:e})=>e===`editing`):!0:!1}return i?this.getEditPositions().some(({state:e})=>e===`editing`):this.edits.size>0}start(e){let t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:Lb,sourceValue:this.beans.valueSvc.getValue(r,n,!1,`api`),state:`editing`,editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(let e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},Ab=class{constructor(){this.cellValidations=new Map}getCellValidation(e){let{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){let{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){let{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},jb=class{constructor(){this.rowValidations=new Map}getRowValidation(e){let{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Mb(e,t={}){let{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:a}=t;if(i)return i;let{rowModel:o,rowRenderer:s}=e,{rowNode:c}=t;return c||(r?c=bm(e,r,a):n!=null&&(c=o.getRow(n))),s.getRowCtrls(c?[c]:[])?.[0]}function Nb(e,t={}){let{cellCtrl:n,colId:r,columnId:i,column:a}=t;if(n)return n;let o=e.colModel.getCol(r??i??Ib(a)),s=t.rowCtrl??Mb(e,t),c=s?.getCellCtrl(o)??void 0;if(c)return c;let l=t.rowNode??s?.rowNode;if(l)return e.rowRenderer.getCellCtrls([l],[o])?.[0]}function Pb(e){let{editSvc:t}=e;t?.isBatchEditing()?(Jb(e,{persist:!0}),Qb(e)):t?.stopEditing(void 0,{source:`api`})}function Fb(e,t,n){let{gos:r,popupSvc:i}=t;if(!r.get(`stopEditingWhenCellsLoseFocus`))return;let a=e=>{let a=e.relatedTarget;if(bl(a)===null){Pb(t);return}let o=n.some(e=>e.contains(a))&&r.isElementInThisInstance(a);o||=!!i&&(i.getActivePopups().some(e=>e.contains(a))||i.isElementWithinCustomPopup(a)),o||Pb(t)};for(let t of n)e.addManagedElementListeners(t,{focusout:a})}function Ib(e){if(e)return typeof e==`string`?e:e.getColId()}var Lb=Symbol(`unedited`);function Rb(e,t={}){let n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(let e of r){let t=e.comp?.getCellEditor();t&&n.push({ctrl:e,editor:$c(t)})}return n}var zb=(e,t={})=>Rb(e,t).map(e=>e.editor);function Bb(e,t,n,r,i,a){t.length===0&&n?.rowNode&&n?.column&&Hb(e,n,{key:r,event:i,cellStartedEdit:a});let{valueSvc:o,editSvc:s,editModelSvc:c}=e,{rowNode:l,column:u}=n??{};for(let d of t){let{rowNode:t,column:f}=d,p=Nb(e,d);if(!p){if(t&&f){let i=o.getValue(f,t,void 0,`api`),a=(n?.rowNode===t&&n?.column===f&&r||void 0)??s?.getCellDataValue(d,!1)??o.getValueForDisplay({column:f,node:t})?.value??i??Lb;c?.setEdit(d,{pendingValue:Xb(e,a,!1,f),sourceValue:i,state:`editing`})}continue}let m=a&&l===p.rowNode&&p.column===u;Hb(e,{rowNode:l,column:p.column},{key:m?r:null,event:m?i:null,cellStartedEdit:m&&a})}}function Vb({pendingValue:e,sourceValue:t}){return e===Lb&&(e=t),e!==t}function Hb(e,t,n){let{key:r,event:i,cellStartedEdit:a,silent:o}=n??{},{editModelSvc:s,editSvc:c,gos:l,userCompFactory:u}=e,d=Nb(e,t),f=d?.comp?.getCellEditor(),p=Wb(e,t,r,a&&!o),m=t.column.isAllowFormula(),h=s?.getEdit(t),g=p.value??h?.sourceValue;if(f){s?.setEdit(t,{editorValue:Xb(e,g,!0,t.column),state:`editing`}),f.refresh?.(p);return}let _=t.column.getColDef(),v=Kc(u,m?{..._,cellEditor:`agTextCellEditor`}:_,p);if(!v)return;let{popupFromSelector:y,popupPositionFromSelector:b}=v,x=y??!!_.cellEditorPopup,S=b??_.cellEditorPopupPosition;if(qb(v.params,i),!d)return;let{rangeFeature:C,rowCtrl:w,comp:T,onEditorAttachedFuncs:E}=d;s?.setEdit(t,{editorValue:Xb(e,g,!0,t.column),state:`editing`}),d.editCompDetails=v,E.push(()=>C?.unsetComp()),T?.setEditDetails(v,x,S,l.get(`reactiveCustomComponents`)),w?.refreshRow({suppressFlash:!0});let ee=s?.getEdit(t,!0);!o&&!ee?.editorState?.cellStartedEditing&&(c?.dispatchCellEvent(t,i,`cellEditingStarted`,{value:g}),s?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}function Ub(e,t,n){let r={editorValueExists:!1};if(nx(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return r;if(n?.isStopping){let e=t?.isCancelAfterEnd?.();if(e)return{...r,isCancelAfterEnd:e}}return{editorValue:t.getValue(),editorValueExists:!0}}function Wb(e,t,n,r){let{valueSvc:i,gos:a,editSvc:o}=e,s=e.gos.get(`enableGroupEdit`),c=Nb(e,t),l=t.rowNode?.rowIndex??void 0,u=o?.isBatchEditing(),d=e.colModel.getCol(t.column.getId()),{rowNode:f,column:p}=t,m=c.comp?.getCellEditor(),h=o?.getCellDataValue(t,!1),g=h===void 0?m?Ub(e,m)?.editorValue:void 0:h,_=g===Lb?i.getValueForDisplay({column:d,node:f})?.value:g,v=s?g:_;return p.isAllowFormula()&&e.formula?.isFormula(v)&&(v=e.formula?.normaliseFormula(v,!0)??v),H(a,{value:v,eventKey:n??null,column:p,colDef:p.getColDef(),rowIndex:l,node:f,data:f.data,cellStartedEdit:r??!1,onKeyDown:c?.onKeyDown.bind(c),stopEditing:n=>{o.stopEditing(t,{source:u?`ui`:`api`,suppressNavigateAfterEdit:n}),$b(e,t)},eGridCell:c?.eGui,parseValue:e=>i.parseValue(d,f,e,c?.value),formatValue:c?.formatValue.bind(c),validate:()=>{o?.validateEdit()}})}function Gb(e,t){let{editModelSvc:n}=e;n?.getEditMap().forEach((e,r)=>{e.forEach((e,i)=>{!t&&(e.state===`editing`||e.pendingValue===Lb)||!Vb(e)&&(e.state!==`editing`||t)&&n?.removeEdits({rowNode:r,column:i})})})}function Kb(e,t){let n=t.comp?.getCellEditor();if(!n?.refresh)return;let{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:a}=t,o=Wb(e,t,r,i),s=a.getColDef(),c=Kc(e.userCompFactory,s,o);n.refresh(qb(c.params,r))}function qb(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor===`agNumberCellEditor`?e.suppressPreventDefault=[`-`,`+`,`.`,`e`].includes(t?.key??``)||e.suppressPreventDefault:t?.preventDefault?.(),e}function Jb(e,t){for(let n of e.editModelSvc?.getEditPositions()??[]){let r=Nb(e,n);if(!r)continue;let i=r.comp?.getCellEditor();if(!i)continue;let{editorValue:a,editorValueExists:o,isCancelAfterEnd:s}=Ub(e,i,t);s&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:s}}),Yb(e,n,a,void 0,!o,t)}}function Yb(e,t,n,r,i,a){let{editModelSvc:o,valueSvc:s}=e;if(!o)return;let{rowNode:c,column:l}=t;if(!(c&&l))return;let u=o.getEdit(t,!0);if(!u?.sourceValue){let n={sourceValue:s.getValue(l,c,void 0,`api`),pendingValue:u?Xb(e,u.editorValue,!1,l):Lb};a?.persist&&(n.state=`changed`),u=o.setEdit(t,n)}o.setEdit(t,{editorValue:i?Xb(e,u.sourceValue,!0,l):n}),a?.persist&&Zb(e,t)}function Xb(e,t,n,r){let{formula:i}=e;return r.isAllowFormula()&&i?.isFormula(t)?i?.normaliseFormula(t,n)??t:t}function Zb(e,t){let{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:Xb(e,r?.editorValue,!1,t.column)})}function Qb(e,t,n){t||=e.editModelSvc?.getEditPositions();for(let r of t??[])$b(e,r,n)}function $b(e,t,n){let r=e.gos.get(`enableGroupEdit`),{editModelSvc:i}=e,a=Nb(e,t),o=i?.getEdit(t,!0);if(!a){o&&i?.setEdit(t,{state:`changed`});return}let{comp:s}=a;if(s&&!s.getCellEditor()){a?.refreshCell(),o&&(i?.setEdit(t,{state:`changed`}),tx(e,t,r?ex(n,o):{valueChanged:!1,newValue:void 0,oldValue:o.sourceValue},n));return}if(nx(e)){let e=s?.getCellEditor()?.getValidationErrors?.(),n=i?.getCellValidationModel();e?.length?n?.setCellValidation(t,{errorMessages:e}):n?.clearCellValidation(t)}i?.setEdit(t,{state:`changed`}),s?.setEditDetails(),s?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});let c=i?.getEdit(t);c&&c.state===`changed`&&tx(e,t,r?ex(n,c):{valueChanged:Vb(c)&&!n?.cancel,newValue:n?.cancel||c.editorState.isCancelAfterEnd?void 0:c?.editorValue??o?.pendingValue,oldValue:c?.sourceValue},n)}function ex(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:Vb(t),oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function tx(e,t,n,{silent:r,event:i}={}){let{editSvc:a,editModelSvc:o}=e,{editorState:s}=o?.getEdit(t)||{},{isCancelBeforeStart:c}=s||{};!r&&!c&&(a?.dispatchCellEvent(t,i,`cellEditingStopped`,n),o?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function nx(e){let{gos:t,colModel:n}=e,r=!!t.get(`getFullRowEditValidationErrors`),i=n.getColumnDefs()?.filter(e=>e.editable).some(({cellEditorParams:e})=>{let{minLength:t,maxLength:n,getValidationErrors:r,min:i,max:a}=e||{};return t!==void 0||n!==void 0||r!==void 0||i!==void 0||a!==void 0}),a=e.gridApi.getCellEditorInstances().some(e=>e.getValidationElement||e.getValidationErrors);return i||r||a}function rx(e,t){if(!(t||nx(e)))return;let n=Rb(e),r=new Ab,{ariaAnnounce:i,localeSvc:a,editModelSvc:o,gos:s}=e,c=s.get(`editType`)===`fullRow`,l=Li(a)(`ariaValidationErrorPrefix`,`Cell Editor Validation`);for(let e of n){let{ctrl:t,editor:n}=e,{rowNode:a,column:o}=t,s=n.getValidationErrors?.()??[],c=n.getValidationElement?.(!1)||!n.isPopup?.()&&t.eGui;if(c){let e=s!=null&&s.length>0,t=e?s.join(`. `):``;xr(c,e),e&&i.announceValue(`${l} ${s}`,`editorValidation`),c instanceof HTMLInputElement?c.setCustomValidity(t):c.classList.toggle(`invalid`,e)}s?.length>0&&r.setCellValidation({rowNode:a,column:o},{errorMessages:s})}Jb(e,{persist:!1}),o?.setCellValidationModel(r);let u=new Set;for(let{ctrl:e}of n)u.add(e.rowCtrl);if(c){let t=ix(e);o?.setRowValidationModel(t)}for(let e of u.values()){e.rowEditStyleFeature?.applyRowStyles();for(let t of e.getAllCellCtrls())t.tooltipFeature?.refreshTooltip(!0),t.editorTooltipFeature?.refreshTooltip(!0),t.editStyleFeature?.applyCellStyles?.()}}var ix=e=>{let t=new jb,n=e.gos.get(`getFullRowEditValidationErrors`),r=e.editModelSvc?.getEditMap();if(!r)return t;for(let e of r.keys()){let i=r.get(e);if(!i)continue;let a=[],{rowIndex:o,rowPinned:s}=e;for(let e of i.keys()){let t=i.get(e);if(!t)continue;let{editorValue:n,pendingValue:r,sourceValue:c}=t,l=n??(r===Lb?void 0:r)??c;a.push({column:e,colId:e.getColId(),rowIndex:o,rowPinned:s,oldValue:c,newValue:l})}let c=n?.({editorsState:a})??[];c.length>0&&t.setRowValidation({rowNode:e},{errorMessages:c})}return t};function ax(e){rx(e,!0);let t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;let n=[];return t.forEach((e,t)=>{e.forEach(({errorMessages:e},r)=>{n.push({column:r,rowIndex:t.rowIndex,rowPinned:t.rowPinned,messages:e??null})})}),n}function ox(e,t,n,{rowNode:r,column:i},a){return H(e.gos,{type:n,node:r,data:r.data,value:a,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function sx(e,t=!1){return e===G.DELETE?!0:!t&&e===G.BACKSPACE?vl():!1}var cx=class extends L{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case G.ENTER:this.onEnterKeyDown(e);break;case G.F2:this.onF2KeyDown(e);break;case G.ESCAPE:this.onEscapeKeyDown(e);break;case G.TAB:this.onTabKeyDown(e);break;case G.BACKSPACE:case G.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case G.DOWN:case G.UP:case G.RIGHT:case G.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){let{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:n}=this.beans;if(!t)return;let r=t.extendLatestRangeInDirection(e);r&&(e.key===G.LEFT||e.key===G.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:n,beans:r,rowNode:i}=this,{gos:a,rangeSvc:o,eventSvc:s,editSvc:c}=r;if(s.dispatchEvent({type:`keyShortcutChangedCellStart`}),sx(e,a.get(`enableCellEditingOnBackspace`))&&!c?.isEditing(n,{withOpenEditor:!0})){if(o&&So(a))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:`deleteKey`});else if(n.isCellEditable()){let{column:e}=n,t=this.beans.valueSvc.getDeleteValue(e,i);i.setDataValue(e,t,`cellClear`)}}else c?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});s.dispatchEvent({type:`keyShortcutChangedCellEnd`})}onEnterKeyDown(e){let{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,a=r?.isEditing(t,{withOpenEditor:!0}),o=t.rowNode,s=r?.isRowEditing(o,{withOpenEditor:!0}),c=t=>{r?.startEditing(t,{startedEdit:!0,event:e,source:`edit`})&&e.preventDefault()};if(a||s){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(rx(n),r?.checkNavWithValidation(void 0,e)===`block-stop`)return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e,source:`edit`}):s&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e,source:`edit`}):c(t)}else if(n.gos.get(`enterNavigatesVertically`)){let n=e.shiftKey?G.UP:G.DOWN;i?.navigateToNextCell(null,n,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),c(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===G.ENTER}onF2KeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(rx(this.beans),n?.checkNavWithValidation(void 0,e)===`block-stop`)||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)===`block-stop`&&n.revertSingleCellEdit(t),setTimeout(()=>{n?.stopEditing(t,{event:e,cancel:!0})})}processCharacter(e){let t=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:r}=this;if(!t&&!n?.isEditing(r,{withOpenEditor:!0})){if(e.key===G.SPACE)this.onSpaceKeyDown(e);else if(n?.isCellEditable(r,`ui`)){if(n?.hasValidationErrors()&&!n?.hasValidationErrors(r))return;n?.startEditing(r,{startedEdit:!0,event:e,source:`api`}),r.editCompDetails?.params?.suppressPreventDefault||e.preventDefault()}}}onSpaceKeyDown(e){let{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Za(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,`spaceKey`),e.preventDefault()}},lx=class extends L{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Xf(t))switch(e){case`click`:this.onCellClicked(t);break;case`mousedown`:case`touchstart`:this.onMouseDown(t);break;case`dblclick`:this.onCellDoubleClicked(t);break;case`mouseout`:this.onMouseOut(t);break;case`mouseover`:this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:a,gos:o}=this.beans,s=e.ctrlKey||e.metaKey,{cellCtrl:c}=this,{column:l,cellPosition:u,rowNode:d}=c,f=fp(o,l,d,e);n&&s&&!f&&n.getCellRangeCount(u)>1&&n.intersectLastRange(!0);let p=c.createEvent(e,`cellClicked`);p.isEventHandlingSuppressed=f,t.dispatchEvent(p);let m=l.getColDef();if(m.onCellClicked&&window.setTimeout(()=>{a.wrapOutgoing(()=>{m.onCellClicked(p)})},0),!f&&i?.getState(c)!==`editing`){let t=r?.isEditing(),n=i?.getCellValidationModel().getCellValidationMap().size??0,a=i?.getRowValidationModel().getRowValidationMap().size??0;if(t&&(n>0||a>0))return;r?.shouldStartEditing(c,e)?r?.startEditing(c,{event:e}):r?.shouldStopEditing(c,e)&&(this.beans.gos.get(`editType`)===`fullRow`?r?.stopEditing(c,{event:e,source:`edit`}):r?.stopEditing(void 0,{event:e,source:`edit`}))}}onCellDoubleClicked(e){let{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:a,editSvc:o,editModelSvc:s,gos:c}=n,l=fp(c,r.column,r.rowNode,e),u=t.getColDef(),d=r.createEvent(e,`cellDoubleClicked`);if(d.isEventHandlingSuppressed=l,i.dispatchEvent(d),typeof u.onCellDoubleClicked==`function`&&window.setTimeout(()=>{a.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),!l&&o?.shouldStartEditing(r,e)&&s?.getState(r)!==`editing`){let t=o?.isEditing(),n=s?.getCellValidationModel().getCellValidationMap().size??0,i=s?.getRowValidationModel().getRowValidationMap().size??0;if(t&&(n>0||i>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){let{shiftKey:t}=e,n=e.target,{cellCtrl:r,beans:i}=this,{eventSvc:a,rangeSvc:o,rowNumbersSvc:s,focusSvc:c,gos:l,editSvc:u}=i,{column:d,rowNode:f,cellPosition:p}=r,m=fp(l,d,f,e),h=()=>{let t=r.createEvent(e,`cellMouseDown`);t.isEventHandlingSuppressed=m,a.dispatchEvent(t)};if(m){h();return}if(this.isRightClickInExistingRange(e))return;let g=o&&!o.isEmpty(),_=this.containsWidget(n),v=bs(d);if(!(s&&v&&!s.handleMouseDownOnCell(p,e))){if(!t||!g){let t=u?.isEditing(r),i=l.get(`enableCellTextSelection`)&&e.defaultPrevented,a=(gl()||i)&&!t&&!Hr(n)&&!_;r.focusCell(a,e)}if(t&&g&&!c.isCellFocused(p)){e.preventDefault();let t=c.getFocusedCell();if(t){let{column:n,rowIndex:r,rowPinned:i}=t;u?.isEditing(t)&&u?.stopEditing(t),c.setFocusedCell({column:n,rowIndex:r,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}_||(o?.handleCellMouseDown(e,p),h())}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=Uo(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return Gr(e,`ag-selection-checkbox`,3)||Gr(e,`ag-drag-handle`,3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,`cellMouseOut`)),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,`cellMouseOver`)),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},ux=class extends L{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){let t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();ls(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let t=e,i=e.getPinned();for(let e=0;t&&e<n&&(r.push(t),t=this.beans.visibleCols.getColAfter(t),!(!t||Kn(t)||i!==t.getPinned()));e++);}return r}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+`px`}getCellLeft(){let e;return e=this.beans.gos.get(`enableRtl`)&&this.colsSpanning?U(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()===`left`)return e;let{visibleCols:t}=this.beans,n=t.getColsLeftWidth();return this.column.getPinned()===`right`?n+t.bodyWidth+(e||0):n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let t=ro(this.beans)*this.rowSpan;this.eContent.style.height=`${t}px`,this.eContent.style.zIndex=`1`}destroy(){super.destroy()}},dx=`ag-cell`,fx=`ag-cell-auto-height`,px=`ag-cell-normal-height`,mx=`ag-cell-focus`,hx=`ag-cell-first-right-pinned`,gx=`ag-cell-last-left-pinned`,_x=`ag-cell-not-inline-editing`,vx=`ag-cell-wrap-text`,yx=0,bx=class extends L{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.formulaTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;let{colId:i}=e;this.instanceId=i+`-`+ yx++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new ux(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this),this.mouseListener=new lx(this,e,this.column),this.keyboardListener=new cx(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature(),this.enableFormulaTooltipFeature();let{rangeSvc:t}=e;t&&So(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(this)),bs(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature(),this.disableFormulaTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}enableFormulaTooltipFeature(){this.formulaTooltipFeature=this.beans.tooltipSvc?.setupFormulaTooltip(this)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}disableFormulaTooltipFeature(){this.formulaTooltipFeature=this.beans.context.destroyBean(this.formulaTooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),rx(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,a,o){if(this.comp=e,this.eGui=t,this.printLayout=i,o??=this,this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get(`suppressCellFocus`)),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.checkFormulaError(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),a&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:`api`,silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(let e of this.onCompAttachedFuncs)e();this.onCompAttachedFuncs=[]}}checkFormulaError(){let e=!!this.beans.formula?.getFormulaError(this.column,this.rowNode);this.eGui.classList.toggle(`formula-error`,e),this.formulaTooltipFeature?.refreshTooltip(),e?this.disableTooltipFeature():this.enableTooltipFeature()}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??`gridcell`}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){let{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,a=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;let s=Gc(n,a,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let e,t=new W(t=>{e=t}),[n]=this.addManagedListeners(i,{bodyScrollEnd:()=>{e(),n()}});return{loadingComp:s,onReady:t}}return{loadingComp:s,onReady:W.resolve()}}showValue(e,t){let{beans:n,column:r,rowNode:i,rangeFeature:a}=this,{userCompFactory:o}=n,s=this.getValueToDisplay(),c,l=i.stub&&i.groupData?.[r.getId()]==null,u=r.getColDef();if(l||this.isCellRenderer()){let e=this.createCellRendererParams();c=!l||bs(r)?Wc(o,u,e):Gc(o,u,e)}if(!c&&!l&&n.findSvc?.isMatch(i,r)){let e=this.createCellRendererParams();c=Wc(o,{...r.getColDef(),cellRenderer:`agFindCellRenderer`},e)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){let e=this.editSvc.prepDetailsDuringBatch(this,{compDetails:c,valueToDisplay:s});e&&(e.compDetails?c=e.compDetails:e.valueToDisplay&&(s=e.valueToDisplay))}this.comp.setRenderDetails(c,s,e),this.customRowDragComp?.refreshVisibility(),!t&&a&&hi(n,()=>a?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get(`enableCellTextSelection`)||this.column.isAutoHeight()}getCellValueClass(){let e=this.column.getColDef().cellRenderer===`agCheckboxCellRenderer`,t=``;return e&&(t=` ag-allow-overflow`),`ag-cell-value${t}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Hh(this.rowNode))&&!!e}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=yo(t),i=ys(this.column);return n===`custom`&&r!==`selectionColumn`&&i?!1:e.checkboxSelection||i&&typeof t==`object`&&_o(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){let{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?`ui`:`api`})}stopEditing(e=!1){let{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?`ui`:`api`})??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:a,beans:{valueSvc:o,gos:s,editSvc:c}}=this;return H(s,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay({column:n,node:r}).value,setValue:e=>c?.setDataValue({rowNode:r,column:n},e)||r.setDataValue(n,e),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:a,eParentOfValue:i.getParentOfValue(),registerRowDragger:(e,t,n,r)=>this.registerRowDragger(e,t,r),setTooltip:(e,t)=>{s.assertModuleRegistered(`Tooltip`,3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){let{editSvc:e,comp:t}=this;!t?.getCellEditor()&&e.isEditing(this,{withOpenEditor:!0})&&e.startEditing(this,{startedEdit:!1,source:`api`,silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){let{editStyleFeature:r,customStyleFeature:i,rowCtrl:{rowEditStyleFeature:a},beans:{cellFlashSvc:o,filterManager:s},column:c,comp:l,suppressRefreshCell:u,tooltipFeature:d}=this;if(u)return;let{field:f,valueGetter:p,showRowGroup:m,enableCellChangeFlash:h}=c.getColDef(),g=e||f==null&&p==null&&m==null||n,_=!!l,v=this.updateAndFormatValue(_),y=g||v;if(_){if(y){this.showValue(!!n,!1);let e=s?.isSuppressFlashingCellsBecauseFiltering();!t&&!e&&h&&o?.flashCell(this),r?.applyCellStyles?.(),i?.applyUserStyles(),i?.applyClassesFromColDef(),a?.applyRowStyles(),this.checkFormulaError()}d?.refreshTooltip(),i?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay({column:this.column,node:this.rowNode,includeValueFormatted:!0});return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){let n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){let t=this.eGui;oo(this.beans.gos,t,gp,this),e.addDestroyFunc(()=>oo(this.beans.gos,t,gp,null))}createEvent(e,t){let{rowNode:n,column:r,value:i,beans:a}=this;return ox(a,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:n}=this;lm(e,t,n.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);jr(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){let n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){let{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;let i=()=>{if(!this.isAlive())return;let e=r.getFocusableElement();this.isCellFocused()&&e.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(bs(this.column)&&(e=!0),pi(t,`tabindex`,e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.toggleCss(hx,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.toggleCss(gx,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||=e,e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(Om(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(mx,n),n&&e?.forceBrowserFocus){let t=this.comp.getFocusableElement();if(r){let e=Ml(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Gn(t),column:this.column}}applyStaticCssClasses(){let{comp:e}=this;e.toggleCss(dx,!0),e.toggleCss(_x,!0);let t=this.column.isAutoHeight()==1;e.toggleCss(fx,t),e.toggleCss(px,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==1;this.comp.toggleCss(vx,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),n=this.createEvent(e,`cellContextMenu`),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(nr(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean(`dndSourceComp`,!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}),r.refreshVisibility())}createRowDragComp(e,t,n){let r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){for(let e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function xx(e,t,n,r,i,a){if(n==null&&t==null)return;let o={},s={},c=(e,t)=>{for(let n of e.split(` `))n.trim()!=``&&t(n)};if(n){let t=Object.keys(n);for(let i=0;i<t.length;i++){let a=t[i],l=n[a],u;typeof l==`string`?u=e?e.evaluate(l,r):!0:typeof l==`function`&&(u=l(r)),c(a,e=>{u?o[e]=!0:s[e]=!0})}}if(t&&a)for(let e of Object.keys(t))c(e,e=>{o[e]||(s[e]=!0)});a&&Object.keys(s).forEach(a),Object.keys(o).forEach(i)}function Sx(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var Cx=class extends L{constructor(){super(...arguments),this.beanName=`rowStyleSvc`}processClassesFromGridOptions(e,t){let n=this.gos,r=t=>{if(typeof t==`string`)e.push(t);else if(Array.isArray(t))for(let n of t)e.push(n)},i=n.get(`rowClass`);i&&r(i);let a=n.getCallback(`getRowClass`);a&&r(a({data:t.data,node:t,rowIndex:t.rowIndex}))}preProcessRowClassRules(e,t){this.processRowClassRules(t,t=>{e.push(t)},()=>{})}processRowClassRules(e,t,n){let{gos:r,expressionSvc:i}=this.beans,a=H(r,{data:e.data,node:e,rowIndex:e.rowIndex});xx(i,void 0,r.get(`rowClassRules`),a,t,n)}processStylesFromGridOptions(e){let t=this.gos,n=t.get(`rowStyle`),r=t.getCallback(`getRowStyle`),i;if(r&&(i=r({data:e.data,node:e,rowIndex:e.rowIndex})),i||n)return Object.assign({},n,i)}},wx=0,Tx=class extends L{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get(`suppressRowTransform`),this.instanceId=e.id+`-`+ wx++,this.rowId=$n(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Sx(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get(`getBusinessKeyForNode`),this.updateRowBusinessKey()}updateRowBusinessKey(){typeof this.businessKeyForNodeFunc==`function`&&(this.businessKey=$n(this.businessKeyForNodeFunc(this.rowNode)))}updateGui(e,t){e===`left`?this.leftGui=t:e===`right`?this.rightGui=t:e===`fullWidth`?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){let{context:i,focusSvc:a}=this.beans;r=cc(this,i,r);let o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);let s=this.rowNode,c=this.rowType===`FullWidthLoading`||s.stub,l=!s.data&&this.beans.rowModel.getType()===`infinite`;!c&&!l&&!s.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let u=this.fullWidthGui?.element;u&&!this.beans.editSvc?.isEditing(this)&&a.isRowFocused(s.rowIndex,s.rowPinned)&&a.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType===`FullWidthDetail`&&this.gos.get(`keepDetailRows`)}setCached(e){let t=e?`none`:``;for(let e of this.allRowGuis)e.element.style.display=t}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get(`suppressCellFocus`)),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Za(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=e.rowComp,r=this.getInitialRowClasses(e.containerType);for(let e of r)n.toggleCss(e,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&wr(e.element,this.rowNode.expanded==1),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),oo(t,e.element,vp,this),e.compBean.addDestroyFunc(()=>oo(t,e.element,vp,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,`p2`,!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get(`rowDragEntireRow`)&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss(`ag-after-created`,!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=$n(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(qi(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(qi(()=>{e.rowComp.toggleCss(`ag-opacity-zero`,!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(e=>e!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get(`embedFullWidthRows`)?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback(`processRowPostCreate`);!e||!this.areAllContainersReady()||e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),a=!!t,o=!!n||!r.isPinningRight();return i&&a&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback(`isFullWidthRow`);return e?e({rowNode:this.rowNode}):!1}setRowType(){let{rowNode:e,gos:t,beans:{colModel:n}}=this,r=e.stub&&!t.get(`suppressServerSideFullWidthLoadingRow`)&&!t.get(`groupHideOpenParents`),i=this.isNodeFullWidthCell(),a=t.get(`masterDetail`)&&e.detail,o=po(t,e,n.isPivotMode());r?this.rowType=`FullWidthLoading`:a?this.rowType=`FullWidthDetail`:i?this.rowType=`FullWidth`:o?this.rowType=`FullWidthGroup`:this.rowType=`Normal`}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||=(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,`p1`,!1),!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new bx(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){let r={list:[],map:{}},i=(e,t,n)=>{n==null?r.list.push(t):r.list.splice(n,0,t),r.map[e]=t},a=[];for(let n of t){let t=n.getInstanceId(),r=e.map[t];r&&!this.isCorrectCtrlForSpan(r)&&(r.destroy(),r=void 0),r||=this.getNewCellCtrl(n),r&&i(t,r)}for(let t of e.list){let e=t.column.getInstanceId();r.map[e]??(this.isCellEligibleToBeRemoved(t,n)?t.destroy():a.push([e,t]))}if(a.length)for(let[e,t]of a){let n=r.list.findIndex(e=>e.column.getLeft()>t.column.getLeft());i(e,t,n===-1?void 0:Math.max(n-1,0))}let{focusSvc:o,visibleCols:s}=this.beans,c=o.getFocusedCell();if(c&&c.column.getPinned()==n){let e=c.column.getInstanceId();if(!r.map[e]&&s.allCols.includes(c.column)){let t=this.createFocusedCellCtrl();if(t){let n=r.list.findIndex(e=>e.column.getLeft()>t.column.getLeft());i(e,t,n===-1?void 0:Math.max(n-1,0))}}}return r}createFocusedCellCtrl(){let{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;let r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(let t of this.allRowGuis){let n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case`left`:return this.leftCellCtrls.list;case`right`:return this.rightCellCtrls.list;case`fullWidth`:return[];case`center`:return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,`left`);let i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,`right`)}}isCellEligibleToBeRemoved(e,t){let{column:n}=e;if(n.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;let{visibleCols:r,editSvc:i}=this.beans,a=i?.isEditing(e),o=e.isCellFocused();return a||o?!(r.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get(`ensureDomOrder`)||Xa(this.gos,`print`)}listenOnDomOrder(e){e.compBean.addManagedPropertyListeners([`domLayout`,`ensureDomOrder`],()=>{e.rowComp.setDomOrder(this.getDomOrder())})}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=P(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){let{slideInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get(`embedFullWidthRows`)){e.fullWidth=!0;return}e.center=!0,e.left=r,e.right=i}else{let{fadeInAnimation:e}=this;if(this.isFullWidth()&&!this.gos.get(`embedFullWidthRows`)){e.fullWidth=!0;return}e.center=!0,e.left=r,e.right=i}}isFullWidth(){return this.rowType!==`Normal`}refreshFullWidth(){let e=(e,t)=>e?e.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(e.element,t).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,`left`),i=e(this.rightGui,`right`);return t&&n&&r&&i}addListeners(){let{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:a,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:e})=>{e&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,a),this.tooltipFeature=this.destroyBean(this.tooltipFeature,a),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,a)}),this.addManagedPropertyListeners([`rowStyle`,`getRowStyle`,`rowClass`,`getRowClass`,`rowClassRules`],this.postProcessCss.bind(this)),this.addManagedPropertyListener(`rowDragEntireRow`,()=>{if(t.get(`rowDragEntireRow`)){for(let e of this.allRowGuis)this.addRowDraggerToRow(e);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,a)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(let e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(let t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(let e of this.allRowGuis)e.rowComp.toggleCss(`ag-row-pinned-source`,!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(let t of this.getAllCellCtrls())t.refreshCell(e);for(let e of this.allRowGuis)this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:`none`,n=t===`above`,r=t===`inside`,i=t===`below`,a=t!==`none`,o=n||i,s=this.rowNode.uiLevel,c=o&&s>0,l=c?s.toString():`0`;for(let e of this.allRowGuis){let t=e.rowComp;t.toggleCss(`ag-row-highlight-above`,n),t.toggleCss(`ag-row-highlight-inside`,r),t.toggleCss(`ag-row-highlight-below`,i),t.toggleCss(`ag-row-highlight-indent`,c),a?e.element.style.setProperty(`--ag-row-highlight-level`,l):e.element.style.removeProperty(`--ag-row-highlight-level`)}}postProcessRowDragging(){let e=this.rowNode.dragging;for(let t of this.allRowGuis)t.rowComp.toggleCss(`ag-row-dragging`,e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Gn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:n,column:r}=t;if(n.element!==e.target)return;let i=this.rowNode,{focusSvc:a,navigation:o}=this.beans,s=a.getFocusedCell(),c={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:s?.column??r};o?.navigateToNextCell(e,e.key,c,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Xf(e))return;let t=this.allRowGuis.find(t=>t.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=nr(this.beans),a=!1;n&&i&&(a=n.contains(i)&&i.classList.contains(`ag-cell`));let o=null;!r&&!a&&(o=Pl(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(e=>ri(e.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:this.gos.get(`tabIndex`);for(let e of this.allRowGuis)pi(e.element,`tabindex`,t)}onFullWidthRowFocused(e){let t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{let t=this.beans.colModel.getCol(e?.column)?.pinned;r=t?t===`right`?this.rightGui?.element:this.leftGui?.element:this.centerGui?.element}r&&(r.classList.toggle(`ag-full-width-focus`,n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let n={list:[],map:{}};for(let r of e.list)r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r);return n}onMouseEvent(e,t){switch(e){case`dblclick`:this.onRowDblClick(t);break;case`click`:this.onRowClick(t);break;case`touchstart`:case`mousedown`:this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:n}=this;return H(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){let n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(Xf(e))return;let t=this.createRowEventWithSource(`rowDoubleClicked`,e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case`center`:return t.centerCols[0];case`left`:return t.leftCols[0];case`right`:return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Gr(e.target,`ag-row-drag`,3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;let{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();let r=this.findFullWidthInfoForEvent(e);if(!r)return;let{rowGui:i,column:a}=r,o=i.element,s=e.target,c=this.rowNode,l=e.defaultPrevented||gl();o&&o.contains(s)&&Hr(s)&&(l=!1),n.setFocusedCell({rowIndex:c.rowIndex,column:a,rowPinned:c.rowPinned,forceBrowserFocus:l})}isSuppressMouseEvent(e){let{gos:t,rowNode:n}=this;if(this.isFullWidth())return pp(t,this.findFullWidthRowGui(e.target)?.rowComp.getFullWidthCellRendererParams(),n,e);let r=_p(t,e.target);return r!=null&&fp(t,r.column,n,e)}onRowClick(e){if(Xf(e)||this.lastMouseDownOnDragger)return;let t=this.isSuppressMouseEvent(e),{eventSvc:n,selectionSvc:r}=this.beans,i=this.createRowEventWithSource(`rowClicked`,e);i.isEventHandlingSuppressed=t,n.dispatchEvent(i),!t&&r?.handleSelectionEvent(e,this.rowNode,`rowClicked`)}setupDetailRowAutoHeight(e){this.rowType===`FullWidthDetail`&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:n,rowNode:r}=this,i=H(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,n,r)=>this.addFullWidthRowDragging(e,t,n,r),setTooltip:(e,t)=>{n.assertModuleRegistered(`Tooltip`,3),this.setupFullWidthRowTooltip(e,t)}}),a=this.beans.userCompFactory;switch(this.rowType){case`FullWidthDetail`:return Uc(a,i);case`FullWidthGroup`:{let{value:e,valueFormatted:t}=this.beans.valueSvc.getValueForDisplay({node:this.rowNode,includeValueFormatted:!0});return i.value=e,i.valueFormatted=t,Hc(a,i)}case`FullWidthLoading`:return Vc(a,i);default:return Bc(a,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n=``,r){let{rowDragSvc:i,context:a}=this.beans;if(!i||!this.isFullWidth())return;let o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,a),this.addDestroyFunc(()=>{this.destroyBean(o,a)})}onUiLevelChanged(){let e=Sx(this.rowNode);if(this.rowLevel!=e){let t=`ag-row-level-`+e,n=`ag-row-level-`+this.rowLevel;for(let e of this.allRowGuis)e.rowComp.toggleCss(t,!0),e.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(let t of this.allRowGuis)t.rowComp.toggleCss(`ag-row-first`,e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(let e of this.allRowGuis)e.rowComp.toggleCss(`ag-row-last`,t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length)for(let t of e)for(let e of this.allRowGuis)e.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(let t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(let t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,e=>e.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e===`left`||e===`right`?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,a=[];a.push(`ag-row`),a.push(this.rowFocused?`ag-row-focus`:`ag-row-no-focus`),this.fadeInAnimation[e]&&a.push(`ag-opacity-zero`),a.push(r.rowIndex%2==0?`ag-row-even`:`ag-row-odd`),r.isRowPinned()&&(a.push(`ag-row-pinned`),i.pinnedRowModel?.isManual()&&a.push(`ag-row-pinned-manual`)),!r.isRowPinned()&&r.pinnedSibling&&a.push(`ag-row-pinned-source`),r.isSelected()&&a.push(`ag-row-selected`),r.footer&&a.push(`ag-row-footer`),a.push(`ag-row-level-`+this.rowLevel),r.stub&&a.push(`ag-row-loading`),n&&a.push(`ag-full-width-row`),i.expansionSvc?.addExpandedCss(a,r),r.dragging&&a.push(`ag-row-dragging`);let{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(a,r),o.preProcessRowClassRules(a,r)),a.push(this.printLayout?`ag-row-position-relative`:`ag-row-position-absolute`),this.isFirstRowOnPage()&&a.push(`ag-row-first`),this.isLastRowOnPage()&&a.push(`ag-row-last`),n&&(t===`left`&&a.push(`ag-cell-last-left-pinned`),t===`right`&&a.push(`ag-cell-first-right-pinned`)),a}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,e=>{(e===this.centerGui||e===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:a}=this;n.addManagedListeners(t,{pointerenter:e=>{e.pointerType===`mouse`&&r.dispatchRowEvent(`mouseEnter`)},pointerleave:e=>{e.pointerType===`mouse`&&r.dispatchRowEvent(`mouseLeave`)}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!a.get(`suppressRowHoverHighlight`)&&(t.classList.add(`ag-row-hover`),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(e=>e.element);for(let e of t)e.classList.remove(`ag-row-hover`);this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){if(e)t(e);else for(let e of this.allRowGuis)t(e)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=Qa(this.gos)?to(this.beans,this.rowNode).height:void 0,i=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,e=>{e.element.style.height=`${t}px`,i&&e.element.style.setProperty(`--ag-line-height`,i)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&so(this.gos)&&!t.sticky)if(t.rowTop!=null){let e=this.roundRowTopToBounds(t.rowTop);this.setRowTop(e)}else for(let e of this.allRowGuis)e.rowComp.toggleCss(`ag-opacity-zero`,!0);this.fullWidthGui?.element.contains(nr(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let n=this.createRowEvent(`virtualRowRemoved`);this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;let e=e=>{for(let t of e.list)t.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,e=>{e.rowComp.toggleCss(`ag-row-focus`,this.rowFocused),e.rowComp.toggleCss(`ag-row-no-focus`,!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.pageBounds.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&P(e)){let t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return``;let t=this.rowNode,n;if(t.sticky)n=t.stickyRowTop;else{let r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+`px`}setRowTopStyle(e){for(let t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(let t of this.getAllCellCtrls())t.column==e&&(n=t);if(n!=null||t)return n;for(let t of this.getAllCellCtrls())t?.getColSpanningList().indexOf(e)>=0&&(n=t);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2==0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,e=>{e.rowComp.setRowIndex(t),e.rowComp.toggleCss(`ag-row-even`,r),e.rowComp.toggleCss(`ag-row-odd`,!r),Or(e.element,i)})}},Ex=class extends L{constructor(){super(),this.beanName=`navigation`,this.onPageDown=Yi(this.onPageDown,100),this.onPageUp=Yi(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,a=!!this.beans.rangeSvc&&e.shiftKey,o=$p(this.gos,e),s=!1;switch(n){case G.PAGE_HOME:case G.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),s=!0);break;case G.LEFT:case G.RIGHT:case G.UP:case G.DOWN:if(!o)return!1;i&&!r&&!a&&(this.onCtrlUpDownLeftRight(n,o),s=!0);break;case G.PAGE_DOWN:case G.PAGE_UP:!i&&!r&&(s=this.handlePageUpDown(n,o,t));break}return s&&e.preventDefault(),s}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===G.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:a,rowPinned:o}){let{scrollFeature:s}=this.gridBodyCon;P(n)&&!n.isPinned()&&s.ensureColumnVisible(n),P(e)&&s.ensureIndexVisible(e,t),a||s.ensureIndexVisible(r);let{focusSvc:c,rangeSvc:l}=this.beans;c.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){let t=this.beans,n=Dx(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:a,rowAutoHeight:o}=t,s=i.getPixelOffset(),c=n.top+r,l=a.getRowIndexAtPixel(c+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)}onPageUp(e){let t=this.beans,n=Dx(t),{pageBounds:r,rowModel:i,rowAutoHeight:a}=t,o=r.getPixelOffset(),s=n.top,c=i.getRowIndexAtPixel(s+o);a?.active?this.navigateToNextPageWithAutoHeight(e,c,!0):this.navigateToNextPage(e,c,!0)}navigateToNextPage(e,t,n=!1){let{pageBounds:r,rowModel:i}=this.beans,a=this.getViewportHeight(),o=r.getFirstRow(),s=r.getLastRow(),c=r.getPixelOffset(),l=i.getRow(e.rowIndex),u=n?l?.rowHeight-a-c:a-c,d=l?.rowTop+u,f=i.getRowIndexAtPixel(d+c);if(f===e.rowIndex){let r=n?-1:1;t=f=e.rowIndex+r}let p;n?(p=`bottom`,f<o&&(f=o),t<o&&(t=o)):(p=`top`,f>s&&(f=s),t>s&&(t=s)),this.isRowTallerThanView(i.getRow(f))&&(t=f,p=`top`),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?`bottom`:`top`,scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?`bottom`:`top`,scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:a}=this.beans,o=i.getLastRow(),s=0,c=e.rowIndex;for(;c>=0&&c<=o;){let e=a.getRow(c);if(e){let t=e.rowHeight??0;if(s+t>r)break;s+=t}c+=n}return Math.max(0,Math.min(c,o))}getViewportHeight(){let e=this.beans,t=Dx(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth(),r=t.bottom-t.top;return e.ctrlsSvc.get(`center`).isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t==`number`?t>this.getViewportHeight():!1}onCtrlUpDownLeftRight(e,t){let n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i,column:a}=this.getNormalisedPosition(n)??n,o=a;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o,rowPinned:i})}onHomeOrEndKey(e){let t=e===G.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,a=n.allCols,o=t?r.getFirstRow():r.getLastRow(),s=i.getRow(o);if(!s)return;let c=(t?a:[...a].reverse()).find(e=>!e.isSuppressNavigable(s));c&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:c,focusIndex:o,focusColumn:c})}onTabKeyDown(e,t){let n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:a,pageBounds:o,focusSvc:s,gos:c}=i;if(r!==!1){r?t.preventDefault():r===null&&a.get(`gridCtrl`).allowFocusForNextCoreContainer(n);return}if(n){let{rowIndex:n,rowPinned:r}=e.getRowPosition();(r?n===0:n===o.getFirstRow())&&(c.get(`headerHeight`)===0||Dm(i)?km(i,!0,!0):(t.preventDefault(),s.focusPreviousFromFirstCell(t)))}else e instanceof bx&&e.focusCell(!0),(s.focusOverlay(!1)||km(i,n))&&t.preventDefault()}tabToNextCell(e,t){let n=this.beans,{focusSvc:r,rowRenderer:i}=n,a=r.getFocusedCell();if(!a)return!1;let o=ym(n,a);return!o&&(o=i.getRowByPosition(a),!o?.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,`api`)}tabToNextCellCommon(e,t,n,r=`ui`){let{editSvc:i,focusSvc:a}=this.beans,o,s=e instanceof bx?e:e.getAllCellCtrls()?.[0];return o=i?.isEditing()?i?.moveToNextCell(s,t,n,r):this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!a.focusedHeader}moveToNextCellNotEditing(e,t,n){let r=this.beans.visibleCols.allCols,i;if(e instanceof Tx){if(i={...e.getRowPosition(),column:t?r[0]:U(r)},this.gos.get(`embedFullWidthRows`)&&n){let t=e.findFullWidthInfoForEvent(n);t&&(i.column=t.column)}}else i=e.getFocusedCellPosition();let a=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(a===!1)return null;if(a instanceof bx)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a,t);return P(a)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e,a=this.beans,{cellNavigation:o,gos:s,focusSvc:c,rowRenderer:l,rangeSvc:u}=a;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);let d=s.getCallback(`tabToNextCell`);if(P(d)){let r=d({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(r===!0)i=e;else if(r===!1)return!1;else i={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}}if(!i)return null;if(i.rowIndex<0){let e=jm(a);return c.focusHeaderPosition({headerPosition:{headerRowIndex:e+i.rowIndex,column:i.column},fromCell:!0}),null}let f=s.get(`editType`)===`fullRow`;if(n&&(!f||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);let p=ym(a,i);if(!p){let e=l.getRowByPosition(i);if(!e||!e.isFullWidth()||n)continue;return{...e.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(p.column,p.rowNode))return p.setFocusedCellPosition(i),u?.setRangeToCell(i),p}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:n,rowModel:r}=this.beans;return t===`top`?n?.getPinnedTopRow(e):t===`bottom`?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,a=!1,o=this.beans,{cellNavigation:s,focusSvc:c,gos:l}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)l.get(`enableRtl`)?t===G.LEFT&&(i=this.getLastCellOfColSpan(i)):t===G.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=s.getNextCellToFocus(t,i),a=Kn(i);if(a&&e&&e.key===G.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){let r=l.getCallback(`navigateToNextCell`);if(P(r)){let a=r({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});i=P(a)?{rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}:null}}if(!i)return;if(i.rowIndex<0){let t=jm(o);c.focusHeaderPosition({headerPosition:{headerRowIndex:t+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let u=this.getNormalisedPosition(i);u?this.focusPosition(u):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let t=ym(this.beans,e);return t?(e=t.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:a}=this.beans,o=n.allCols;if(!r.getRowByPosition(e)?.isFullWidth())return!1;let s=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?U(o):o[0])};this.focusPosition(c);let l=t??(s!=null&&mm(c,s));return a.dispatchEvent({type:`fullWidthRowFocused`,rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:l}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!vm(this.beans,e)}getLastCellOfColSpan(e){let t=ym(this.beans,e);if(!t)return e;let n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:U(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=co(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&Kn(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){let t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function Dx(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Ox={moduleName:`KeyboardNavigation`,version:R,beans:[Ex,Sb,jy],apiFunctions:{getFocusedCell:Cb,clearFocusedCell:wb,setFocusedCell:Tb,setFocusedHeader:Ob,tabToNextCell:Eb,tabToPreviousCell:Db}},kx=class extends L{constructor(){super(...arguments),this.beanName=`pageBoundsListener`}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:`paginationChanged`,animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},Ax=class extends L{constructor(){super(...arguments),this.beanName=`pageBounds`,this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this;return{pageFirstPixel:e?.rowTop??0,pageLastPixel:t?t.rowTop+t.rowHeight:0}}calculateBounds(e,t){let{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;let i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:`paginationPixelOffsetChanged`}))}},jx=`.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}`,Mx=class extends L{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?`left`:`right`}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let n of this.elements)n&&(F(n,t),li(n,e))}},Nx={moduleName:`PinnedColumn`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`pinnedCols`}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener(`domLayout`,e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=Xa(e,`print`),i=r?0:t.getColsLeftWidth(),a=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:`leftPinnedWidthChanged`})),a!=this.rightWidth&&(this.rightWidth=a,n.dispatchEvent({type:`rightPinnedWidthChanged`}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=Jr(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback(`processUnpinnedColumns`),{columns:i,hasLockedPinned:a}=n,o=i;!o.length&&!a||(r&&(o=r({columns:o,viewportWidth:t})),o?.length&&(o=o.filter(e=>!bs(e)),this.setColsPinned(o,null,`viewportSizeFeature`)))}createPinnedWidthFeature(e,...t){return new Mx(e,t)}setColsPinned(e,t,n){let{colModel:r,colAnimation:i,visibleCols:a,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(Xa(o,`print`)){z(37);return}i?.start();let s;s=t===!0||t===`left`?`left`:t===`right`?`right`:null;let c=[];for(let t of e){if(!t)continue;let e=r.getCol(t);e&&e.getPinned()!==s&&(this.setColPinned(e,s),c.push(e))}c.length&&(a.refresh(n),Ks(this.eventSvc,c,n)),i?.finish()}initCol(e){let{pinned:t,initialPinned:n}=e.colDef;t===void 0?this.setColPinned(e,n):this.setColPinned(e,t)}setColPinned(e,t){t===!0||t===`left`?e.pinned=`left`:t===`right`?e.pinned=`right`:e.pinned=null,e.dispatchStateUpdatedEvent(`pinned`)}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let n=e.pinned===`left`,r=e.pinned===`right`;e.hidden=!0;let i=()=>{let i=n?this.leftWidth:this.rightWidth;if(i==null)return;let a=i==0,o=e.hidden!==a,s=this.gos.get(`enableRtl`),c=t.getScrollbarWidth(),l=t.verticalScrollShowing&&(s&&n||!s&&r)?i+c:i;e.comp.setPinnedContainerWidth(`${l}px`),e.comp.setDisplayed(!a),o&&(e.hidden=a,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:t,rightWidth:n}=this,r=Jr(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(t+n+e>r)if(r>t+n)e=r-t-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=(this.rightWidth??0)+(this.leftWidth??0),n=!1;if(t<e)return{columns:[],hasLockedPinned:n};let{visibleCols:r}=this.beans,i=[...r.leftCols],a=[...r.rightCols],o=0,s=0,c=[],l=t-0-e;for(;(s<i.length||o<a.length)&&l>0;){if(o<a.length){let e=a[o++];if(e.colDef.lockPinned){n=!0;continue}l-=e.getActualWidth(),c.push(e)}if(s<i.length&&l>0){let e=i[s++];if(e.colDef.lockPinned){n=!0;continue}l-=e.getActualWidth(),c.push(e)}}return{columns:c,hasLockedPinned:n}}}],css:[jx]},Px=class extends Bi{constructor(){super(),this.beanName=`ariaAnnounce`,this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement=``,this.updateAnnouncement=Ji(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=this.descriptionContainer=rr(e).createElement(`div`);t.classList.add(`ag-aria-description-container`),vr(t,`polite`),br(t,`additions text`),yr(t,!0),e.eRootDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(`. `);this.pendingAnnouncements.clear(),this.descriptionContainer.textContent=``,setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,``)==``){this.lastAnnouncement=``;return}this.lastAnnouncement===t&&(t=`${t}\u200B`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(ei(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},Fx={moduleName:`Aria`,version:R,beans:[class extends Px{}]},Ix=`:where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}`,Lx=`ag-delay-render`,Rx={moduleName:`ColumnDelayRender`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`colDelayRenderSvc`,this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||=(this.beans.ctrlsSvc.whenReady(this,e=>{e.gridBodyCtrl.eGridBody.classList.add(Lx)}),!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;let{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(Lx),this.alreadyRevealed=!0}}],css:[Ix]};function zx(e){e.overlays?.showLoadingOverlay()}function Bx(e){e.overlays?.showNoRowsOverlay()}function Vx(e){e.overlays?.hideOverlay()}var Hx=`.ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{pointer-events:all}.ag-overlay-exporting-center,.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);display:flex;padding:var(--ag-spacing)}`,Ux={tag:`div`,cls:`ag-overlay`,role:`presentation`,children:[{tag:`div`,cls:`ag-overlay-panel`,role:`presentation`,children:[{tag:`div`,ref:`eOverlayWrapper`,cls:`ag-overlay-wrapper`,role:`presentation`}]}]},Wx=class extends pc{constructor(){super(Ux),this.eOverlayWrapper=null,this.activeOverlay=null,this.activePromise=null,this.activeCssClass=null,this.elToFocusAfter=null,this.overlayExclusive=!1,this.oldWrapperPadding=null,this.registerCSS(Hx)}handleKeyDown(e){if(e.key!==G.TAB||e.defaultPrevented||Xf(e))return;let{beans:t,eOverlayWrapper:n}=this;if(n&&Pl(t,n,!1,e.shiftKey))return;let r=!1;r=e.shiftKey?t.focusSvc.focusGridView({column:U(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):km(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){let n=this.eOverlayWrapper;if(!n)return;let r=n.classList,{AUTO_HEIGHT:i,NORMAL:a,PRINT:o}=np;r.toggle(i,t.autoHeight),r.toggle(a,t.normal),r.toggle(o,t.print)}postConstruct(){this.createManagedBean(new rp(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setWrapperComp(this,!1),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)}),this.addManagedEventListeners({gridSizeChanged:this.refreshWrapperPadding.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper?.classList;if(!t){this.activeCssClass=null;return}this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n){if(this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,this.overlayExclusive=n,!e)return this.refreshWrapperPadding(),W.resolve();if(this.setWrapperTypeClass(t),this.setDisplayed(!0,{skipAriaHidden:!0}),this.refreshWrapperPadding(),n&&this.isGridFocused()){let e=nr(this.beans);e&&!ir(this.beans)&&(this.elToFocusAfter=e)}return e.then(t=>{let r=this.eOverlayWrapper;if(!r){this.destroyBean(t);return}if(this.activePromise!==e){this.activeOverlay!==t&&(this.destroyBean(t),t=null);return}this.activePromise=null,t&&(this.activeOverlay!==t&&(r.appendChild(t.getGui()),this.activeOverlay=t),n&&this.isGridFocused()&&Nl(r))}),e}refreshWrapperPadding(){if(!this.eOverlayWrapper){this.oldWrapperPadding=null;return}let e=!!this.activeOverlay||!!this.activePromise,t=0;e&&!this.overlayExclusive&&(t=this.beans.ctrlsSvc.get(`gridHeaderCtrl`)?.headerHeight||0),t!==this.oldWrapperPadding&&(this.oldWrapperPadding=t,this.eOverlayWrapper.style.setProperty(`padding-top`,`${t}px`))}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e){this.overlayExclusive=!1,this.elToFocusAfter=null,this.refreshWrapperPadding();return}let t=this.elToFocusAfter;this.elToFocusAfter=null,this.activeOverlay=null,this.overlayExclusive=!1,t&&!this.isGridFocused()&&(t=null),this.destroyBean(e);let n=this.eOverlayWrapper;n&&ei(n),t?.focus?.({preventScroll:!0}),this.refreshWrapperPadding()}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=nr(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setWrapperComp(this,!0),super.destroy(),this.eOverlayWrapper=null}},Gx={selector:`AG-OVERLAY-WRAPPER`,component:Wx},Kx=[`refresh`],qx=e=>({name:e,optionalMethods:Kx}),Jx={id:`agLoadingOverlay`,overlayType:`loading`,comp:qx(`loadingOverlayComponent`),wrapperCls:`ag-overlay-loading-wrapper`,exclusive:!0,compKey:`loadingOverlayComponent`,paramsKey:`loadingOverlayComponentParams`,isSuppressed:e=>{let t=e.get(`loading`);return t===!1||e.get(`suppressLoadingOverlay`)===!0&&t!==!0}},Yx={id:`agNoRowsOverlay`,overlayType:`noRows`,comp:qx(`noRowsOverlayComponent`),wrapperCls:`ag-overlay-no-rows-wrapper`,compKey:`noRowsOverlayComponent`,paramsKey:`noRowsOverlayComponentParams`,isSuppressed:e=>e.get(`suppressNoRowsOverlay`)},Xx={id:`agNoMatchingRowsOverlay`,overlayType:`noMatchingRows`,comp:qx(`noMatchingRowsOverlayComponent`),wrapperCls:`ag-overlay-no-matching-rows-wrapper`},Zx={id:`agExportingOverlay`,overlayType:`exporting`,comp:qx(`exportingOverlayComponent`),wrapperCls:`ag-overlay-exporting-wrapper`,exclusive:!0},Qx={id:`activeOverlay`,comp:qx(`activeOverlay`),wrapperCls:`ag-overlay-modal-wrapper`,exclusive:!0},$x=e=>e?{agLoadingOverlay:Jx,agNoRowsOverlay:Yx,agNoMatchingRowsOverlay:Xx,agExportingOverlay:Zx}[e]??Qx:null,eS=e=>e?{loading:Jx,noRows:Yx,noMatchingRows:Xx,exporting:Zx}[e]:null,tS={moduleName:`Overlay`,version:R,userComponents:{agLoadingOverlay:ah,agNoRowsOverlay:lh,agNoMatchingRowsOverlay:dh,agExportingOverlay:sh},apiFunctions:{showLoadingOverlay:zx,showNoRowsOverlay:Bx,hideOverlay:Vx},icons:{overlayLoading:`loading`,overlayExporting:`loading`},beans:[class extends L{constructor(){super(...arguments),this.beanName=`overlays`,this.eWrapper=void 0,this.exclusive=!1,this.oldExclusive=!1,this.currentDef=null,this.showInitialOverlay=!0,this.userForcedNoRows=!1,this.exportsInProgress=0,this.newColumnsLoadedCleanup=null}postConstruct(){let e=this.gos;this.showInitialOverlay=Ja(e);let t=()=>{this.userForcedNoRows||this.updateOverlay(!1)},[n,r,i,a]=this.addManagedEventListeners({newColumnsLoaded:t,rowCountReady:()=>{this.disableInitialOverlay(),t(),r()},rowDataUpdated:t,modelUpdated:t});this.newColumnsLoadedCleanup=n,this.addManagedPropertyListeners([`loading`,`activeOverlay`,`activeOverlayParams`,`overlayComponentParams`,`loadingOverlayComponentParams`,`noRowsOverlayComponentParams`],e=>this.onPropChange(new Set(e.changeSet?.properties)))}destroy(){this.doHideOverlay(),super.destroy(),this.eWrapper=void 0}setWrapperComp(e,t){this.isAlive()&&(t?this.eWrapper===e&&(this.eWrapper=void 0):this.eWrapper=e,this.updateOverlay(!1))}isVisible(){return!!this.currentDef}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos;if(!this.eWrapper||e.get(`activeOverlay`)||this.isDisabled(Jx))return;let t=e.get(`loading`);!t&&t!==void 0||this.doShowOverlay(Jx)}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;!this.eWrapper||e.get(`activeOverlay`)||e.get(`loading`)||this.isDisabled(Yx)||(this.userForcedNoRows=!0,this.doShowOverlay(Yx))}async showExportOverlay(e){let{gos:t,beans:n}=this;if(!this.eWrapper||t.get(`activeOverlay`)||t.get(`loading`)||this.isDisabled(Zx)||this.userForcedNoRows&&this.currentDef===Yx){e();return}let r=this.getDesiredDefWithOverride(Zx);if(!r){e();return}this.exportsInProgress++,this.focusedCell=n.focusSvc.getFocusedCell(),await this.doShowOverlay(r),await new Promise(e=>setTimeout(()=>e()));let i=Date.now();try{e()}finally{let e=Date.now()-i,t=Math.max(0,300-e),r=()=>{this.exportsInProgress--,this.exportsInProgress===0&&(this.updateOverlay(!1),Am(n,this.focusedCell),this.focusedCell=null)};t>0?setTimeout(()=>r(),t):r()}}hideOverlay(){let e=this.gos;this.showInitialOverlay=!1;let t=this.userForcedNoRows;if(this.userForcedNoRows=!1,e.get(`loading`)){z(99);return}if(e.get(`activeOverlay`)){z(296);return}if(this.currentDef===Xx){z(297);return}this.doHideOverlay(),t&&this.getOverlayDef()!==Yx&&this.updateOverlay(!1)}getOverlayWrapperSelector(){return Gx}getOverlayWrapperCompClass(){return Wx}onPropChange(e){let t=e.has(`activeOverlay`);if((t||e.has(`loading`))&&this.updateOverlay(t))return;let n=this.currentDef,r=this.eWrapper?.activeOverlay;if(r&&n){let t=e.has(`activeOverlayParams`);if(n===Qx)t&&r.refresh?.(this.makeCompParams(!0));else{let t=n.paramsKey;(e.has(`overlayComponentParams`)||t&&e.has(t))&&r.refresh?.(this.makeCompParams(!1,t,n.overlayType))}}}updateOverlay(e){let t=this.eWrapper;if(!t)return this.currentDef=null,!1;let n=this.getDesiredDefWithOverride();return n===this.currentDef?n===Qx&&e&&n?(t.hideOverlay(),this.doShowOverlay(n),!0):(n||this.disableInitialOverlay(),!1):n?(this.doShowOverlay(n),!0):(this.disableInitialOverlay(),this.doHideOverlay())}getDesiredDefWithOverride(e){let{gos:t}=this,n=$x(t.get(`activeOverlay`));return n||(n=e??this.getOverlayDef(),n&&this.isDisabled(n)&&(n=null)),n}getOverlayDef(){let{gos:e,beans:t}=this,{colModel:n,rowModel:r}=t,i=e.get(`loading`);if(i!==void 0){if(this.disableInitialOverlay(),i)return Jx}else if(this.showInitialOverlay){if(!this.isDisabled(Jx)&&(!e.get(`columnDefs`)||!n.ready||!e.get(`rowData`)))return Jx;this.disableInitialOverlay()}else this.disableInitialOverlay();return eS(r.getOverlayType())}disableInitialOverlay(){this.showInitialOverlay=!1,this.newColumnsLoadedCleanup?.(),this.newColumnsLoadedCleanup=null}doShowOverlay(e){let{gos:t,beans:n}=this,{userCompFactory:r}=n;this.currentDef=e;let i=e!==Qx,a=!!e.exclusive;this.exclusive=a;let o;(e.paramsKey&&t.get(e.paramsKey)||e.compKey&&t.get(e.compKey))&&(o=e.paramsKey);let s;i&&(t.get(`overlayComponent`)||t.get(`overlayComponentSelector`))&&(s=r.getCompDetailsFromGridOptions({name:`overlayComponent`,optionalMethods:[`refresh`]},void 0,this.makeCompParams(!1,e.paramsKey,e.overlayType))),s??=r.getCompDetailsFromGridOptions(e.comp,i?e.id:void 0,this.makeCompParams(!i,o,e.overlayType),!1);let c=s?.newAgStackInstance()??null,l=this.eWrapper?this.eWrapper.showOverlay(c,e.wrapperCls,a):W.resolve();return this.eWrapper?.refreshWrapperPadding(),this.setExclusive(a),l}makeCompParams(e,t,n){let{gos:r}=this;return H(r,(e?r.get(`activeOverlayParams`):{...r.get(`overlayComponentParams`),...t&&r.get(t)||null,overlayType:n})??{})}doHideOverlay(){let e=!1;this.currentDef&&(this.currentDef=null,e=!0),this.exclusive=!1;let t=this.eWrapper;return t&&(t.hideOverlay(),t.refreshWrapperPadding(),this.setExclusive(!1)),e}setExclusive(e){this.oldExclusive!==e&&(this.oldExclusive=e,this.eventSvc.dispatchEvent({type:`overlayExclusiveChanged`}))}isDisabled(e){let{gos:t}=this;return e.overlayType&&t.get(`suppressOverlays`)?.includes(e.overlayType)||e.isSuppressed?.(t)===!0}}]},nS=class extends L{constructor(){super(...arguments),this.beanName=`rowContainerHeight`,this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=xl(),oa(this.gos,`RowContainerHeightService - maxDivHeight = `+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;oa(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:`rowContainerHeightChanged`}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e==`number`?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:`heightScaleChanged`}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},rS=400,iS=class extends L{constructor(){super(...arguments),this.beanName=`rowRenderer`,this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{for(let e of this.getAllCellCtrls())e.onCellSelectionChanged()},t=()=>{for(let e of this.getAllCellCtrls())e.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener(`cellSelectionChanged`,e),this.eventSvc.addListener(`columnMoved`,t),this.eventSvc.addListener(`columnPinned`,t),this.eventSvc.addListener(`columnVisible`,t)},r=()=>{this.eventSvc.removeListener(`cellSelectionChanged`,e),this.eventSvc.removeListener(`columnMoved`,t),this.eventSvc.removeListener(`columnPinned`,t),this.eventSvc.removeListener(`columnVisible`,t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners([`enableRangeSelection`,`cellSelection`],()=>{So(this.gos)?n():r()}),So(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners([`domLayout`,`embedFullWidthRows`],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners([`suppressMaxRenderedRowRestriction`,`rowBuffer`],()=>this.redraw()),this.addManagedPropertyListener(`suppressCellFocus`,e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners([`groupSuppressBlankHeader`,`getBusinessKeyForNode`,`fullWidthCellRenderer`,`fullWidthCellRendererParams`,`suppressStickyTotalRow`,`groupRowRenderer`,`groupRowRendererParams`,`loadingCellRenderer`,`loadingCellRendererParams`,`detailCellRenderer`,`detailCellRendererParams`,`enableRangeSelection`,`enableCellTextSelection`],()=>this.redrawRows()),this.addManagedPropertyListener(`cellSelection`,({currentValue:e,previousValue:t})=>{(!t&&e||t&&!e)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener(`showOpenedGroup`,()=>{let e=n.columns;e.length&&this.refreshCells({columns:e,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let e=this.gridBodyCtrl;e.setStickyTopHeight(0),e.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Xa(t,`print`),this.embedFullWidthRows=this.printLayout||t.get(`embedFullWidthRows`),this.redrawAfterModelUpdate()}initialiseCache(){this.gos.get(`keepDetailRows`)&&(this.cachedRowCtrls=new aS(this.getKeepDetailRowsCount()??3))}getKeepDetailRowsCount(){return this.gos.get(`keepDetailRowsCount`)}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){let n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(let t of this.getAllCellCtrls())t.onCellFocused(e);for(let t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(let t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(let t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;if(t)for(let n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(let e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(let e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(let e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(let e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();let e=this.colModel.getCols();for(let t of e){let e=e=>{for(let n of this.getAllCellCtrls())n.column===t&&e(n)},n=()=>{e(e=>e.onLeftChanged())},r=()=>{e(e=>e.onWidthChanged())},i=()=>{e(e=>e.onFirstRightPinnedChanged())},a=()=>{e(e=>e.onLastLeftPinnedChanged())},o=()=>{e(e=>e.onColDefChanged())};t.__addEventListener(`leftChanged`,n),t.__addEventListener(`widthChanged`,r),t.__addEventListener(`firstRightPinnedChanged`,i),t.__addEventListener(`lastLeftPinnedChanged`,a),t.__addEventListener(`colDefChanged`,o),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener(`leftChanged`,n),t.__removeEventListener(`widthChanged`,r),t.__removeEventListener(`firstRightPinnedChanged`,i),t.__removeEventListener(`lastLeftPinnedChanged`,a),t.__removeEventListener(`colDefChanged`,o)})}}onDomLayoutChanged(){let e=Xa(this.gos,`print`),t=e||this.gos.get(`embedFullWidthRows`),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];for(let n of this.getAllRowCtrls()){let r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,`top`,e),this.refreshFloatingRows(this.bottomRowCtrls,`bottom`,e)}refreshFloatingRows(e,t,n){let{pinnedRowModel:r,beans:i,printLayout:a}=this,o=Object.fromEntries(e.map(e=>[e.rowNode.id,e]));r?.forEachPinnedRow(t,(s,c)=>{let l=e[c];l&&r.getPinnedRowById(l.rowNode.id,t)===void 0&&(l.destroyFirstPass(),l.destroySecondPass()),s.id in o&&n?(e[c]=o[s.id],delete o[s.id]):e[c]=new Tx(s,i,!1,!1,a)}),e.length=(t===`top`?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let t=t=>{let n=t[e.rowIndex];n&&n.rowNode===e&&(n.destroyFirstPass(),n.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case`top`:t(this.topRowCtrls);break;case`bottom`:t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){let{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:`api`})),e!=null){for(let t of e??[])this.redrawRow(t,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&so(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:a,gos:o}=this;if(a){a.checkStickyRows();let e=a.extraTopHeight+a.extraBottomHeight;e&&this.updateContainerHeights(e)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get(`enableRowPinning`)?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,n=this.gos.get(`suppressScrollOnNewData`);t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw Error(Ka(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:jm(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(H(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:`cellFocused`}))}findPositionToFocus(e){let{pagination:t,pageBounds:n}=this.beans,r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=xm(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});let t=this.getRowByPosition(r);if(t?.isAlive())return{...t.getRowPosition(),column:e.column};r=xm(this.beans,r)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){let n=t[r].getAllCellCtrls(),i=n.length;for(let t=0;t<i;t++)e.push(n[t])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls(`top`)??[],...e?.getCtrls(`bottom`)??[],...e?.getCtrls(`center`)??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){let r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){let i={force:n,newData:!1,suppressFlash:r};for(let n of this.getCellCtrls(e,t))n.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){for(let t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let n of this.getRowCtrls(e))n.isFullWidth()&&(n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0)));t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=oS(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(e=>{let n=e.rowNode;return sS(n,t)})}getCellCtrls(e,t){let n;P(t)&&(n={},t.forEach(e=>{let t=this.colModel.getCol(e);P(t)&&(n[t.getId()]=!0)}));let r=[];for(let t of this.getRowCtrls(e))for(let e of t.getAllCellCtrls()){let t=e.column.getId();n&&!n[t]||r.push(e)}return r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let t of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[t].rowNode.id??e.push(t);this.removeRowCtrls(e);let t={};for(let e of Object.values(this.rowCtrlsByRowIndex)){let n=e.rowNode;t[n.id]=e}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(let n of e){let e=this.rowCtrlsByRowIndex[n];e&&(e.destroyFirstPass(t),e.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction===`vertical`&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e,i,a=this.stickyRowFeature;a&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);let o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let c=!1;if(a){c=a.checkStickyRows();let e=a.extraTopHeight+a.extraBottomHeight;e&&this.updateContainerHeights(e)}let l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(r&&!c&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!c),i!=null)){let e=t?.getFocusCellToUseAfterRefresh();i!=null&&e==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){let n={};for(let t of e)n[t]=!0;let r=Object.keys(this.rowCtrlsByRowIndex).filter(e=>!n[e]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=[];for(let e=this.firstRenderedRow;e<=this.lastRenderedRow;e++)t.push(e);let n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);let i=e=>{let n=e.rowNode.rowIndex;n==null||n===r||(n<this.firstRenderedRow||n>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(e)&&t.push(n)};for(let e of Object.values(this.rowCtrlsByRowIndex))i(e);if(e)for(let t of Object.values(e))i(t);t.sort((e,t)=>e-t);let a=[];for(let e=0;e<t.length;e++){let n=t[e],r=this.rowModel.getRow(n);r&&!r.sticky&&a.push(n)}return a}recycleRows(e,t=!1,n=!1){let r=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t);for(let i of r)this.createOrUpdateRowCtrl(i,e,t,n);if(e){let{animationFrameSvc:r}=this.beans;r?.active&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:`displayedRowsChanged`,afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];for(let t of this.getFullWidthRowCtrls()){let n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=oS(e);return this.getAllRowCtrls().filter(e=>{if(!e.isFullWidth())return!1;let n=e.rowNode;return!(t!=null&&!sS(n,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,a=this.rowCtrlsByRowIndex[e];if(a||(i=this.rowModel.getRow(e),P(i)&&P(t)&&t[i.id]&&i.alreadyRendered&&(a=t[i.id],t[i.id]=null)),!a)if(i||=this.rowModel.getRow(e),P(i))a=this.createRowCon(i,n,r);else return;i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a}destroyRowCtrls(e,t){let n=[];if(e){for(let r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){let e=r.instanceId;this.zombieRowCtrls[e]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[e]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(let e of n)e()},rS))}getRowBuffer(){return this.gos.get(`rowBuffer`)}getRowBufferInPixels(){return this.getRowBuffer()*ro(this.beans)}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{let a=this.getRowBufferInPixels(),o=this.ctrlsSvc.getScrollFeature(),s=this.gos.get(`suppressRowVirtualisation`),c=!1,l,u;do{let n=t.getPixelOffset(),{pageFirstPixel:r,pageLastPixel:i}=t.getCurrentPagePixelRange(),d=e.divStretchOffset,f=o.getVScrollPosition(),p=f.top,m=f.bottom;s?(l=r+d,u=i+d):(l=Math.max(p+n-a,r)+d,u=Math.min(m+n+a,i)+d),this.firstVisibleVPixel=Math.max(p+n,r)+d,this.lastVisibleVPixel=Math.min(m+n,i)+d,c=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(c);let d=n.getRowIndexAtPixel(l),f=n.getRowIndexAtPixel(u),p=t.getFirstRow(),m=t.getLastRow();d<p&&(d=p),f>m&&(f=m),r=d,i=f}let a=Xa(this.gos,`normal`),o=this.gos.get(`suppressMaxRenderedRowRestriction`),s=Math.max(this.getRowBuffer(),500);a&&!o&&i-r>s&&(i=r+s);let c=r!==this.firstRenderedRow,l=i!==this.lastRenderedRow;(c||l)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:`viewportChanged`,firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,hi(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:`firstDataRendered`,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:a}=this,o=a.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:`recalculateRowBounds`}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let t=e.rowNode,n=this.focusSvc.isRowFocused(t.rowIndex,t.rowPinned),r=this.editSvc?.isEditing(e),i=t.detail;return n||r||i?!!this.isRowPresent(t):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){let r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;let i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new Tx(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(e=>e.rowNode),t=this.getStickyTopRowCtrls().map(e=>e.rowNode),n=this.getStickyBottomRowCtrls().map(e=>e.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t,{rowIndex:n}=e;switch(e.rowPinned){case`top`:t=this.topRowCtrls[n];break;case`bottom`:t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(e=>e.rowNode.rowIndex===n)||null,t||=this.getStickyBottomRowCtrls().find(e=>e.rowNode.rowIndex===n)||null);break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},aS=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(e?.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode==e?t:null):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],ds(this.entriesList,n)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],ds(this.entriesList,e)}getEntries(){return this.entriesList}};function oS(e){if(!e)return;let t={top:{},bottom:{},normal:{}};for(let n of e){let e=n.id;switch(n.rowPinned){case`top`:t.top[e]=n;break;case`bottom`:t.bottom[e]=n;break;default:t.normal[e]=n;break}}return t}function sS(e,t){let n=e.id;switch(e.rowPinned){case`top`:return t.top[n]!=null;case`bottom`:return t.bottom[n]!=null;default:return t.normal[n]!=null}}var cS=class extends L{constructor(){super(...arguments),this.beanName=`rowNodeSorter`}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get(`accentedSort`),this.primaryColumnsSortGroups=lo(e),this.firstLeaf=Ja(e)?zh:lS,this.addManagedPropertyListener(`accentedSort`,e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener(`autoGroupColumnDef`,()=>this.primaryColumnsSortGroups=lo(e))}doFullSort(e,t){let n=e.map((e,t)=>({currentPos:t,rowNode:e}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(e=>e.rowNode)}compareRowNodes(e,t,n){let r=t.rowNode,i=n.rowNode;for(let t=0,n=e.length;t<n;t++){let n=e[t],a=n.sort===`desc`,o=this.getValue(r,n.column),s=this.getValue(i,n.column),c,l=this.getComparator(n,r);if(l)c=l(o,s,r,i,a);else{let e={accentedCompare:this.isAccentedSort};n.type===`absolute`&&(e.transform=uS),c=Yn(o,s,e)}if(!isNaN(c)&&c!==0)return n.sort===`asc`?c:c*-1}return t.currentPos-n.currentPos}getComparator(e,t){let n=e.column.getColDef(),r=this.getComparatorFromColDef(n,e);if(r)return r;if(!n.showRowGroup)return;let i=!t.group&&n.field;if(!i)return;let a=this.beans.colModel.getColDefCol(i);if(a)return this.getComparatorFromColDef(a.getColDef(),e)}getComparatorFromColDef(e,t){let n=e.comparator;if(n!=null)return typeof n==`object`?n[rs(t.type)]:n}getValue(e,t){if(this.primaryColumnsSortGroups&&e.rowGroupColumn===t)return this.getGroupDataValue(e,t);if(e.group&&t.getColDef().showRowGroup)return;let{valueSvc:n,formula:r}=this.beans,i=n.getValue(t,e,!1);return t.isAllowFormula()&&r?.isFormula(i)?r.resolveValue(t,e):i}getGroupDataValue(e,t){let{gos:n,valueSvc:r,colModel:i,showRowGroupCols:a}=this.beans;if(V(n,i.isPivotActive())){let n=this.firstLeaf(e);return n&&r.getValue(t,n,!1)}let o=a?.getShowRowGroupCol(t.getId());if(o)return e.groupData?.[o.getId()]}},lS=e=>{if(e.data)return e;let t=e.childrenAfterGroup;for(;t?.length;){let e=t[0];if(e.data)return e;t=e.childrenAfterGroup}};function uS(e){if(!e)return e;let t=Number(e);return isNaN(t)?e:Math.abs(t)}function dS(e){e.sortSvc?.onSortChanged(`api`)}var fS=(e,t)=>({tag:`span`,ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":`true`}}),pS={tag:`span`,cls:`ag-sort-indicator-container`,children:[fS(`Order`,`order`),fS(`Asc`,`ascending-icon`),fS(`Desc`,`descending-icon`),fS(`Mixed`,`mixed-icon`),fS(`AbsoluteAsc`,`absolute-ascending-icon`),fS(`AbsoluteDesc`,`absolute-descending-icon`),fS(`None`,`none-icon`)]},mS=class extends pc{constructor(e){super(),this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,this.eSortAbsoluteAsc=null,this.eSortAbsoluteDesc=null,e||this.setTemplate(pS)}attachCustomElements(e,t,n,r,i,a,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i,this.eSortAbsoluteAsc=a,this.eSortAbsoluteDesc=o}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon(`sortAscending`,this.eSortAsc,e),this.addInIcon(`sortDescending`,this.eSortDesc,e),this.addInIcon(`sortUnSort`,this.eSortNone,e),this.addInIcon(`sortAbsoluteAscending`,this.eSortAbsoluteAsc,e),this.addInIcon(`sortAbsoluteDescending`,this.eSortAbsoluteDesc,e);let n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener(`unSortIcon`,n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;let r=rh(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortAbsoluteAsc:n,eSortAbsoluteDesc:r,eSortNone:i,column:a,gos:o,beans:s}=this,c=s.sortSvc.getDisplaySortForColumn(a),l=rs(c?.type),u=ns(c?.direction),d=a.getAvailableSortTypes(),f=d.has(`default`),p=d.has(`absolute`),m=l===`absolute`,h=l===`default`,g=u===`asc`,_=u===`desc`;e&&F(e,g&&h&&f,{skipAriaHidden:!0}),t&&F(t,_&&h&&f,{skipAriaHidden:!0}),i&&F(i,!(!a.getColDef().unSortIcon&&!o.get(`unSortIcon`))&&!u,{skipAriaHidden:!0}),n&&F(n,g&&m&&p,{skipAriaHidden:!0}),r&&F(r,_&&m&&p,{skipAriaHidden:!0})}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:n}=this;this.addInIcon(`sortUnSort`,e,t);let r=t.getColDef().showRowGroup;lo(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:n}=this;e&&F(e,t.sortSvc.getDisplaySortForColumn(n)?.direction===`mixed`,{skipAriaHidden:!0})}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;let r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,a=r.some(e=>n.getDisplaySortIndexForColumn(e)??!1);F(e,i>=0&&a,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():ei(e)}},hS={selector:`AG-SORT-INDICATOR`,component:mS},gS={moduleName:`Sort`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`sortSvc`}progressSort(e,t,n){let r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){let n=this.gos.get(`multiSortKey`)===`ctrl`?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,`uiColumnSorted`)}setSortForColumn(e,t,n,r){let{gos:i,showRowGroupCols:a}=this.beans,o=lo(i),s=[e];if(o&&e.getColDef().showRowGroup){let t=(a?.getSourceColumnsForGroupColumn?.(e))?.filter(e=>e.isSortable());t&&(s=[e,...t])}for(let e of s)this.setColSort(e,t,r);let c=(n||i.get(`alwaysMultiSort`))&&!i.get(`suppressMultiSort`),l=[];if(!c){let e=this.clearSortBarTheseColumns(s,r);l.push(...e)}this.updateSortIndex(e),l.push(...s),this.dispatchSortChangedEvents(r,l)}updateSortIndex(e){let{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=lo(t),a=r?.getShowRowGroupCol(e.getId()),o=i&&a||e,s=this.getColumnsWithSortingOrdered();n.forAllCols(e=>this.setColSortIndex(e,null));let c=s.filter(e=>i&&e.getColDef().showRowGroup?!1:e!==o);(o.getSortDef()?[...c,o]:c).forEach((e,t)=>this.setColSortIndex(e,t))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{if(t.getSortDef())return e=!0,!0}),e}dispatchSortChangedEvents(e,t){let n={type:`sortChanged`,source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){let n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSortDef()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){let t=e.getSortingOrder(),n=e.getSortDef(),r=t.findIndex(e=>ts(e,n))+1;return r>=t.length&&(r=0),Zo(t[r])}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans,i=[];if(t.forAllCols(e=>{e.getSortDef()&&i.push(e)}),t.isPivotMode()){let t=lo(e);i=i.filter(e=>{let r=!!e.getAggFunc(),i=!e.isPrimary(),a=t?n?.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return r||i||a})}let a=r?.columns.filter(e=>!!e.getSortDef())??[],o={};i.forEach((e,t)=>o[e.getId()]=t),i.sort((e,t)=>{let n=e.getSortIndex(),r=t.getSortIndex();return n!=null&&r!=null?n-r:n==null&&r==null?o[e.getId()]>o[t.getId()]?1:-1:r==null?-1:1});let s=lo(e)&&!!a.length;s&&(i=[...new Set(i.map(e=>n?.getShowRowGroupCol(e.getId())??e))]);let c=new Map;if(i.forEach((e,t)=>c.set(e,t)),s)for(let e of a){let t=n.getShowRowGroupCol(e.getId());c.set(e,c.get(t))}return c}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}collectSortItems(e=!1){let t=[],n=this.getColumnsWithSortingOrdered();for(let r of n){let n=r.getSortDef()?.direction;if(!n)continue;let i={sort:n,type:rs(r.getSortDef()?.type)};e?i.colId=r.getId():i.column=r,t.push(i)}return t}getSortModel(){return this.collectSortItems(!0)}getSortOptions(){return this.collectSortItems()}canColumnDisplayMixedSort(e){let t=lo(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSortDef();let n=e.getColDef().field!=null||e.getColDef().valueGetter?[e,...t]:t,r=n[0].getSortDef();return n.every(e=>ts(e.getSortDef(),r))?r:{type:rs(e.getSortDef()?.type),direction:`mixed`}}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t){let n=()=>{let{type:n,direction:r}=Zo(t.getSortDef());if(e.toggleCss(`ag-header-cell-sorted-asc`,r===`asc`),e.toggleCss(`ag-header-cell-sorted-desc`,r===`desc`),e.toggleCss(`ag-header-cell-sorted-abs-asc`,n===`absolute`&&r===`asc`),e.toggleCss(`ag-header-cell-sorted-abs-desc`,n===`absolute`&&r===`desc`),e.toggleCss(`ag-header-cell-sorted-none`,!r),t.getColDef().showRowGroup){let n=!(this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t))?.every(e=>r==e.getSortDef()?.direction);e.toggleCss(`ag-header-cell-sorted-mixed`,n)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){let{sortIndex:t,initialSortIndex:n}=e.colDef,r=ks(e.colDef);r&&e.setSortDef(r,!0),t===void 0?n!==null&&(e.sortIndex=n):t!==null&&(e.sortIndex=t)}updateColSort(e,t,n){t!==void 0&&this.setColSort(e,Zo(t),n)}setColSort(e,t,n){ts(e.getSortDef(),t)||(e.setSortDef(Zo(t),t===void 0),e.dispatchColEvent(`sortChanged`,n)),e.dispatchStateUpdatedEvent(`sort`)}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent(`sortIndex`)}createSortIndicator(e){return new mS(e)}getSortIndicatorSelector(){return hS}},cS],apiFunctions:{onSortChanged:dS},userComponents:{agSortIndicator:mS},icons:{sortAscending:`asc`,sortDescending:`desc`,sortUnSort:`none`,sortAbsoluteAscending:`aasc`,sortAbsoluteDescending:`adesc`}},_S=class extends L{constructor(){super(...arguments),this.beanName=`syncSvc`,this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener(`columnDefs`,e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get(`columnDefs`);e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],`gridInitializing`),n.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:`gridReady`}),oa(t,`initialised successfully, enterprise = ${t.isModuleRegistered(`EnterpriseCore`)}`)}setColumnDefs(e){let t=this.gos.get(`columnDefs`);if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Ts(e.source))}}};function vS(e){e.valueCache?.expire()}function yS(e,t){let{colKey:n,rowNode:r,useFormatter:i}=t,a=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Kn(a))return null;let o=e.valueSvc.getValueForDisplay({column:a,node:r,includeValueFormatted:i});return i?o.valueFormatted??Qn(o.value):o.value}var bS=`paste`,xS=class extends L{constructor(){super(...arguments),this.beanName=`changeDetectionSvc`,this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;Ja(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:n}=this.beans;if(e.source===bS||t.get(`suppressChangeDetection`))return;let r=e.node,i=[r],a=this.clientSideRowModel,o=a?.rootNode;if(o&&!r.isRowPinned()){let n=new Ng(t.get(`aggregateOnlyChangedColumns`),o);n.addParentNode(r.parent,[e.column]),a.doAggregate(n),n.forEachChangedNodeDepthFirst(e=>{i.push(e),e.sibling&&i.push(e.sibling)})}n.refreshCells({rowNodes:i})}},SS=class extends L{constructor(){super(...arguments),this.beanName=`expressionSvc`,this.cache={}}evaluate(e,t){if(typeof e==`string`)return this.evaluateExpression(e,t);B(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return B(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let n=this.createFunctionBody(e),r=Function(`x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup`,n);return t[e]=r,r}createFunctionBody(e){return e.includes(`return`)?e:`return `+e+`;`}},CS={moduleName:`ValueCache`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`valueCache`,this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get(`valueCache`),this.neverExpires=e.get(`valueCacheNeverExpires`)}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){let r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}}],apiFunctions:{expireValueCache:vS}},wS={moduleName:`Expression`,version:R,beans:[SS]},TS={moduleName:`ChangeDetection`,version:R,beans:[xS]},ES={moduleName:`CellApi`,version:R,apiFunctions:{getCellValue:yS}},DS={moduleName:`CommunityCore`,version:R,beans:[Iy,pg,Bv,vc,nS,G_,ky,ub,ac,Ax,kx,iS,class extends L{constructor(){super(...arguments),this.beanName=`valueSvc`,this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc,this.formulaDataSvc=e.formulaDataSvc}postConstruct(){this.initialised||this.init()}init(){let{gos:e,valueCache:t}=this;this.executeValueGetter=t?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Ya(e),this.cellExpressions=e.get(`enableCellExpressions`),this.isTreeData=e.get(`treeData`),this.initialised=!0;let n=e=>this.callColumnCellValueChangedHandler(e);this.eventSvc.addListener(`cellValueChanged`,n,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener(`cellValueChanged`,n,!0)),this.addManagedPropertyListener(`treeData`,e=>this.isTreeData=e.currentValue)}getValueForDisplay(e){let{column:t,node:n,includeValueFormatted:r,useRawFormula:i,exporting:a,source:o=`ui`}=e,{showRowGroupColValueSvc:s}=this.beans,c=!t&&n.group,l=t?.colDef.showRowGroup,u=!this.isTreeData||n.footer;if(s&&u&&(c||l)){let e=s.getGroupValue(n,t);if(e==null)return{value:null,valueFormatted:null};if(!r)return{value:e.value,valueFormatted:null};let i=s.formatAndPrefixGroupColValue(e,t,a);return{value:e.value,valueFormatted:i}}if(!t)return{value:n.key,valueFormatted:null};let d=n.leafGroup&&this.colModel.isPivotMode(),f=n.group&&n.expanded&&!n.footer&&!d,p=this.gos.get(`groupSuppressBlankHeader`)||!n.sibling,m=f&&!p,h=this.getValue(t,n,m,o),g=h,{formula:_}=this.beans,v=r&&!(a&&t.colDef.useValueFormatterForExport===!1);return t.isAllowFormula()&&_?.isFormula(h)&&(i?(h=_.normaliseFormula(h,!0),g=_.resolveValue(t,n)):(h=_.resolveValue(t,n),g=h)),{value:h,valueFormatted:v?this.formatValue(t,n,g):null}}getValue(e,t,n=!1,r=`ui`){if(this.initialised||this.init(),!t)return;if(this.hasEditSvc&&r===`ui`){let n=this.editSvc;if(n.isEditing()){let r=n.getCellDataValue({rowNode:t,column:e},!0);if(r!==void 0)return r}}let i=e.getColDef().showRowGroup;if(typeof i==`string`&&(this.beans.rowGroupColsSvc?.getColumnIndex(i)??-1)>t.level)return null;let a=this.resolveValue(e,t,n);if(this.cellExpressions&&er(a)){let n=a.substring(1);a=this.executeValueGetter(n,t.data,e,t)}return a}getFormulaFromDataSource(e,t){let n=this.formulaDataSvc;if(!n?.hasDataSource()||!e.isAllowFormula())return;let r=n.getFormula({column:e,rowNode:t});return er(r)?r:void 0}resolveValue(e,t,n){let r=e.getColDef(),i=e.getColId(),a=this.isTreeData,o=this.getFormulaFromDataSource(e,t);if(o!==void 0)return o;let s=!n&&t.aggData&&t.aggData[i]!==void 0;if(a&&s)return t.aggData[i];let c=t.data,l=r.field;if(a&&r.valueGetter)return this.executeValueGetter(r.valueGetter,c,e,t);if(a&&l&&c)return Cv(c,l,e.isFieldContainsDots());let u=t.groupData;if(u&&i in u)return t.groupData[i];if(s)return t.aggData[i];let d=r.showRowGroup,f=typeof d!=`string`||!t.group,p=this.isSsrm&&n&&!!r.aggFunc,m=this.isSsrm&&t.footer&&t.field&&(d===!0||d===t.field);if(r.valueGetter&&!p)return f?this.executeValueGetter(r.valueGetter,c,e,t):void 0;if(m)return Cv(c,t.field,e.isFieldContainsDots());if(l&&c&&!p)return f?Cv(c,l,e.isFieldContainsDots()):void 0}parseValue(e,t,n,r){let i=e.getColDef();if(i.allowFormula&&this.beans.formula?.isFormula(n))return n;let a=i.valueParser;if(P(a)){let o=H(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof a==`function`?a(o):this.expressionSvc?.evaluate(a,o)}return n}getDeleteValue(e,t){return P(e.getColDef().valueParser)?this.parseValue(e,t,``,this.getValueForDisplay({column:e,node:t}).value)??null:null}formatValue(e,t,n,r,i=!0){let{expressionSvc:a}=this.beans,o=null,s,c=e.getColDef();if(r?s=r:i&&(s=c.valueFormatter),s){let r=t?t.data:null,i=H(this.gos,{value:n,node:t,data:r,colDef:c,column:e});o=typeof s==`function`?s(i):a?a.evaluate(s,i):null}else if(c.refData)return c.refData[n]||``;return o==null&&Array.isArray(n)&&(o=n.join(`, `)),o}setValue(e,t,n,r){let i=this.colModel.getColDefCol(t);if(!e||!i)return!1;this.ensureRowData(e);let a=i.getColDef();if(!this.isSetValueSupported({column:i,newValue:n,colDef:a}))return!1;let o=H(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:a,column:i});o.newValue=n;let s=this.handleExternalFormulaChange({column:i,eventSource:r,newValue:n,setterParams:o,rowNode:e});if(s!==null)return s;let c=this.computeValueChange({column:i,newValue:n,params:o,rowData:e.data,valueSetter:a.valueSetter,field:a.field});return c===void 0&&(c=!0),c?this.finishValueChange(e,i,o,r):!1}finishValueChange(e,t,n,r){e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let i=this.getValue(t,e);return this.dispatchCellValueChangedEvent(e,n,i,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,n,i,r),!0}ensureRowData(e){Kn(e.data)&&(e.data={})}isSetValueSupported(e){let{column:t,newValue:n,colDef:r}=e,{field:i,valueSetter:a}=r,o=this.beans.formula,s=t.isAllowFormula()&&o?.isFormula(n),c=!!this.formulaDataSvc?.hasDataSource();return Kn(i)&&Kn(a)&&!(c&&s)?(z(17),!1):this.dataTypeSvc&&!this.dataTypeSvc.checkType(t,n)?(z(135),!1):!0}handleExternalFormulaChange(e){let{column:t,rowNode:n,newValue:r,eventSource:i,setterParams:a}=e,o=this.beans.formula,s=this.formulaDataSvc;if(!s?.hasDataSource()||!t.isAllowFormula())return null;let c=o?.isFormula(r),l=s.getFormula({column:t,rowNode:n});if(c){if(l===r)return!1;s.setFormula({column:t,rowNode:n,formula:r});let e=o?.resolveValue(t,n),c=t.getColDef();if(P(c.valueSetter)||!Kn(c.field)){let r={...a,newValue:e};this.computeValueChange({column:t,newValue:e,params:r,rowData:n.data,valueSetter:c.valueSetter,field:c.field})}return this.finishValueChange(n,t,a,i)}return l!==void 0&&s.setFormula({column:t,rowNode:n,formula:void 0}),null}computeValueChange(e){let{valueSetter:t,params:n,rowData:r,field:i,column:a,newValue:o}=e;return P(t)?typeof t==`function`?t(n):this.expressionSvc?.evaluate(t,n):this.setValueUsingField(r,i,o,a.isFieldContainsDots())}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:`cellValueChanged`,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t==`function`&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{let r=t.split(`.`),a=e;for(;r.length>0&&a;){let e=r.shift();r.length===0?(i=a[e]===n,i||(a[e]=n)):a=a[e]}}return!i}executeValueGetterWithValueCache(e,t,n,r){let i=n.getColId(),a=this.valueCache.getValue(r,i);if(a!==void 0)return a;let o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){let i=H(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)}),a;return a=typeof e==`function`?e(i):this.expressionSvc?.evaluate(e,i),a}getValueCallback(e,t){let n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){let n=this.getValue(e,t),r=e.getColDef().keyCreator,i=n;return r&&(i=r(H(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data}))),typeof i==`string`||i==null?i:(i=String(i),i===`[object Object]`&&z(121),i)}},Py,Oy,Fy,Hv,_S,Iv,Lv,bb],icons:{selectOpen:`small-down`,smallDown:`small-down`,colorPicker:`color-picker`,smallUp:`small-up`,checkboxChecked:`small-up`,checkboxIndeterminate:`checkbox-indeterminate`,checkboxUnchecked:`checkbox-unchecked`,radioButtonOn:`radio-button-on`,radioButtonOff:`radio-button-off`,smallLeft:`small-left`,smallRight:`small-right`},apiFunctions:{getGridId:mg,destroy:hg,isDestroyed:gg,getGridOption:_g,setGridOption:vg,updateGridOptions:yg,isModuleRegistered:bg},dependsOn:[Mv,C_,A_,gS,_b,J_,vb,tS,TS,yb,Ox,Nx,Fx,xb,zv,Nv,wS,Q_,Rx]},OS={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1,Formula:1},kS=[`TextFilter`,`NumberFilter`,`DateFilter`,`SetFilter`,`MultiFilter`,`GroupFilter`,`CustomFilter`],AS={EditCore:[`TextEditor`,`NumberEditor`,`DateEditor`,`CheckboxEditor`,`LargeTextEditor`,`SelectEditor`,`RichSelect`,`CustomEditor`],CheckboxCellRenderer:[`AllCommunity`],ClientSideRowModelHierarchy:[`RowGrouping`,`Pivot`,`TreeData`],ColumnFilter:kS,ColumnGroupHeaderComp:[`AllCommunity`],ColumnGroup:[`AllCommunity`],ColumnHeaderComp:[`AllCommunity`],ColumnMove:[`AllCommunity`],ColumnResize:[`AllCommunity`],CommunityCore:[`AllCommunity`],CsrmSsrmSharedApi:[`ClientSideRowModelApi`,`ServerSideRowModelApi`],RowModelSharedApi:[`ClientSideRowModelApi`,`ServerSideRowModelApi`],EnterpriseCore:[`AllEnterprise`],FilterCore:[...kS,`QuickFilter`,`ExternalFilter`,`AdvancedFilter`],GroupCellRenderer:[`RowGrouping`,`Pivot`,`TreeData`,`MasterDetail`,`ServerSideRowModel`],KeyboardNavigation:[`AllCommunity`],LoadingCellRenderer:[`ServerSideRowModel`],MenuCore:[`ColumnMenu`,`ContextMenu`],MenuItem:[`ColumnMenu`,`ContextMenu`,`MultiFilter`,`IntegratedCharts`,`ColumnsToolPanel`],Overlay:[`AllCommunity`],PinnedColumn:[`AllCommunity`],SharedAggregation:[`RowGrouping`,`Pivot`,`TreeData`,`ServerSideRowModel`],SharedDragAndDrop:[`AllCommunity`],SharedMasterDetail:[`MasterDetail`,`ServerSideRowModel`],SharedMenu:[...kS,`ColumnMenu`,`ContextMenu`],SharedPivot:[`Pivot`,`ServerSideRowModel`],SharedRowGrouping:[`RowGrouping`,`ServerSideRowModel`],SharedRowSelection:[`RowSelection`,`ServerSideRowModel`],SkeletonCellRenderer:[`ServerSideRowModel`],Sort:[`AllCommunity`],SsrmInfiniteSharedApi:[`InfiniteRowModel`,`ServerSideRowModelApi`],SharedTreeData:[`TreeData`,`ServerSideRowModel`]},jS={InfiniteRowModel:`infinite`,ClientSideRowModelApi:`clientSide`,ClientSideRowModel:`clientSide`,ServerSideRowModelApi:`serverSide`,ServerSideRowModel:`serverSide`,ViewportRowModel:`viewport`};function MS(e,t){let n=[];for(let r of Array.isArray(e)?e:[e]){let e=AS[r];if(e)for(let r of e){let e=jS[r];(!e||e===t)&&n.push(r)}else n.push(r)}return n}var NS=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,PS=e=>{let t=e.map(e=>`import { ${FS(e)} } from '${OS[e]?`ag-grid-enterprise`:`ag-grid-community`}';`);return e.some(e=>e===`IntegratedCharts`||e===`Sparklines`)&&t.push(`import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';`),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(e=>FS(e,!0)).join(`, `)} ]); 

For more info see: ${Ma}/modules/`};function FS(e,t=!1){return t&&(e===`IntegratedCharts`||e===`Sparklines`)?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function IS(e,t){let n=t.filter(e=>e===`IntegratedCharts`||e===`Sparklines`),r=``;return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(e=>OS[e])&&(r+=`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function LS({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var RS=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:a,isUmd:o})=>{let s=MS(t,i),c=typeof e==`string`?e:US[e];if(o)return IS(c,s);let l=s.filter(e=>e===`IntegratedCharts`||e===`Sparklines`),u=l.length>0?`${l.map(e=>FS(e)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:``;return`${`Unable to use ${c} as ${s.length>1?`one of `+s.map(e=>FS(e)).join(`, `):FS(s[0])} is not registered${n?` for gridId: `+r:``}. ${u} Check if you have registered the module:
`}
${PS(s)}`+(a?` 

${a}`:``)},zS=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,BS=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,VS={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>`Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.`,4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>[`Could not find data item as object was not found.`,e,` Consider using getRowId to help the Grid find matching row data`],6:()=>`'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'`,7:()=>`Pivoting is not supported with aligned grids as it may produce different columns in each grid.`,8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>`No gridOptions provided to createGrid`,12:({colKey:e})=>[`column `,e,` not found`],13:()=>`Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.`,14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>[`value should be either a string or a function`,e],16:({expression:e,params:t,e:n})=>[`Processing of the expression failed`,`Expression = `,e,`Params = `,t,`Exception = `,n],17:()=>`you need either field or valueSetter set on colDef for editing to work`,18:()=>`alignedGrids contains an undefined option.`,19:()=>`alignedGrids - No api found on the linked grid.`,20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>`pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.`,22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>`row height must be a number if not using standard row model`,25:({id:e})=>[`The getRowId callback must return a string. The ID `,e,` is being cast to a string.`],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>`setRowCount cannot be used while using row grouping.`,29:()=>`tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?`,30:({toIndex:e})=>[`tried to insert columns in invalid location, toIndex = `,e,`remember that you should not count the moving columns when calculating the new index`],31:()=>`infinite loop in resizeColumnSets`,32:()=>`applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.`,33:()=>`stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.`,34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>`Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.`,36:({t:e})=>`colDef.type '`+e+`' does not correspond to defined gridOptions.columnTypes`,37:()=>`Changing the column pinning status is not allowed with domLayout='print'`,38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>`Applying column order broke a group where columns should be married together. Applying new order has been discarded.`,40:({e,method:t})=>`${e}
${BS(t)}`,41:()=>`Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.`,42:()=>`Browser does not support document.execCommand('copy') for clipboard operations`,43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>`Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.`,45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>`The "baseDataType" property of a data type definition must match that of its parent.`,47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>`Export cancelled. Export is not allowed as per your configuration.`,52:()=>"There is no `window` associated with the current `document`",53:()=>`unknown value type during csv conversion`,54:()=>`Could not find document body, it is needed for drag and drop and context menu.`,55:()=>`addRowDropZone - A container target needs to be provided`,56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>`unable to show popup filter, filter instantiation failed`,58:()=>`no values found for select cellEditor`,59:()=>`cannot select pinned rows`,60:()=>`cannot select node until it has finished loading`,61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>`filter missing setModel method, which is needed for setFilterModel`,66:()=>`filter API missing getModel method, which is needed for getFilterModel`,67:()=>`Filter is missing isFilterActive() method`,68:()=>`Column Filter API methods have been disabled as Advanced Filters are enabled.`,69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>`debounceMs is ignored when apply button is present`,72:({keys:e})=>[`ignoring FilterOptionDef as it doesn't contain one of `,e],73:()=>`invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'`,74:()=>`no filter options for filter`,75:()=>`Unknown button type specified`,76:({filterModelType:e})=>[`Unexpected type of filter "`,e,`", it looks like the filter was configured with incorrect Filter Options`],77:()=>`Filter model is missing 'conditions'`,78:()=>`Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.`,79:()=>`"filterParams.maxNumConditions" must be greater than or equal to zero.`,80:()=>`"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.`,81:()=>`"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".`,82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>`DateFilter minValidYear should be <= maxValidYear`,84:()=>`DateFilter minValidDate should be <= maxValidDate`,85:()=>`DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.`,86:()=>`DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.`,87:()=>`DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.`,88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>`A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)`,90:()=>`datasource is missing getRows method`,91:()=>`Filter is missing method doesFilterPass`,92:()=>`AnimationFrameService called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?``:` (default value)`}, but ${e} is not included in${n?``:` the default`} paginationPageSizeSelector=[${r?.join(`, `)}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>[`Duplicate ID`,e,`found for pinned row with data`,t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>`popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.`,99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{let i=[],a=eu({inputValue:t,allSuggestions:[...Object.keys(n??[]).filter(e=>![`agCellEditor`,`agGroupRowRenderer`,`agSortIndicator`].includes(e)),...Object.keys(r??[]).filter(e=>!!r[e])],hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),a.length>0&&i.push(`         Did you mean: [${a.slice(0,3)}]?
`),i.push(`If using a custom component check it has been registered correctly.`),i},102:()=>`selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'`,103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>[`chart rendering failed`,e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Ma}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>[`chart update failed`,e],109:({inputValue:e,allSuggestions:t})=>{let n=eu({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:``,`If using a custom aggregation function check it has been registered correctly.`].join(`
`)},110:()=>`groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup`,111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>`Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values`,114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>`selectAll must be of boolean type.`,118:()=>`Infinite scrolling must be enabled in order to set the row count.`,119:()=>`Unable to instantiate filter`,120:()=>`MultiFloatingFilterComp expects MultiFilter as its parent`,121:()=>`a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key`,122:()=>`could not find the document, document is empty`,123:()=>`Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.`,124:()=>`No active charts to update.`,125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>`unable to restore chart as no chart model is provided`,127:({allRange:e})=>`unable to create chart as ${e?`there are no columns in the grid`:`no range is selected`}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>`cannot multi select unless selection mode is "multiRow"`,132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>`Data type of the new value does not match the cell data type of the column`,136:()=>`Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.`,137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>`cross filtering with row grouping is not supported.`,142:()=>`cross filtering is only supported in the client side row model.`,143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>`'seriesChartTypes' are required when the 'customCombo' chart type is specified.`,151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>[`unable to find group(s) for supplied groupIds:`,e],158:()=>`can not expand a column item that does not represent a column group header`,159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>`Export cancelled. Export is not allowed as per your configuration.`,161:()=>`The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'`,162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>`Unable to add data table to Excel sheet: A table already exists.`,165:()=>`Unable to add data table to Excel sheet: Missing required parameters.`,166:({unrecognisedGroupIds:e})=>[`unable to find groups for these supplied groupIds:`,e],167:({unrecognisedColIds:e})=>[`unable to find columns for these supplied colIds:`,e],168:()=>`detailCellRendererParams.template should be function or string`,169:()=>`Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.`,170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>`could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions`,172:()=>`could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData`,173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>`valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.`,178:({colId:e})=>`column ${e} is not visible`,179:()=>`totalValueGetter should be either a function or a string (expression)`,180:()=>`agRichSelectCellEditor requires cellEditorParams.values to be set`,181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>`you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data`,183:()=>`Group Column Filter only works on group columns. Please use a different filter.`,184:({parentGroupData:e,childNodeData:t})=>[`duplicate group keys for row data, keys should be unique`,[e,t]],185:({data:e})=>[`getDataPath() should not return an empty path`,[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>[`duplicate group keys for row data, keys should be unique`,e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,`first instance`,t,`second instance`,n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||`selection`} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>[`null and undefined values are not allowed for server side row model keys`,e?`column = ${e}`:``,`data is `,t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?`current page`:`filtered`} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:RS,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>`Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.`,204:()=>`Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.`,205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>`getRowId callback must be implemented for transactions to work. Transaction was ignored.`,207:()=>`The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.`,208:()=>`Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.`,209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Ma}/filter-set-filter-list/#filter-value-types`,210:()=>`Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?`,211:()=>`property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.`,212:()=>`please review all your toolPanel components, it seems like at least one of them doesn't have an id`,213:()=>`Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.`,214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(`,`)}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>[`unable to find grid columns for the supplied colDef(s):`,e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>`agAggregationComponent should only be used with the client and server side row model.`,222:()=>`agFilteredRowCountComponent should only be used with the client side row model.`,223:()=>`agSelectedRowCountComponent should only be used with the client and server side row model.`,224:()=>`agTotalAndFilteredRowCountComponent should only be used with the client side row model.`,225:()=>`agTotalRowCountComponent should only be used with the client side row model.`,226:()=>`viewport is missing init method.`,227:()=>`menu item icon must be DOM node or string`,228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,230:()=>`detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/`,231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>`Using both rowData and v-model. rowData will be ignored.`,233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>`Group Column Filter does not work with the colDef property "field". This property will be ignored.`,235:()=>`Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.`,236:()=>`Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.`,237:()=>`Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.`,238:()=>`setRowCount can only accept a positive row count.`,239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>`Failed to deserialize state - each provided state object must be an object.`,244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>`SetFloatingFilter expects SetFilter as its parent`,249:()=>`Must supply a Value Formatter in Set Filter params when using a Key Creator`,250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>[`Illegal version string: `,e],254:()=>`Cannot create chart: no chart themes available.`,255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>`Unable to initialise. See validation error, or load ValidationModule if missing.`,257:()=>zS(`IntegratedChartsModule`),258:()=>zS(`SparklinesModule`),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>RS({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:zy[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>`As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.`,263:()=>`As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.`,264:()=>`As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.`,265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Ma}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>`As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.`,267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>`Transactions aren't supported with tree data when using treeDataChildrenField`,269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>NS(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case`maxComponentCreationTimeMs`:t+=` This property is no longer required and so will be removed in a future version.`;break;case`setGridApi`:t+=` This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api `;break;case`children`:t+=` For multiple versions AgGridReact does not support children.`;break}return t},275:LS,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>`License Key being set multiple times with different values. This can result in an incorrect license key being used,`,292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`,293:()=>`The grid was initialised detached from the DOM and was then inserted into a Shadow Root. Theme styles are probably broken. Pass the themeStyleContainer grid option to let the grid know where in the document to insert theme CSS.`,294:()=>"When using the `agRichSelectCellEditor` setting `filterListAsync = true` requires `allowTyping = true` and the `values()` callback must return a Promise of filtered values.",295:({blockedService:e})=>`colDef.allowFormula is not supported with ${e}. Formulas has been turned off.`,296:()=>"Since v35, `api.hideOverlay()` does not hide the overlay when `activeOverlay` is set. Set `activeOverlay=null` instead.",297:()=>'`api.hideOverlay()` does not hide the no matching rows overlay as it is only controlled by grid state. Set `suppressOverlays=["noMatchingRows"] to not show it.'};function HS(e,t){let n=VS[e];if(!n)return[`Missing error text for error id ${e}!`];let r=n(t),i=`
See ${Ha(e,t)}`;return Array.isArray(r)?r.concat(i):[r,i]}var US={1:`Charting Aggregation`,2:`pivotResultFields`,3:`setTooltip`},WS=new WeakMap,GS=new WeakMap,KS=1,qS=class{create(e,t,n,r,i,a){let o=na.applyGlobalGridOptions(t),s=o.gridId??String(KS++),c=this.getRegisteredModules(i,s,o.rowModelType),l=this.createBeansList(o.rowModelType,c,s),u=this.createProvidedBeans(e,o,i);if(!l)return;let d=new wd({providedBeanInstances:u,beanClasses:l,id:s,beanInitComparator:og,beanDestroyComparator:sg,derivedBeans:[ig],destroyCallback:()=>{GS.delete(f),WS.delete(e),ya(s),a?.()}});this.registerModuleFeatures(d,c),n(d),d.getBean(`syncSvc`).start(),r?.(d);let f=d.getBean(`gridApi`);return WS.set(e,f),GS.set(f,e),f}getRegisteredModules(e,t,n){return va(DS,void 0,!0),e?.modules?.forEach(e=>va(e,t)),Sa(t,JS(n))}registerModuleFeatures(e,t){let n=e.getBean(`registry`),r=e.getBean(`apiFunctionSvc`);for(let e of t){n.registerModule(e);let t=e.apiFunctions;if(t){let e=Object.keys(t);for(let n of e)r?.addFunction(n,t[n])}}}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Kn(r)&&(r=new rg);let i={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n?.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){let r={clientSide:`ClientSideRowModel`,infinite:`InfiniteRowModel`,serverSide:`ServerSideRowModel`,viewport:`ViewportRowModel`},i=JS(e),a=r[i];if(!a){Wa(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!Ta()){Wa(272,void 0,NS());return}if(!e){let e=Object.entries(r).filter(([e,t])=>ba(t,n,e));if(e.length==1){let[t,n]=e[0];if(t!==i){let e={moduleName:n,rowModelType:t};Wa(275,e,LS(e));return}}}if(!ba(a,n,i)){let e=Ea(),t=`rowModelType = '${i}'`,r=e?`Unable to use ${t} as that requires the ag-grid-enterprise script to be included.
`:`Missing module ${a}Module for rowModelType ${i}.`;Wa(200,{reasonOrId:t,moduleName:a,gridScoped:xa(),gridId:n,rowModelType:i,isUmd:e},r);return}let o=new Set;for(let e of t)for(let t of e.beans??[])o.add(t);return Array.from(o)}};function JS(e){return e??`clientSide`}function YS(e){let t=e.rowModel;return t.getType()===`clientSide`?t:void 0}function XS(e){let t=e.rowModel;return t.getType()===`infinite`?t:void 0}function ZS(e){let t=e.rowModel;return t.getType()===`serverSide`?t:void 0}var QS=class extends L{constructor(){super(...arguments),this.beanName=`localeSvc`}getLocaleTextFunc(){let e=this.gos,t=e.getCallback(`getLocaleText`);return t?Ri(t):zi(e.get(`localeText`))}};function $S(e,t=!1){let n=[],r=[],i=[],a=[],o=[],s=[],c=[],l=[],u=[],d=0;for(let t=0;t<e.length;t++){let{colId:f,sort:p,sortType:m,sortIndex:h,rowGroup:g,rowGroupIndex:_,aggFunc:v,pivot:y,pivotIndex:b,pinned:x,hide:S,width:C,flex:w}=e[t];u.push(f),p&&(n[h??d++]={colId:f,sort:p,type:m}),g&&(r[_??0]=f),typeof v==`string`&&i.push({colId:f,aggFunc:v}),y&&(a[b??0]=f),x&&(x===`right`?s:o).push(f),S&&c.push(f),(w!=null||C)&&l.push({colId:f,flex:w??void 0,width:C===null?void 0:C})}return{sort:n.length?{sortModel:eC(n)}:void 0,rowGroup:r.length?{groupColIds:eC(r)}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:a.length||t?{pivotMode:t,pivotColIds:eC(a)}:void 0,columnPinning:o.length||s.length?{leftColIds:o,rightColIds:s}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function eC(e){return e.filter(e=>e!=null)}function tC(e){let t=[];for(let{groupId:n,open:r}of e)r&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var nC=class{wrap(e,t,n,r){let i=this.createWrapper(e,r);for(let e of t??[])this.createMethod(i,e,!0);for(let e of n??[])this.createMethod(i,e,!1);return i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&z(49,{methodName:t}),null)}}};function rC(e){return e.get(`tooltipShowMode`)===`whenTruncated`}function iC(e,t){if(typeof e!=`number`)return``;let n=t(),r=n(`thousandSeparator`,`,`),i=n(`decimalSeparator`,`.`);return e.toString().replace(`.`,i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var aC=class extends L{getFileName(e){let t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(`.`)?e:`${e}.${t}`}getData(e){return this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},oC=class{constructor(e){let{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:a,processCellCallback:o,processHeaderCallback:s,processGroupHeaderCallback:c,processRowGroupCallback:l}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=a,this.processCellCallback=o,this.processHeaderCallback=s,this.processGroupHeaderCallback=c,this.processRowGroupCallback=l}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??``}extractRowCellValue(e){let{column:t,node:n,currentColumnIndex:r,accumulatedRowIndex:i,type:a,useRawFormula:o}=e,s=r===0&&po(this.gos,n,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get(`treeData`)||n.group)&&(t.isRowGroupDisplayed(n.rowGroupColumn?.getColId()??``)||s))return{value:this.processRowGroupCallback(H(this.gos,{column:t,node:n}))??``};if(this.processCellCallback)return{value:this.processCellCallback(H(this.gos,{accumulatedRowIndex:i,column:t,node:n,value:this.valueSvc.getValueForDisplay({column:t,node:n}).value,type:a,parseValue:e=>this.valueSvc.parseValue(t,n,e,this.valueSvc.getValue(t,n,void 0)),formatValue:e=>this.valueSvc.formatValue(t,n,e)??e}))??``};let c=this.gos.get(`treeData`),l=this.valueSvc,u=n.level===-1&&n.footer,d=t.colDef.showRowGroup===!0&&(n.group||c);if(!u&&(s||d)){let e=``,r=n;for(;r&&r.level!==-1;){let{value:n,valueFormatted:i}=l.getValueForDisplay({column:s?void 0:t,node:r,includeValueFormatted:!0,exporting:!0});e=` -> ${i??n??``}${e}`,r=r.parent}return{value:e,valueFormatted:e}}let{value:f,valueFormatted:p}=l.getValueForDisplay({column:t,node:n,includeValueFormatted:!0,exporting:!0,useRawFormula:o});return{value:f??``,valueFormatted:p}}getHeaderName(e,t){return e?e(H(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,`csv`,!0)}};function sC(e,t){let n=document.defaultView||window;if(!n){z(52);return}let r=document.createElement(`a`),i=n.URL.createObjectURL(t);r.setAttribute(`href`,i),r.setAttribute(`download`,e),r.style.display=`none`,document.body.appendChild(r),r.dispatchEvent(new MouseEvent(`click`,{bubbles:!1,cancelable:!0,view:n})),r.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var cC={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,overlayComponent:!0,suppressOverlays:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},lC=`clientSide`,uC=`serverSide`,dC=`infinite`,fC={onGroupExpandedOrCollapsed:[lC],refreshClientSideRowModel:[lC],isRowDataEmpty:[lC],forEachLeafNode:[lC],forEachNodeAfterFilter:[lC],forEachNodeAfterFilterAndSort:[lC],resetRowHeights:[lC,uC],applyTransaction:[lC],applyTransactionAsync:[lC],flushAsyncTransactions:[lC],getBestCostNodeSelection:[lC],getServerSideSelectionState:[uC],setServerSideSelectionState:[uC],applyServerSideTransaction:[uC],applyServerSideTransactionAsync:[uC],applyServerSideRowData:[uC],retryServerSideLoads:[uC],flushServerSideAsyncTransactions:[uC],refreshServerSide:[uC],getServerSideGroupLevelState:[uC],refreshInfiniteCache:[dC],purgeInfiniteCache:[dC],getInfiniteRowCount:[dC],isLastRowIndexKnown:[dC,uC],expandAll:[lC,uC],collapseAll:[lC,uC],onRowHeightChanged:[lC,uC],setRowCount:[dC,uC],getCacheBlockState:[dC,uC]},pC={showLoadingOverlay:{version:`v32`,message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:`v32.2`,message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:`v32.2`,old:`getInfiniteRowCount()`,new:`getDisplayedRowCount()`},selectAllFiltered:{version:`v33`,old:`selectAllFiltered()`,new:`selectAll("filtered")`},deselectAllFiltered:{version:`v33`,old:`deselectAllFiltered()`,new:`deselectAll("filtered")`},selectAllOnCurrentPage:{version:`v33`,old:`selectAllOnCurrentPage()`,new:`selectAll("currentPage")`},deselectAllOnCurrentPage:{version:`v33`,old:`deselectAllOnCurrentPage()`,new:`deselectAll("currentPage")`}};function mC(e,t,n){let r=pC[e];if(r){let{version:n,new:i,old:a,message:o}=r,s=a??e;return(...e)=>(sa(`Since ${n} api.${s} is deprecated. ${i?`Please use ${i} instead. `:``}${o??``}`),t.apply(t,e))}let i=fC[e];return i?(...r)=>{let a=n.rowModel.getType();if(!i.includes(a)){ca(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(` or `)}`);return}return t.apply(t,r)}:t}var hC={detailCellRendererCtrl:`SharedMasterDetail`,dndSourceComp:`DragAndDrop`,fillHandle:`CellSelection`,groupCellRendererCtrl:`GroupCellRenderer`,headerFilterCellCtrl:`ColumnFilter`,headerGroupCellCtrl:`ColumnGroup`,rangeHandle:`CellSelection`,tooltipFeature:`Tooltip`,highlightTooltipFeature:`Tooltip`,tooltipStateManager:`Tooltip`,groupStrategy:`RowGrouping`,treeGroupStrategy:`TreeData`,rowNumberRowResizer:`RowNumbers`,singleCell:`EditCore`,fullRow:`EditCore`,agSetColumnFilterHandler:`SetFilter`,agMultiColumnFilterHandler:`MultiFilter`,agGroupColumnFilterHandler:`GroupFilter`,agNumberColumnFilterHandler:`NumberFilter`,agDateColumnFilterHandler:`DateFilter`,agTextColumnFilterHandler:`TextFilter`},gC={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,aasc:1,adesc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},_C={chart:`MenuCore`,cancel:`EnterpriseCore`,first:`Pagination`,previous:`Pagination`,next:`Pagination`,last:`Pagination`,linked:`IntegratedCharts`,loadingMenuItems:`MenuCore`,unlinked:`IntegratedCharts`,menu:`ColumnHeaderComp`,legacyMenu:`ColumnMenu`,filter:`ColumnFilter`,filterActive:`ColumnFilter`,filterAdd:`NewFiltersToolPanel`,filterCardCollapse:`NewFiltersToolPanel`,filterCardExpand:`NewFiltersToolPanel`,filterCardEditing:`NewFiltersToolPanel`,filterTab:`ColumnMenu`,filtersToolPanel:`FiltersToolPanel`,columns:[`MenuCore`],columnsToolPanel:[`ColumnsToolPanel`],maximize:`EnterpriseCore`,minimize:`EnterpriseCore`,save:`MenuCore`,columnGroupOpened:`ColumnGroupHeaderComp`,columnGroupClosed:`ColumnGroupHeaderComp`,accordionOpen:`EnterpriseCore`,accordionClosed:`EnterpriseCore`,accordionIndeterminate:`EnterpriseCore`,columnSelectClosed:[`ColumnsToolPanel`,`ColumnMenu`],columnSelectOpen:[`ColumnsToolPanel`,`ColumnMenu`],columnSelectIndeterminate:[`ColumnsToolPanel`,`ColumnMenu`],columnMovePin:`SharedDragAndDrop`,columnMoveHide:`SharedDragAndDrop`,columnMoveMove:`SharedDragAndDrop`,columnMoveLeft:`SharedDragAndDrop`,columnMoveRight:`SharedDragAndDrop`,columnMoveGroup:`SharedDragAndDrop`,columnMoveValue:`SharedDragAndDrop`,columnMovePivot:`SharedDragAndDrop`,dropNotAllowed:`SharedDragAndDrop`,ensureColumnVisible:[`ColumnsToolPanel`,`ColumnMenu`],groupContracted:`GroupCellRenderer`,groupExpanded:`GroupCellRenderer`,setFilterGroupClosed:`SetFilter`,setFilterGroupOpen:`SetFilter`,setFilterGroupIndeterminate:`SetFilter`,setFilterLoading:`SetFilter`,close:`EnterpriseCore`,check:`MenuItem`,colorPicker:`CommunityCore`,groupLoading:`LoadingCellRenderer`,overlayLoading:`Overlay`,overlayExporting:`Overlay`,menuAlt:`ColumnHeaderComp`,menuPin:`MenuCore`,menuValue:`MenuCore`,menuAddRowGroup:[`MenuCore`,`ColumnsToolPanel`],menuRemoveRowGroup:[`MenuCore`,`ColumnsToolPanel`],clipboardCopy:`MenuCore`,clipboardCut:`MenuCore`,clipboardPaste:`MenuCore`,pivotPanel:[`ColumnsToolPanel`,`RowGroupingPanel`],rowGroupPanel:[`ColumnsToolPanel`,`RowGroupingPanel`],valuePanel:`ColumnsToolPanel`,columnDrag:`EnterpriseCore`,rowDrag:[`RowDrag`,`DragAndDrop`],csvExport:`MenuCore`,excelExport:`MenuCore`,smallDown:`CommunityCore`,selectOpen:`CommunityCore`,richSelectOpen:`RichSelect`,richSelectRemove:`RichSelect`,richSelectLoading:`RichSelect`,smallLeft:`CommunityCore`,smallRight:`CommunityCore`,subMenuOpen:`MenuItem`,subMenuOpenRtl:`MenuItem`,panelDelimiter:`RowGroupingPanel`,panelDelimiterRtl:`RowGroupingPanel`,smallUp:`CommunityCore`,sortAscending:[`MenuCore`,`Sort`],sortDescending:[`MenuCore`,`Sort`],sortAbsoluteAscending:[`MenuCore`,`Sort`],sortAbsoluteDescending:[`MenuCore`,`Sort`],sortUnSort:[`MenuCore`,`Sort`],advancedFilterBuilder:`AdvancedFilter`,advancedFilterBuilderDrag:`AdvancedFilter`,advancedFilterBuilderInvalid:`AdvancedFilter`,advancedFilterBuilderMoveUp:`AdvancedFilter`,advancedFilterBuilderMoveDown:`AdvancedFilter`,advancedFilterBuilderAdd:`AdvancedFilter`,advancedFilterBuilderRemove:`AdvancedFilter`,advancedFilterBuilderSelectOpen:`AdvancedFilter`,chartsMenu:`IntegratedCharts`,chartsMenuEdit:`IntegratedCharts`,chartsMenuAdvancedSettings:`IntegratedCharts`,chartsMenuAdd:`IntegratedCharts`,chartsColorPicker:`IntegratedCharts`,chartsThemePrevious:`IntegratedCharts`,chartsThemeNext:`IntegratedCharts`,chartsDownload:`IntegratedCharts`,checkboxChecked:`CommunityCore`,checkboxIndeterminate:`CommunityCore`,checkboxUnchecked:`CommunityCore`,radioButtonOn:`CommunityCore`,radioButtonOff:`CommunityCore`,rowPin:`PinnedRow`,rowUnpin:`PinnedRow`,rowPinBottom:`PinnedRow`,rowPinTop:`PinnedRow`},vC=new Set([`colorPicker`,`smallUp`,`checkboxChecked`,`checkboxIndeterminate`,`checkboxUnchecked`,`radioButtonOn`,`radioButtonOff`,`smallDown`,`smallLeft`,`smallRight`]),yC=class extends L{constructor(){super(...arguments),this.beanName=`validation`}wireBeans(e){this.gridOptions=e.gridOptions,Na(HS)}warnOnInitialPropertyUpdate(e,t){e===`api`&&cC[t]&&z(22,{key:t})}processGridOptions(e){this.processOptions(e,ob())}validateApiFunction(e,t){return mC(e,t,this.beans)}missingUserComponent(e,t,n,r){let i=zy[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):z(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){let t=hC[e];return t?Ka(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){xC.has(e)&&z(10,{eventType:e})}validateIcon(e){if(vC.has(e)&&z(43,{iconName:e}),gC[e])return;let t=_C[e];if(t){B(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:xa(),gridId:this.beans.context.getId(),rowModelType:this.gos.get(`rowModelType`),additionalText:`Alternatively, use the CSS icon name directly.`});return}z(134,{iconName:e})}isProvidedUserComp(e){return!!zy[e]}validateColDef(e){this.processOptions(e,Ky())}processOptions(e,t){let{validations:n,deprecations:r,allProperties:i,propertyExceptions:a,objectName:o,docsUrl:s}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...a??[],...Object.keys(r)],i,o,s);let c=new Set;if(Object.keys(e).forEach(t=>{let i=r[t];if(i){let{message:e,version:n}=i;c.add(`As of v${n}, ${String(t)} is deprecated. ${e??``}`)}let a=e[t];if(a==null||a===!1)return;let o=n[t];if(!o)return;let{dependencies:s,validate:l,supportedRowModels:u,expectedType:d}=o;if(d){let e=typeof a;if(e!==d){c.add(`${String(t)} should be of type '${d}' but received '${e}' (${a}).`);return}}if(u){let e=this.gridOptions.rowModelType??`clientSide`;if(!u.includes(e)){c.add(`${String(t)} is not supported with the '${e}' row model. It is only valid with: ${u.join(`, `)}.`);return}}if(s){let n=this.checkForRequiredDependencies(t,s,e);if(n){c.add(n);return}}if(l){let t=l(e,this.gridOptions,this.beans);if(t){c.add(t);return}}}),c.size>0)for(let e of c)sa(e)}checkForRequiredDependencies(e,t,n){let r=Object.entries(t).filter(([e,t])=>{let r=n[e];return!t.required.includes(r)});return r.length===0?null:r.map(([t,n])=>`'${String(e)}' requires '${t}' to be one of [${n.required.map(e=>e===null?`null`:e===void 0?`undefined`:e).join(`, `)}]. ${n.reason??``}`).join(`
           `)}checkProperties(e,t,n,r,i){let a=bC(Object.getOwnPropertyNames(e),[...[`__ob__`,`__v_skip`,`__metadata__`],...t,...n],n),o=Object.keys(a);for(let e of o){let t=`invalid ${r} property '${e}' did you mean any of these: ${a[e].slice(0,8).join(`, `)}.`;n.includes(`context`)&&(t+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),sa(t)}o.length>0&&i&&sa(`to see all the valid ${r} properties please check: ${this.beans.frameworkOverrides.getDocLink(i)}`)}};function bC(e,t,n){let r={},i=e.filter(e=>!t.some(t=>t===e));if(i.length>0)for(let e of i)r[e]=eu({inputValue:e,allSuggestions:n}).values;return r}var xC=new Set([`firstChildChanged`,`lastChildChanged`,`childIndexChanged`]),SC={moduleName:`Validation`,version:R,beans:[yC]};function CC(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var wC=class extends L{constructor(){super(...arguments),this.beanName=`filterStage`,this.step=`filter`,this.refreshProps=[`excludeChildrenWhenTreeDataFiltering`]}wireBeans(e){this.filterManager=e.filterManager}execute(e){let t=!!this.filterManager?.isChildFilterPresent();this.beans.formula?.active?this.softFilter(t,e):this.filterNodes(t,e)}filterNodes(e,t){let n=(t,n)=>{t.hasChildren()&&e&&!n?t.childrenAfterFilter=t.childrenAfterGroup.filter(e=>{let t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||n}):t.childrenAfterFilter=t.childrenAfterGroup,CC(t)};if(this.doingTreeDataFiltering()){let e=(t,r)=>{if(t.childrenAfterGroup)for(let i=0;i<t.childrenAfterGroup.length;i++){let a=t.childrenAfterGroup[i],o=r||this.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?e(t.childrenAfterGroup[i],o):n(a,o)}n(t,r)};t.executeFromRootNode(t=>e(t,!1))}else t.forEachChangedNodeDepthFirst(e=>n(e,!1),!0)}softFilter(e,t){t.forEachChangedNodeDepthFirst(t=>{if(t.childrenAfterFilter=t.childrenAfterGroup,t.hasChildren())for(let n of t.childrenAfterGroup)n.softFiltered=e&&!(n.data&&this.filterManager.doesRowPassFilter({rowNode:n}));CC(t)},!0)}doingTreeDataFiltering(){let{gos:e}=this;return e.get(`treeData`)&&!e.get(`excludeChildrenWhenTreeDataFiltering`)}},TC=class extends Gm{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,r,i){this.comp=e;let a=cc(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,a),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(a),this.setupLeft(a),this.setupHover(a),this.setupFocus(a),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(a),this.setupUi(),a.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(a);let o=()=>this.onColDefChanged(a);a.addManagedListeners(this.column,{colDefChanged:o}),a.addManagedEventListeners({filterSwitched:({column:e})=>{e===this.column&&o()}}),a.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return H(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass(`ag-floating-filter-full-body`,this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass(`ag-floating-filter-body`,!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=rh(`filter`,this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Qf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();gr(this.eButtonShowMainFilter,e(`ariaFilterMenuOpen`,`Open Filter Menu`))}onTabKeyDown(e){let{beans:t}=this;if(nr(t)===this.eGui)return;let n=Pl(t,this.eGui,null,e.shiftKey);if(n){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),n.focus();return}let r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case G.UP:case G.DOWN:case G.LEFT:case G.RIGHT:if(t)return;Yf(e);case G.ENTER:t&&Nl(this.eGui)&&e.preventDefault();break;case G.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let t=!!e.relatedTarget&&!e.relatedTarget.classList.contains(`ag-floating-filter`),n=!!e.relatedTarget&&Gr(e.relatedTarget,`ag-floating-filter`);if(t&&n&&e.target===this.eGui){let e=this.lastFocusEvent,t=!!(e&&e.key===G.TAB);if(e&&t){let t=e.shiftKey;Nl(this.eGui,t)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new Hm(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Lo(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:`floatingFilter`,positionBy:`button`})}setupSyncWithFilter(e){if(!this.active)return;let{beans:{colFilter:t},column:n,gos:r}=this,i=e=>{if(e?.source===`filterDestroyed`&&(!this.isAlive()||!t?.isAlive()))return;let i=this.comp.getFloatingFilterComp();i&&i.then(i=>{if(i){if(r.get(`enableFilterHandlers`)){let t=e,n=`filter`;t?.afterFloatingFilter?n=`ui`:t?.afterDataChange?n=`dataChanged`:e?.source===`api`&&(n=`api`),this.updateFloatingFilterParams(this.userCompDetails,n);return}let a=t?.getCurrentFloatingFilterParentModel(n),o=e?{...e,columns:e.columns??[],source:e.source===`api`?`api`:`columnFilter`}:null;i.onParentModelChanged(a,o)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){let t=()=>{let e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle(`ag-filter-active`,this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,a=this.comp.getFloatingFilterComp();!a||!i?this.updateCompDetails(e,i,n):a.then(t=>{!t||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,`colDef`)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(e=>{typeof e?.refresh==`function`&&(this.gos.get(`enableFilterHandlers`)&&(n={...n,model:Tf(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),e.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function EC(e,t){let n=e.colModel.getCol(t);if(!n){B(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:`auto`})}function DC(e){e.menuSvc?.hidePopupMenu()}var OC={moduleName:`SharedMenu`,version:R,beans:[Zm],apiFunctions:{showColumnMenu:EC,hidePopupMenu:DC}},kC={moduleName:`Popup`,version:R,beans:[class extends Hd{getDefaultPopupParent(){return this.beans.ctrlsSvc.get(`gridCtrl`).getGui()}callPostProcessPopup(e,t,n,r,i){let a=this.gos.getCallback(`postProcessPopup`);if(a){let{column:o,rowNode:s}=e??{};a({column:o,rowNode:s,ePopup:n,type:t,eventSource:r,mouseEvent:i})}}getActivePopups(){return this.popupList.map(e=>e.element)}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Xf(e)}}]},AC=`.ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}`;function jC(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function MC(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function NC(e,t){let n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,`api`)}function PC(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function FC(e){return e.filterManager?.getFilterModel()??{}}function IC(e,t,n){let{gos:r,colModel:i,colFilter:a}=e;n&&!r.get(`enableFilterHandlers`)&&(z(288),n=!1);let o=i.getColDefCol(t);return o?a?.getModelForColumn(o,n)??null:null}function LC(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function RC(e,t){let n=e.colModel.getCol(t);if(!n){B(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:`columnFilter`,positionBy:`auto`})}function zC(e){e.menuSvc?.hideFilterMenu()}function BC(e,t){let n=e.colModel.getCol(t);if(!n){B(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function VC(e,t){let{colModel:n,colFilter:r,gos:i}=e;if(!i.get(`enableFilterHandlers`)){z(287);return}let{colId:a,action:o}=t;if(a){let e=n.getColById(a);e&&r?.updateModel(e,o)}else r?.updateAllModels(o)}var HC={filterHandler:()=>({doesFilterPass:()=>!0})},UC=class extends L{constructor(){super(...arguments),this.beanName=`colFilter`,this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...vf},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});let e=this.gos,t={...e.get(`initialState`)?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get(`enableFilterHandlers`)||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded(`rowDataUpdated`)}setModel(e,t=`api`,n){let{colModel:r,dataTypeSvc:i,filterManager:a}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}let o=[],s=this.getModel(!0);if(e){let t=new Set(Object.keys(e));this.allColumnFilters.forEach((n,r)=>{let i=e[r];o.push(this.setModelOnFilterWrapper(n,i)),t.delete(r)}),t.forEach(t=>{let n=r.getColDefCol(t)||r.getCol(t);if(!n){z(62,{colId:t});return}if(!n.isFilterAllowed()){z(63,{colId:t});return}let i=this.getOrCreateFilterWrapper(n,!0);if(!i){z(64,{colId:t});return}o.push(this.setModelOnFilterWrapper(i,e[t],!0))})}else this.model={},this.allColumnFilters.forEach(e=>{o.push(this.setModelOnFilterWrapper(e,null))});W.all(o).then(()=>{let e=this.getModel(!0),r=[];this.allColumnFilters.forEach((t,n)=>{Jn(s?s[n]:null,e?e[n]:null)||r.push(t.column)}),r.length>0?a?.onFilterChanged({columns:r,source:t}):n&&this.updateActive(`filterChanged`)})}getModel(e){let t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((e,n)=>{let r=this.getModelFromFilterWrapper(e);P(r)&&(t[n]=r)}),!e)for(let e of Object.keys(r)){let a=r[e];P(a)&&!n.has(e)&&i.getCol(e)?.isFilterAllowed()&&(t[e]=a)}return t}setState(e,t,n=`api`){if(this.state.clear(),t)for(let e of Object.keys(t)){let n=t[e];this.state.set(e,{model:Tf(this.model,e),state:n})}this.setModel(e,n,!0)}getState(){let e=this.state;if(!e.size)return;let t={},n=!1;return e.forEach((e,r)=>{let i=e.state;i!=null&&(n=!0,t[r]=i)}),n?t:void 0}getModelFromFilterWrapper(e){let t=e.column.getColId();if(e.isHandler)return Tf(this.model,t);let n=e.filter;return n?typeof n.getModel==`function`?n.getModel():(z(66),null):Tf(this.initialModel,t)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(e=>this.disposeFilterWrapper(e,`advancedFilterEnabled`)),!0):!1}updateActiveFilters(){let e=e=>e?e.isFilterActive?e.isFilterActive():(z(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!uo(n),i=e=>{if(!e.isPrimary())return!0;let n=!t.isPivotActive();return!e.isValueActive()||!n?!1:t.isPivotMode()?!0:r},a=[],o=[],s=(e,t,n)=>{t&&(i(e)?a.push(n):o.push(n))},c=[];return this.allColumnFilters.forEach(t=>{let n=t.column,r=n.getColId();if(t.isHandler)c.push(W.resolve().then(()=>{s(n,this.isHandlerActive(n),{colId:r,isHandler:!0,handler:t.handler,handlerParams:t.handlerParams})}));else{let i=bf(t);i&&c.push(i.then(t=>{s(n,e(t),{colId:r,isHandler:!1,comp:t})}))}}),W.all(c).then(()=>{this.activeAggregateFilters=a,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){let n=[];return this.allColumnFilters.forEach(r=>{let i=r.column;if(r.isHandler)n.push(W.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{let a=bf(r);a&&n.push(a.then(n=>{this.setColFilterActive(i,n.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),W.all(n)}doFiltersPass(e,t,n){let{data:r,aggData:i}=e,a=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,s=this.model;for(let n=0;n<a.length;n++){let r=a[n],{colId:i,isHandler:c}=r;if(i!==t)if(c){let{handler:t,handlerParams:n}=r;if(!t.doesFilterPass({node:e,data:o,model:Tf(s,i),handlerParams:n}))return!1}else{let t=r.comp;if(typeof t.doesFilterPass!=`function`){B(91);continue}if(!t.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){let t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){let{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns(`filterChanged`,n).then(()=>{this.allColumnFilters.forEach(e=>{let{column:t,isHandler:n}=e;r!==t.getColId()&&(n&&e.handler.onAnyFilterChanged?.(),bf(e,n)?.then(e=>{typeof e?.onAnyFilterChanged==`function`&&e.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get(`allowShowChangeAfterFilter`)??!1)&&this.processingFilterChange}onNewRowsLoaded(e){let t=[];this.allColumnFilters.forEach(e=>{let n=e.isHandler;n&&e.handler.onNewRowsLoaded?.();let r=bf(e,n);r&&t.push(r.then(e=>{e.onNewRowsLoaded?.()}))}),W.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){let{filterValueSvc:n,colModel:r}=this.beans;return(i,a)=>{let o=a?r.getCol(a):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){let t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);let n=t?.filter;return n?n.isFilterActive():Tf(this.initialModel,e.getColId())!=null}isHandlerActive(e){let t=P(Tf(this.model,e.getColId()));if(t)return t;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){let t=this.getOrCreateFilterWrapper(e,!0);return t?bf(t):null}getFilterUiForDisplay(e){let t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;let n=bf(t);return n?n.then(e=>({comp:e,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){let n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return Io(this.gos)?t?`agSetColumnFloatingFilter`:`agSetColumnFilter`:Kf(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,a){let o=()=>{let o=r(this.createFilterCompParams(e,i,a),i);return qc(this.beans.userCompFactory,t,o,n)},s=o();return s?{compDetails:s,createFilterUi:e=>(e?o():s).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){let i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));let{handler:a,handlerParams:o,handlerGenerator:s}=this.createHandler(e,t,n)??{},c=this.createFilterComp(e,t,n,r,!!a,`init`);if(!c)return{compDetails:null,createFilterUi:null,handler:a,handlerGenerator:s,handlerParams:o};let{compDetails:l,createFilterUi:u}=c;return this.isGlobalButtons&&(l.params?.buttons?.length||z(281,{colId:e.getColId()})),{compDetails:l,handler:a,handlerGenerator:s,handlerParams:o,createFilterUi:u}}createBaseFilterParams(e,t){let{filterManager:n,rowModel:r}=this.beans;return H(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:t=>n?.doesRowPassOtherFilters(e.getColId(),t)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){let i=this.filterChangedCallbackFactory(e),a=this.createBaseFilterParams(e,r);if(a.filterChangedCallback=i,a.filterModifiedCallback=r?()=>{}:t=>this.filterModified(e,t),t){let t=a,r=e.getColId(),o=Tf(this.model,r);t.model=o,t.state=this.state.get(r)??{model:o},t.onModelChange=(t,n)=>{this.updateStoredModel(r,t),this.refreshHandlerAndUi(e,t,`ui`,!1,n).then(()=>{i({...n,source:`columnFilter`})})},t.onStateChange=t=>{this.updateState(e,t),this.updateOrRefreshFilterUi(e)},t.onAction=(t,n,r)=>{this.updateModel(e,t,n),this.dispatchLocalEvent({type:`filterAction`,column:e,action:t,event:r})},t.getHandler=()=>this.getHandler(e,!0),t.onUiChange=t=>this.filterUiChanged(e,t),t.source=n}return a}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){let r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){let{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:a}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),e=>e),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:`init`,model:Tf(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,a)};if(a){let n={column:e,filterUi:null,isHandler:!1};return n.filterUi=this.createFilterUiLegacy(t,a,e=>{n.filter=e??void 0}),n}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){let{gos:r,frameworkOverrides:i,registry:a}=this.beans,o,s=e=>{let t=e.filter;return mc(t)?t.handler||(o=t.doesFilterPass,o?()=>({doesFilterPass:o}):void 0):typeof t==`string`?t:void 0},c=r.get(`enableFilterHandlers`),l=c?s(t):void 0,u=e=>()=>this.createBean(a.createDynamicBean(e,!0)),d,f;if(typeof l==`string`){let e=r.get(`filterHandlers`)?.[l];e==null?yf.has(l)&&(d=u(l),f=l):d=e}else d=l;if(!d){let e,{compName:r,jsComp:a,fwComp:o}=Zc(i,t);r?e=r:a==null&&o==null&&t.filter===!0&&(e=n),f=this.handlerMap[e],f&&(d=u(f))}return d?{filterHandler:d,handlerNameOrCallback:o??f}:c?(Ja(r)&&z(277,{colId:e.getColId()}),HC):void 0}createHandler(e,t,n){let r=this.createHandlerFunc(e,t,n);if(!r)return;let i=Qc(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,`init`)),{handlerNameOrCallback:a,filterHandler:o}=r,{handler:s,handlerParams:c}=this.createHandlerFromFunc(e,o,i);return{handler:s,handlerParams:c,handlerGenerator:a??o}}createHandlerFromFunc(e,t,n){let r=e.getColDef();return{handler:t(H(this.gos,{column:e,colDef:r})),handlerParams:this.createHandlerParams(e,n)}}createHandlerParams(e,t){let n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return H(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:e=>this.beans.filterManager?.doesRowPassOtherFilters(r,e)??!0,onModelChange:(t,n)=>{this.updateStoredModel(r,t),this.refreshHandlerAndUi(e,t,`handler`,!1,n).then(()=>{i({...n,source:`columnFilter`})})},filterParams:t})}onColumnsChanged(){let e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((n,r)=>{let i;i=n.column.isPrimary()?t.getColDefCol(r):t.getCol(r),!(i&&i===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,`columnChanged`),this.disposeColumnListener(r))});let i=r&&e.every(e=>r.isGroupFilter(e));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:`api`})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let t=this.beans.groupFilter;return t?.isGroupFilter(e)?t.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){let{userCompFactory:n,frameworkOverrides:r,selectableFilter:i,gos:a}=this.beans,o=t=>{this.getOrCreateFilterUi(e)?.then(e=>{t($c(e))})},s=e.getColDef(),c=i?.isSelectable(s)?i.getFilterDef(e,s):s,l=tp(r,c,()=>this.getDefaultFloatingFilter(e))??`agReadOnlyFloatingFilter`,u=a.get(`enableFilterHandlers`),d=H(a,{column:e,filterParams:Qc(n,c,this.createFilterCompParams(e,u,`init`,!0)),currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:o,showParentFilter:t});if(u){let t=d,n=e.getColId(),r=this.filterChangedCallbackFactory(e);t.onUiChange=t=>this.floatingFilterUiChanged(e,t),t.model=Tf(this.model,n),t.onModelChange=(t,i)=>{this.updateStoredModel(n,t),this.refreshHandlerAndUi(e,t,`floating`,!0,i).then(()=>{r({...i,source:`columnFilter`})})},t.getHandler=()=>this.getHandler(e,!0),t.source=`init`}return Xc(n,s,d,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){let i=`paramsUpdated`;if(e.isHandler){let a=t.getColId();delete this.initialModel[a],this.state.delete(a);let o=e.filterUi;e.filterUi=this.createFilterUiForHandler(n,r);let s=this.eventSvc;o?.created?o.promise.then(e=>{this.destroyBean(e),s.dispatchEvent({type:`filterDestroyed`,source:i,column:t})}):s.dispatchEvent({type:`filterHandlerDestroyed`,source:i,column:t})}else this.destroyFilter(t,i)}destroyFilter(e,t=`api`){let n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(t=>{t&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:`api`})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1,{column:r,isHandler:i,filterUi:a}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));let s=()=>{this.setColFilterActive(r,!1,`filterDestroyed`),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:`filterDestroyed`,source:t,column:r})};if(a){if(a.created)return a.promise.then(e=>(n=i?n:!!e?.isFilterActive(),this.destroyBean(e),s(),n));s()}return W.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??`columnFilter`})}}filterParamsChanged(e,t=`api`){let n=this.allColumnFilters.get(e);if(!n)return;let r=this.beans,i=n.column,a=i.getColDef(),o=i.isFilterAllowed(),s=this.getDefaultFilter(i),c=r.selectableFilter,l=c?.isSelectable(a)?c.getFilterDef(i,a):a,u=o?this.createHandlerFunc(i,l,this.getDefaultFilter(i)):void 0,d=!!u,f=n.isHandler;if(f!=d){this.destroyFilter(i,`paramsUpdated`);return}let{compDetails:p,createFilterUi:m}=(o?this.createFilterComp(i,l,s,e=>e,d,`colDef`):null)??{compDetails:null,createFilterUi:null},h=p?.params??Qc(r.userCompFactory,l,this.createFilterCompParams(i,d,`colDef`));if(f){let r=u?.handlerNameOrCallback??u?.filterHandler,a=Tf(this.model,e);if(n.handlerGenerator!=r){let o=n.handler,{handler:s,handlerParams:c}=this.createHandlerFromFunc(i,u.filterHandler,h);n.handler=s,n.handlerParams=c,n.handlerGenerator=r,delete this.model[e],s.init?.({...c,source:`init`,model:null}),this.destroyBean(o),a!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{let e=this.createHandlerParams(i,p?.params);n.handlerParams=e,n.handler.refresh?.({...e,source:`colDef`,model:a})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,p)||!n.filterUi||!p){this.destroyFilterUi(n,i,p,m);return}n.filterUi.filterParams=h,bf(n,f)?.then(e=>{(e?.refresh?e.refresh(h):!0)===!1?this.destroyFilterUi(n,i,p,m):this.dispatchLocalEvent({type:`filterParamsChanged`,column:i,params:h})})}refreshHandlerAndUi(e,t,n,r,i){let a=this.cachedFilter(e);if(!a)return r&&this.getOrCreateFilterWrapper(e,!0),W.resolve();if(!a.isHandler)return W.resolve();let{filterUi:o,handler:s,handlerParams:c}=a;return xf(()=>{if(o){let{created:e,filterParams:t}=o;if(e)return o.promise.then(e=>e?{filter:e,filterParams:t}:void 0);o.refreshed=!0}return W.resolve(void 0)},s,c,t,this.state.get(e.getColId())??{model:t},n,i)}setColumnFilterWrapper(e,t){let n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(e=>e.getColDef().floatingFilter)}getFilterInstance(e){let t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);let n=this.getOrCreateFilterUi(t);return n?new Promise(e=>{n.then(t=>{e($c(t))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){let{state:t,model:n}=this,r=e.getColId(),i=t.get(r);return i?i.model??null:Tf(n,r)}let n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{},r=new Promise(e=>{n=e});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(e=>n(e))})}getStateForColumn(e){return this.state.get(e)??{model:Tf(this.model,e)}}setModelForColumnLegacy(e,t){let n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):W.resolve()}setColDefPropsForDataType(e,t,n){let r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!=`string`)return;let a,o,s=this.beans,{filterParams:c,filterValueGetter:l}=e;i===`agMultiColumnFilter`?{filterParams:a,filterValueGetter:o}=s.multiFilter?.getParamsForDataType(c,l,t,n)??{}:{filterParams:a,filterValueGetter:o}=Uf(i,c,l,t,n,s,this.getLocaleTextFunc()),e.filterParams=a,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent(`filterActiveChanged`,n)),e.dispatchColEvent(`filterChanged`,n,r)}setModelOnFilterWrapper(e,t,n){return new W(r=>{if(e.isHandler){let i=e.column,a=i.getColId(),o=this.model[a];if(this.updateStoredModel(a,t),n&&t===o){r();return}this.refreshHandlerAndUi(i,t,`api`).then(()=>r());return}let i=bf(e);if(i){i.then(e=>{if(typeof e?.setModel!=`function`){z(65),r();return}(e.setModel(t)||W.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){P(t)?this.model[e]=t:delete this.model[e];let n={model:t,state:this.state.get(e)?.state};this.state.set(e,n)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:`filterModified`,column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get(`enableFilterHandlers`)&&this.eventSvc.dispatchEvent({type:`filterUiChanged`,column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get(`enableFilterHandlers`)&&this.eventSvc.dispatchEvent({type:`floatingFilterUiChanged`,column:e,...t})}updateModel(e,t,n){let r=e.getColId(),i=this.cachedFilter(e),a=()=>i?.filterUi;wf({action:t,filterParams:i?.filterUi?.filterParams,getFilterUi:a,getModel:()=>Tf(this.model,r),getState:()=>this.state.get(r),updateState:t=>this.updateState(e,t),updateModel:e=>a()?.filterParams?.onModelChange(e,{...n,fromAction:t}),processModelToApply:i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0})}updateAllModels(e,t){let n=[];this.allColumnFilters.forEach((t,r)=>{let i=this.beans.colModel.getColDefCol(r);i&&wf({action:e,filterParams:t.filterUi?.filterParams,getFilterUi:()=>t.filterUi,getModel:()=>Tf(this.model,r),getState:()=>this.state.get(r),updateState:e=>this.updateState(i,e),updateModel:t=>{this.updateStoredModel(r,t),this.dispatchLocalEvent({type:`filterAction`,column:i,action:e}),n.push(this.refreshHandlerAndUi(i,t,`ui`))},processModelToApply:t?.isHandler?t.handler.processModelToApply?.bind(t.handler):void 0})}),n.length&&W.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:`columnFilter`,additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){let t=e.getColId();Cf(()=>this.cachedFilter(e)?.filterUi,()=>Tf(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:`filterStateChanged`,column:e,state:t})}canApplyAll(){let{state:e,model:t,activeFilterComps:n}=this;for(let e of n)if(e.source===`COLUMN_MENU`)return!1;let r=!1;for(let n of e.keys()){let i=e.get(n);if(i.valid===!1)return!1;(i.model??null)!==Tf(t,n)&&(r=!0)}return r}hasUnappliedModel(e){let{model:t,state:n}=this;return(n.get(e)?.model??null)!==Tf(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:`filterGlobalButtons`,isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t===`newFiltersToolPanel`)return!0;let n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,`gridDestroyed`)),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function WC(e){return!!e.filterManager?.isAnyFilterPresent()}function GC(e,t=`api`){e.filterManager?.onFilterChanged({source:t})}var KC=class extends L{constructor(){super(...arguments),this.beanName=`filterManager`,this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:e})=>this.onAdvFilterEnabledChanged(e),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners([`isExternalFilterPresent`,`doesExternalFilterPass`],()=>{this.onFilterChanged({source:`api`})}),this.updateAggFiltering(),this.addManagedPropertyListener(`groupAggFiltering`,()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:`quickFilter`})});let{gos:n}=this;this.alwaysPassFilter=n.get(`alwaysPassFilter`),this.addManagedPropertyListener(`alwaysPassFilter`,()=>{this.alwaysPassFilter=n.get(`alwaysPassFilter`),this.onFilterChanged({source:`api`})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback(`isExternalFilterPresent`);return typeof e==`function`&&e({})}doesExternalFilterPass(e){let t=this.gos.get(`doesExternalFilterPass`);return typeof t==`function`&&t(e)}setFilterState(e,t,n=`api`){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t=`api`,n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:`advancedFilter`}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:`advancedFilter`}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){uo(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):W.resolve()).then(()=>{let e={source:t,type:`filterChanged`,columns:r};n&&$i(e,n),this.eventSvc.dispatchEvent(e),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!uo(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get(`applyQuickFilterBeforePivotOrAgg`)}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t=`api`){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:`advancedFilter`})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){z(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(let e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},qC=class extends L{constructor(){super(...arguments),this.beanName=`filterMenuFactory`}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({additionalParams:{column:e},type:n,mouseEvent:t,ePopup:r})},n,t.target,Lo(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,a=`left`,o=Lo(this.gos);!o&&this.gos.get(`enableRtl`)&&(i=1,a=`right`);let s=o?void 0:4*i,c=o?void 0:4;this.showPopup(e,r=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:r,nudgeX:s,nudgeY:c,alignSide:a,keepWithinBounds:!0,position:`under`,additionalParams:{column:e}})},n,t,o,r)}showPopup(e,t,n,r,i,a){let o=e?this.createBean(new If(e,`COLUMN_MENU`)):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){B(57);return}let s=Ef({tag:`div`,cls:`ag-menu${i?``:` ag-filter-menu`}`,role:`presentation`});[this.tabListener]=this.addManagedElementListeners(s,{keydown:e=>this.trapFocusWithin(e,s)}),s.appendChild(o?.getGui());let c,l=()=>o?.afterGuiDetached(),u=Ro(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,d=t=>{Qm(e,!1,`contextMenu`);let i=t instanceof KeyboardEvent;this.tabListener&&=this.tabListener(),i&&r&&ri(r)&&Fl(r)?.focus({preventScroll:!0}),l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),a?.()},f=this.getLocaleTextFunc(),p=i&&n!==`columnFilter`?f(`ariaLabelColumnMenu`,`Column Menu`):f(`ariaLabelColumnFilter`,`Column Filter`),m=this.popupSvc?.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(s),anchorToElement:u,ariaLabel:p});m&&(this.hidePopup=c=m.hideFunc),o.afterInit().then(()=>{t(s),o.afterGuiAttached({container:n,hidePopup:c})}),Qm(e,!0,`contextMenu`),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==G.TAB||e.defaultPrevented||Pl(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Nl(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:`columnMenuVisibleChanged`,visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??[`filterMenuTab`]).includes(`filterMenuTab`)}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},JC=class extends L{constructor(){super(...arguments),this.beanName=`filterValueSvc`}getValue(e,t,n){if(!t)return;let r=e.getColDef(),{selectableFilter:i,valueSvc:a,formula:o}=this.beans,s=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;if(s)return this.executeFilterValueGetter(s,t.data,e,t,r);let c=a.getValue(e,t);return e.isAllowFormula()&&o?.isFormula(c)?o.resolveValue(e,t):c}executeFilterValueGetter(e,t,n,r,i){let{expressionSvc:a,valueSvc:o}=this.beans,s=H(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e==`function`?e(s):a?.evaluate(e,s)}},YC={tag:`div`,cls:`ag-floating-filter-input`,role:`presentation`,children:[{tag:`ag-input-text-field`,ref:`eFloatingFilterText`}]},XC=class extends pc{constructor(){super(YC,[fu]),this.eFloatingFilterText=null}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,`header`,!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()(`ariaFilterInput`,`Filter Input`)}`),this.gos.get(`enableFilterHandlers`)){let t=e,n=t.getHandler();if(n.getModelAsString){let e=n.getModelAsString(t.model);this.eFloatingFilterText.setValue(e)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue(``);return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},ZC=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){let n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){let{filterOptions:e}=this;if(e){for(let t of e)if(typeof t!=`string`){if(![[`displayKey`],[`displayName`],[`predicate`,`test`]].every(e=>e.some(e=>t[e]!=null)?!0:(z(72,{keys:e}),!1))){this.filterOptions=e.filter(e=>e===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}}getDefaultItem(e){let{filterOptions:t}=this;if(e)return e;if(t.length>=1){let e=t[0];if(typeof e==`string`)return e;if(e.displayKey)return e.displayKey;z(73)}else z(74)}getCustomOption(e){return this.customFilterOptions[e]}};function QC(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function $C(e){return e==null||typeof e==`string`&&e.trim().length===0}function ew(e){return e===`AND`||e===`OR`?e:`AND`}function tw(e,t,n){if(e==null)return;let{predicate:r}=e;if(r!=null&&!t.some(e=>e==null))return r(t,n)}function nw(e,t){let n=e.length;return n>t&&(e.splice(t),z(78),n=t),n}function rw(e,t){let n=t.getCustomOption(e);if(n){let{numberOfInputs:e}=n;return e??1}return e&&[`empty`,`notBlank`,`blank`].indexOf(e)>=0?0:e===`inRange`?2:1}var iw=class extends $f{constructor(e,t,n){super(e,`simple-filter`),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);let t=new ZC;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=ew(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions(),pi(this.getGui(),`tabindex`,this.isReadOnly()?`-1`:null)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(`immediately`,!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{let r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?`OR`:`AND`}areNonNullModelsEqual(e,t){let n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let i;if(n){let n=e,r=t;i=this.areSimpleModelsEqual(n,r)}else{let n=e,r=t;i=n.operator===r.operator&&ls(n.conditions,r.conditions,(e,t)=>this.areSimpleModelsEqual(e,t))}return i}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),W.resolve();if(e.operator){let t=e,n=t.conditions;n??(n=[],z(77));let r=nw(n,this.maxNumConditions),i=this.getNumConditions();if(r<i)this.removeConditionsAndOperators(r);else if(r>i)for(let e=i;e<r;e++)this.createJoinOperatorPanel(),this.createOption();let a=t.operator===`OR`;this.eJoinAnds.forEach(e=>e.setValue(!a,!0)),this.eJoinOrs.forEach(e=>e.setValue(a,!0)),n.forEach((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)})}else{let t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),W.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(z(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(z(80),n=1),n>t&&(z(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){let e=this.getGui(),t=this.createManagedBean(new Eu);this.eTypes.push(t),t.addCss(`ag-filter-select`),e.appendChild(t.getGui());let n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);let r=this.getNumConditions()-1;this.forEachPositionInput(r,e=>this.resetInput(e)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){let e=Ef({tag:`div`,cls:`ag-filter-condition`});this.eJoinPanels.push(e);let t=this.createJoinOperator(this.eJoinAnds,e,`and`),n=this.createJoinOperator(this.eJoinOrs,e,`or`);this.getGui().appendChild(e);let r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){let r=this.createManagedBean(new uu);e.push(r);let i=`ag-filter-condition-operator`;return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e==`string`?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;for(let n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let t=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);let n=e+1,r=t-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((t,n)=>{let r=this.isConditionDisabled(n,e);t.setDisabled(r||this.filterListOptions.length<=1),n===1&&(Wr(this.eJoinPanels[0],r),this.eJoinAnds[0].setDisabled(r),this.eJoinOrs[0].setDisabled(r))}),this.eConditionBodies.forEach((e,t)=>{F(e,this.isConditionBodyVisible(t))});let n=(t??this.getJoinOperator())===`OR`;for(let e of this.eJoinAnds)e.setValue(!n,!0);for(let e of this.eJoinOrs)e.setValue(n,!0);this.forEachInput((t,n,r,i)=>{this.setElementDisplayed(t,n<i),this.setElementDisabled(t,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:a,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);let s=Math.max(e-1,0);this.removeElements(i,s,t),this.removeComponents(a,s,t),this.removeComponents(o,s,t)}removeElements(e,t,n){let r=QC(e,t,n);for(let e of r)ti(e)}removeComponents(e,t,n){let r=QC(e,t,n);for(let e of r)ti(e.getGui()),this.destroyBean(e)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let e;if(!this.isReadOnly()){let t=this.getInputs(0)[0];e=t instanceof su&&this.isConditionBodyVisible(0)?t.getInputElement():this.eTypes[0]?.getFocusableElement()}(e??this.getGui()).focus({preventScroll:!0})}}shouldKeepInvalidInputState(){return!1}afterGuiDetached(){super.afterGuiDetached();let e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column)||this.shouldKeepInvalidInputState())return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1,i=this.getJoinOperator();for(let e=this.getNumConditions()-1;e>=0;e--)if(this.isConditionUiComplete(e))t===-1&&(t=e,n=e);else{let i=e>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(e-1),a=e<t;(i||a)&&(this.removeConditionsAndOperators(e,1),r=!0,a&&n--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??``}resetPlaceholder(){let e=this.getLocaleTextFunc(),{filterPlaceholder:t,eTypes:n}=this;this.forEachInput((r,i,a,o)=>{if(!(r instanceof su))return;let s=i===0&&o>1?`inRangeStart`:i===0?`filterOoo`:`inRangeEnd`,c=i===0&&o>1?e(`ariaFilterFromValue`,`Filter from value`):i===0?e(`ariaFilterValue`,`Filter Value`):e(`ariaFilterToValue`,`Filter to Value`),l=n[a].getValue(),u=Nf(this,t,s,l);r.setInputPlaceholder(u),r.setInputAriaLabel(c)})}setElementValue(e,t,n){e instanceof su&&e.setValue(t==null?null:String(t),!0)}setElementDisplayed(e,t){lc(e)&&F(e.getGui(),t)}setElementDisabled(e,t){lc(e)&&Wr(e.getGui(),t)}attachElementOnChange(e,t){e instanceof su&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){let r=rw(t,this.optionsFactory),i=this.getInputs(e);for(let t=0;t<i.length;t++){let a=i[t];a!=null&&n(a,t,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){return rw(this.getConditionType(e),this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===`empty`||this.getValues(e).some(e=>e==null)||this.positionHasInvalidInputs(e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinAnds.forEach((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t)),this.eJoinOrs.forEach((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){let t=this.getLocaleTextFunc()(`ariaFilteringOperator`,`Filtering operator`);e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator===`AND`,this.translate(`andCondition`),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator===`OR`,this.translate(`orCondition`),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){let e=(e,t)=>this.updateJoinOperatorDisabled(e,t);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((e,r,i)=>{i===t&&this.setElementValue(e,n[r]==null?null:n[r])})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,e=>{this.attachElementOnChange(e,this.listener)}))}hasInvalidInputs(){return!1}positionHasInvalidInputs(e){return!1}isReadOnly(){return!!this.params.readOnly}},aw=`.ag-input-field-input`,ow=class{constructor(e,t,n,r,i,a){this.context=e,this.eParent=i,this.alive=!0,this.debouncedReport=Ji({isAlive:()=>this.alive},sw,500),this.timeoutHandle=null,Jc(t,n,r)?.newAgStackInstance().then(t=>{if(!this.alive){e.destroyBean(t);return}if(this.dateComp=t,!t)return;i.appendChild(t.getGui()),t?.afterGuiAttached?.();let{tempValue:n,disabled:r}=this;n&&t.setDate(n),r!=null&&t.setDisabled?.(r),a?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){F(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}setCustomValidity(e,t=!1){let n=this.dateComp?.getGui().querySelector(aw);if(n&&`setCustomValidity`in n){let r=e.length>0;n.setCustomValidity(e),r?t?this.timeoutHandle=this.debouncedReport(n):sw(n):this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),xr(n,r)}}getValidity(){return this.dateComp?.getGui().querySelector(aw)?.validity}};function sw(e){e.reportValidity()}var cw=[`equals`,`notEqual`,`lessThan`,`greaterThan`,`inRange`,`blank`,`notBlank`];function lw(e,t){let{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&$l(n,void 0,!0)||null,r&&$l(r,void 0,!0)||null].slice(0,rw(i,t))}var uw=1e3,dw=1/0,fw=class extends iw{constructor(){super(`dateFilter`,lw,cw),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=uw,this.maxValidYear=dw,this.minValidDate=null,this.maxValidDate=null,this.filterType=`date`}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!_l()&&this.hasInvalidInputs()&&this.getConditionTypes().includes(`inRange`)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);let t=(t,n)=>{let r=e[t];if(r!=null)if(isNaN(r))z(82,{param:t});else return r==null?n:Number(r);return n},n=t(`minValidYear`,uw),r=t(`maxValidYear`,dw);this.minValidYear=n,this.maxValidYear=r,n>r&&z(83);let{minValidDate:i,maxValidDate:a}=e,o=i instanceof Date?i:$l(i);this.minValidDate=o;let s=a instanceof Date?a:$l(a);this.maxValidDate=s,o&&s&&o>s&&z(84)}refreshInputValidation(){for(let e=0;e<this.dateConditionFromComps.length;e++)this.refreshInputPairValidation(e,!1,!0)}refreshInputPairValidation(e,t=!1,n=!1){let{dateConditionFromComps:r,dateConditionToComps:i,beans:a}=this,o=r[e],s=i[e],c=o.getDate(),l=s.getDate(),u=pw(c,l,t),d=u?this.translate(u,[String(t?l:c)]):``,f=!_l()&&!n;(t?o:s).setCustomValidity(d,f),(t?s:o).setCustomValidity(``,f),d.length>0&&a.ariaAnnounce.announceValue(d,`dateFilter`)}createDateCompWrapper(e,t,n){let{beans:{userCompFactory:r,context:i,gos:a},params:o}=this,s=n===`from`,c=new ow(i,r,o.colDef,H(a,{onDateChanged:()=>{this.refreshInputPairValidation(t,s),this.onUiChanged()},onFocusIn:()=>this.refreshInputPairValidation(t,s),filterParams:o,location:`filter`}),e);return this.addDestroyFunc(()=>c.destroy()),c}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}setElementValue(e,t){e.setDate(t),t||e.setCustomValidity(``)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){let e=Ef({tag:`div`,cls:`ag-filter-body`});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,`from`),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,`to`),e}createFromToElement(e,t,n,r){let i=Ef({tag:`div`,cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i,t.length-1,r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),QC(this.eConditionPanelsFrom,e,t),QC(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){let r=QC(e,t,n);for(let e of r)e.destroy()}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||=t.getDate()!=null&&!(t.getValidity()?.valid??!0)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,e=>t||=!(e.getValidity()?.valid??!0)),t}canApply(e){return!this.hasInvalidInputs()}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachPositionInput(e,(e,n,r,i)=>{!t||n>=i||(t&&=this.isValidDateValue(e.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),n={},r=this.getValues(e),i=this.params.useIsoSeparator?`T`:` `;return r.length>0&&(n.dateFrom=Y(r[0],!0,i)),r.length>1&&(n.dateTo=Y(r[1],!0,i)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate(`dateFormatOoo`),n=e(`ariaFilterValue`,`Filter Value`);this.forEachInput(e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(n)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(e,n,r,i)=>{n<i&&t.push(e.getDate())}),t}translate(e,t){let n=e;return e===`lessThan`?n=`before`:e===`greaterThan`&&(n=`after`),super.translate(n,t)}};function pw(e,t,n){return e!=null&&t!=null&&e>=t?`${n?`max`:`min`}DateValidation`:null}var mw=class extends L{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){let t=e.filterParams,n=new ZC;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source===`colDef`){let t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){let t=e.model;if(t==null)return!0;let{operator:n}=t,r=[];if(n){let e=t;r.push(...e.conditions??[])}else r.push(t);let i=n&&n===`OR`?`some`:`every`,a=this.params.getValue(e.node);return r[i](t=>this.individualConditionPasses(e,t,a))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??``}validateModel(e){let{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let i=ep(t)?t.conditions:[t],a=n?.map(e=>typeof e==`string`?e:e.displayKey)??this.defaultOptions;if(!(!i||i.every(e=>a.find(t=>t===e.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let o=!1,s=this.filterType;if((i&&!i.every(e=>e.filterType===s)||t.filterType!==s)&&(i=i.map(e=>({...e,filterType:s})),o=!0),typeof r==`number`&&i&&i.length>r&&(i=i.slice(0,r),o=!0),o){let n=i.length>1?{...t,filterType:s,conditions:i}:{...i[0],filterType:s};this.params={...e,model:n},e.onModelChange(n)}}individualConditionPasses(e,t,n){let r=this.optionsFactory,i=this.mapValuesFromModel(t,r);return tw(r.getCustomOption(t.type),i,n)??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},hw=class extends mw{evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:a}=this.params.filterParams;switch(e){case`equals`:if(t)return!0;break;case`notEqual`:if(n)return!0;break;case`greaterThan`:case`greaterThanOrEqual`:if(r)return!0;break;case`lessThan`:case`lessThanOrEqual`:if(i)return!0;break;case`inRange`:if(a)return!0;break;case`blank`:return!0;case`notBlank`:return!1}return!1}evaluateNonNullValue(e,t,n){let r=n.type;if(!this.isValid(t))return r===`notEqual`||r===`notBlank`;let i=this.comparator(),a=e[0]==null?0:i(e[0],t);switch(r){case`equals`:return a===0;case`notEqual`:return a!==0;case`greaterThan`:return a>0;case`greaterThanOrEqual`:return a>=0;case`lessThan`:return a<0;case`lessThanOrEqual`:return a<=0;case`inRange`:{let n=i(e[1],t);return this.params.filterParams.inRangeInclusive?a>=0&&n<=0:a>0&&n<0}case`blank`:return $C(t);case`notBlank`:return!$C(t);default:return z(76,{filterModelType:r}),!0}}},gw={equals:`Equals`,notEqual:`NotEqual`,greaterThan:`GreaterThan`,greaterThanOrEqual:`GreaterThanOrEqual`,lessThan:`LessThan`,lessThanOrEqual:`LessThanOrEqual`,inRange:`InRange`},_w={contains:`Contains`,notContains:`NotContains`,equals:`TextEquals`,notEqual:`TextNotEqual`,startsWith:`StartsWith`,endsWith:`EndsWith`,inRange:`InRange`},vw=class extends L{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){let n=this.getLocaleTextFunc(),r=t===`filterToolPanel`;if(!e)return r?Af(this,`filterSummaryInactive`):null;if(e.operator!=null){let n=e,r=(n.conditions??[]).map(e=>this.getModelAsString(e,t)),i=n.operator===`AND`?`andCondition`:`orCondition`;return r.join(` ${Af(this,i)} `)}else if(e.type===`blank`||e.type===`notBlank`)return r?Af(this,e.type===`blank`?`filterSummaryBlank`:`filterSummaryNotBlank`):n(e.type,e.type);else{let t=e,{displayKey:i,displayName:a,numberOfInputs:o}=this.optionsFactory.getCustomOption(t.type)||{};return i&&a&&o===0?n(i,a):this.conditionToString(t,r,t.type===`inRange`||o===2,i,a)}}updateParams(e){let{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,a){let o,s=this.getTypeKey(e);return s&&(o=Af(this,s)),i&&a&&(o=this.getLocaleTextFunc()(i,a)),o==null?null:t?`${o} ${Af(this,`filterSummaryInRangeValues`,[n(),r()])}`:`${o} ${n()}`}getTypeKey(e){let t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??``:String(e)}},yw=class extends vw{constructor(e,t){super(e,t,e=>{let{dataTypeSvc:n,valueSvc:r}=this.beans,i=t.column,a=n?.getDateFormatterFunction(i),o=a?a(e??void 0):e;return r.formatValue(i,null,o)}),this.filterTypeKeys=gw}conditionToString(e,t,n,r,i){let{type:a}=e,o=$l(e.dateFrom),s=$l(e.dateTo),c=this.filterParams.inRangeFloatingFilterDateFormat,l=t?this.formatValue.bind(this):e=>Xl(e,c),u=()=>o===null?`null`:l(o),d=()=>s===null?`null`:l(s);if(t){let e=this.conditionForToolPanel(a,n,u,d,r,i);if(e!=null)return e}return n?`${u()}-${d()}`:o==null?`${a}`:l(o)}};function bw(e,t){let n=t;return n<e?-1:n>e?1:0}var xw=class extends hw{constructor(){super(lw,cw),this.filterType=`date`,this.FilterModelFormatterClass=yw}comparator(){return this.params.filterParams.comparator??bw}isValid(e){let t=this.params.filterParams.isValidDate;return!t||t(e)}},Sw=class extends pc{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,n;n=t?e.conditions[0]:e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let t=e;return this.isTypeEditable(t.type)}init(e){this.params=e;let t=this.gos.get(`enableFilterHandlers`);if(this.reactive=t,this.setParams(e),t){let t=e;this.onModelUpdated(t.model)}}setParams(e){let t=new ZC;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;let t=e,n=this.reactive;if((!n||t.source===`colDef`)&&this.updateParams(e),n){let{source:e,model:n}=t;if(e===`dataChanged`||e===`ui`)return;this.onModelUpdated(n)}}updateParams(e){let t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){return!!e&&!this.readOnly&&this.hasSingleInput(e)&&[`inRange`,`empty`,`blank`,`notBlank`].indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e,`header`,!0)} ${this.getLocaleTextFunc()(`ariaFilterInput`,`Filter Input`)}`}},Cw={tag:`div`,cls:`ag-floating-filter-input`,role:`presentation`,children:[{tag:`ag-input-text-field`,ref:`eReadOnlyText`},{tag:`div`,ref:`eDateWrapper`,cls:`ag-date-floating-filter-wrapper`}]},ww=class extends Sw{constructor(){super(Cw,[fu]),this.eReadOnlyText=null,this.eDateWrapper=null,this.FilterModelFormatterClass=yw,this.filterType=`date`,this.defaultOptions=cw}setParams(e){super.setParams(e),this.createDateComponent();let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t(`ariaDateFilterInput`,`Date Filter Input`))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let t=e?$l(e.dateFrom):null;this.dateComp.setDate(t),this.eReadOnlyText.setValue(``)}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){F(this.eDateWrapper,e),F(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){let e=this.dateComp.getDate();if(this.reactive){let t=this.params;t.onUiChange();let n=t.model,r=Y(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){let{filterParams:e}=this.params,t=jf(e,this.defaultDebounceMs);return H(this.gos,{onDateChanged:Ji(this,this.onDateChanged.bind(this),t),filterParams:e,location:`floatingFilter`})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:{column:r}}=this;this.dateComp=new ow(e,t,r.getColDef(),this.getDateComponentParams(),n,e=>{e.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Tw={tag:`div`,cls:`ag-filter-filter`,children:[{tag:`ag-input-text-field`,ref:`eDateInput`,cls:`ag-date-filter`}]},Ew=class extends pc{constructor(){super(Tw,[fu]),this.eDateInput=null,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this),focusin:this.handleFocusIn.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}handleFocusIn(){this.params.onFocusIn?.()}setParams(e){let t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&gl();let{minValidYear:r,maxValidYear:i,minValidDate:a,maxValidDate:o,buttons:s,includeTime:c,colDef:l}=e.filterParams||{},u=this.beans.dataTypeSvc,d=c??u?.getDateIncludesTimeFlag?.(l.cellDataType)??!1;if(n?d?(t.type=`datetime-local`,t.step=`1`):t.type=`date`:t.type=`text`,a&&r&&z(85),o&&i&&z(86),a&&o){let[e,t]=[a,o].map(e=>e instanceof Date?e:$l(e));e&&t&&e.getTime()>t.getTime()&&z(87)}a?a instanceof Date?t.min=Xl(a):t.min=a:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=Xl(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location===`floatingFilter`&&!!s?.includes(`apply`)}refresh(e){this.params=e,this.setParams(e)}getDate(){return $l(this.eDateInput.getValue())}setDate(e){let t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Y(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},Dw=[`equals`,`notEqual`,`greaterThan`,`greaterThanOrEqual`,`lessThan`,`lessThanOrEqual`,`inRange`,`blank`,`notBlank`];function Ow(e){return e?.allowedCharPattern??null}function kw(e){return e==null||isNaN(e)?null:e}function Aw(e,t){let{filter:n,filterTo:r,type:i}=e||{};return[kw(n),kw(r)].slice(0,rw(i,t))}var jw=class extends iw{constructor(){super(`numberFilter`,Aw,Dw),this.eValuesFrom=[],this.eValuesTo=[],this.filterType=`number`,this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!_l()&&this.hasInvalidInputs()&&this.getConditionTypes().includes(`inRange`)}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){let t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){let r=this.params.numberParser,i=Nw(r,e),a=Nw(r,t),o=Pw(i,a,n),s=o?this.translate(o,[String(n?a:i)]):``;(n?e:t).setCustomValidity(s),(n?t:e).setCustomValidity(``),s.length>0&&this.beans.ariaAnnounce.announceValue(s,`dateFilter`)}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){let t=super.refresh(e),{state:n,additionalEventAttributes:r}=e,i=this.state,a=r?.fromAction;return(a&&a!=`apply`||n.model!==i.model||!this.areStatesEqual(n.state,i.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){let{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i),i===null&&e.setCustomValidity(``)}createEValue(){let{params:e,eValuesFrom:t,eValuesTo:n}=this,r=Ow(e),i=Ef({tag:`div`,cls:`ag-filter-body`,role:`presentation`}),a=this.createFromToElement(i,t,`from`,r),o=this.createFromToElement(i,n,`to`,r),s=(e,t,n)=>()=>this.refreshInputPairValidation(e,t,n),c=s(a,o,!0);a.onValueChange(c),a.addGuiEventListener(`focusin`,c);let l=s(a,o,!1);return o.onValueChange(l),o.addGuiEventListener(`focusin`,l),i}createFromToElement(e,t,n,r){let i=this.createManagedBean(r?new du({allowedCharPattern:r}):new mu);return i.addCss(`ag-filter-${n}`),i.addCss(`ag-filter-filter`),t.push(i),e.appendChild(i.getGui()),i}removeEValues(e,t){let n=n=>this.removeComponents(n,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(e,n,r,i)=>{n<i&&t.push(kw(Mw(this.params.numberParser,e.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||=!t.getInputElement().validity.valid),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,e=>t||=!e.getInputElement().validity.valid),t}canApply(e){return!this.hasInvalidInputs()}};function Mw(e,t){if(typeof t==`number`)return t;let n=Gn(t);return n!=null&&n.trim()===``&&(n=null),e?e(n):n==null||n.trim()===`-`?null:Number.parseFloat(n)}function Nw(e,t){return kw(Mw(e,t.getValue(!0)))}function Pw(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?`Max`:`Min`}ValueValidation`:null}var Fw=class extends vw{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=gw}conditionToString(e,t,n,r,i){let{filter:a,filterTo:o,type:s}=e,c=this.formatValue.bind(this);if(t){let e=this.conditionForToolPanel(s,n,()=>c(a),()=>c(o),r,i);if(e!=null)return e}return n?`${c(a)}-${c(o)}`:a==null?`${s}`:c(a)}},Iw=class extends hw{constructor(){super(Aw,Dw),this.filterType=`number`,this.FilterModelFormatterClass=Fw}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},Lw=class extends L{constructor(e){super(),this.params=e,this.eInput=null,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new du(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let n=e=>this.onValueChanged(e);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){let{eInput:r}=this;r.setInputAriaLabel(e),t!==void 0&&r.setAutoComplete(t),r.toggleCss(`ag-floating-filter-search-icon`,!!n),r.setInputPlaceholder(n)}};function Rw(e){let t=e?.trim();return t===``?e:t}function zw(e,t){let{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,rw(i,t))}var Bw={tag:`div`,ref:`eFloatingFilterInputContainer`,cls:`ag-floating-filter-input`,role:`presentation`},Vw=class extends Sw{constructor(){super(...arguments),this.eFloatingFilterInputContainer=null,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Bw)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){let{inputSvc:t,defaultDebounceMs:n,readOnly:r}=this,{filterPlaceholder:i,column:a,browserAutoComplete:o,filterParams:s}=e,c=this.lastType??this.optionsFactory.defaultOption,l=e.filterParams.filterPlaceholder,u=i===!0?Nf(this,l,`filterOoo`,c):i||void 0;if(t.setParams({ariaLabel:this.getAriaLabel(a),autoComplete:o??!1,placeholder:u}),this.applyActive=Mf(s),!r){let e=jf(s,n);t.setValueChangedListener(Ji(this,this.syncUpWithParentFilter.bind(this),e))}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,n=t.getValue();ei(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){let t=e.key===G.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;let{inputSvc:r,params:i,lastType:a}=this,o=r.getValue();if(i.filterParams.trimInput&&(o=Rw(o),r.setValue(o,!0)),n){let e=i,t=e.model,n=this.convertValue(o),r=n==null?null:{...t??{filterType:this.filterType,type:a??this.optionsFactory.defaultOption},filter:n};e.onModelChange(r,{afterFloatingFilter:!0})}else i.parentFilterInstance(e=>{e?.onFloatingFilterChanged(a||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},Hw=class extends L{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new mu),this.eTextInput=this.createManagedBean(new du),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,e=>this.onValueChanged(e)),this.setupListeners(n,e=>this.onValueChanged(e))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){this.setAriaLabel(e),t!==void 0&&this.setAutoComplete(t),this.setPlaceholder(this.eNumberInput,n),this.setPlaceholder(this.eTextInput,n)}setPlaceholder(e,t){e.toggleCss(`ag-floating-filter-search-icon`,!!t),e.setInputPlaceholder(t)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Uw=class extends Vw{constructor(){super(...arguments),this.FilterModelFormatterClass=Fw,this.filterType=`number`,this.defaultOptions=Dw}updateParams(e){Ow(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=Ow(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Lw({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Hw)}convertValue(e){return e?Number(e):null}},Ww=[`contains`,`notContains`,`equals`,`notEqual`,`startsWith`,`endsWith`,`blank`,`notBlank`],Gw=class extends iw{constructor(){super(`textFilter`,zw,Ww),this.filterType=`text`,this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(e,n,r,i)=>{n<i&&t.push(Gn(e.getValue()))}),t}createEValue(){let e=Ef({tag:`div`,cls:`ag-filter-body`,role:`presentation`}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,`from`),this.createFromToElement(e,n,`to`),e}createFromToElement(e,t,n){let r=this.createManagedBean(new du);r.addCss(`ag-filter-${n}`),r.addCss(`ag-filter-filter`),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){let n=n=>this.removeComponents(n,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},Kw=class extends vw{constructor(){super(...arguments),this.filterTypeKeys=_w}conditionToString(e,t,n,r,i){let{filter:a,filterTo:o,type:s}=e;if(t){let e=e=>()=>Af(this,`filterSummaryTextQuote`,[e]),t=this.conditionForToolPanel(s,n,e(a),e(o),r,i);if(t!=null)return t}return n?`${a}-${o}`:a==null?`${s}`:`${a}`}},qw=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case`contains`:return t.includes(n);case`notContains`:return!t.includes(n);case`equals`:return t===n;case`notEqual`:return t!=n;case`startsWith`:return t.indexOf(n)===0;case`endsWith`:{let e=t.lastIndexOf(n);return e>=0&&e===t.length-n.length}default:return!1}},Jw=e=>e,Yw=e=>e==null?null:e.toString().toLowerCase(),Xw=class extends mw{constructor(){super(zw,Ww),this.filterType=`text`,this.FilterModelFormatterClass=Kw}updateParams(e){super.updateParams(e);let t=e.filterParams;this.matcher=t.textMatcher??qw,this.formatter=t.textFormatter??(t.caseSensitive?Jw:Yw)}evaluateNullValue(e){return e?[`notEqual`,`notContains`,`blank`].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){let i=e.map(e=>this.formatter(e))||[],a=this.formatter(t),{api:o,colDef:s,column:c,context:l,filterParams:{textFormatter:u}}=this.params;if(n.type===`blank`)return $C(t);if(n.type===`notBlank`)return!$C(t);let d={api:o,colDef:s,column:c,context:l,node:r.node,data:r.data,filterOption:n.type,value:a,textFormatter:u};return i.some(e=>this.matcher({...d,filterText:e}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){let t=e=>{let t={...e},{filter:n,filterTo:r}=e;return n&&(t.filter=Rw(n)??null),r&&(t.filterTo=Rw(r)??null),t};return ep(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},Zw=class extends Vw{constructor(){super(...arguments),this.FilterModelFormatterClass=Kw,this.filterType=`text`,this.defaultOptions=Ww}createFloatingFilterInputService(){return this.createManagedBean(new Lw)}};function Qw(e){return!!e.quickFilter?.isFilterPresent()}function $w(e){return e.quickFilter?.getText()}function eT(e){e.quickFilter?.resetCache()}var tT=class extends L{constructor(){super(...arguments),this.beanName=`quickFilter`,this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get(`includeHiddenColumnsInQuickFilter`)||this.resetCache()}}),this.addManagedPropertyListener(`quickFilterText`,e=>this.setFilter(e.currentValue)),this.addManagedPropertyListeners([`includeHiddenColumnsInQuickFilter`,`applyQuickFilterBeforePivotOrAgg`],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get(`quickFilterText`)),this.parser=t.get(`quickFilterParser`),this.matcher=t.get(`quickFilterMatcher`),this.setFilterParts(),this.addManagedPropertyListeners([`quickFilterMatcher`,`quickFilterParser`],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),a=e?.getColumns(),o=t.getColDefCols(),s=(i&&!n.get(`applyQuickFilterBeforePivotOrAgg`)?r?.getPivotResultCols()?.list:o)??[];a&&(s=s.concat(a)),this.colsToUse=n.get(`includeHiddenColumnsInQuickFilter`)?s:s.filter(e=>e.isVisible()||e.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get(`cacheQuickFilter`);return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get(`quickFilterText`)}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(` `):this.quickFilterParts=null}parseFilter(e){return P(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!=`string`){z(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:`quickFilterChanged`}))}setParserAndMatcher(){let e=this.gos.get(`quickFilterParser`),t=this.gos.get(`quickFilterMatcher`),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:`quickFilterChanged`}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:`quickFilterChanged`})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{let r=this.getTextForColumn(n,e);return P(r)&&r.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);let{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||=this.getAggText(e)}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t),r=e.getColDef();if(r.getQuickFilterText){let i=H(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return P(n)?n.toString().toUpperCase():null}getAggText(e){let t=[];for(let n of this.colsToUse){let r=this.getTextForColumn(n,e);P(r)&&t.push(r)}return t.join(`
`)}},nT={moduleName:`FilterCore`,version:R,beans:[KC],apiFunctions:{isAnyFilterPresent:WC,onFilterChanged:GC},css:[AC],dependsOn:[{moduleName:`ClientSideRowModelFilter`,version:R,rowModels:[`clientSide`],beans:[wC]}]},rT={moduleName:`FilterValue`,version:R,beans:[JC]},iT={moduleName:`ColumnFilter`,version:R,beans:[UC,qC],dynamicBeans:{headerFilterCellCtrl:TC},icons:{filter:`filter`,filterActive:`filter`},apiFunctions:{isColumnFilterPresent:jC,getColumnFilterInstance:MC,destroyFilter:NC,setFilterModel:PC,getFilterModel:FC,getColumnFilterModel:IC,setColumnFilterModel:LC,showColumnFilter:RC,hideColumnFilter:zC,getColumnFilterHandler:BC,doFilterAction:VC},dependsOn:[nT,kC,rT,OC]},aT={moduleName:`CustomFilter`,version:R,userComponents:{agReadOnlyFloatingFilter:XC},dependsOn:[iT]},oT={moduleName:`TextFilter`,version:R,dependsOn:[iT],userComponents:{agTextColumnFilter:{classImp:Gw,params:{useForm:!0}},agTextColumnFloatingFilter:Zw},dynamicBeans:{agTextColumnFilterHandler:Xw}},sT={moduleName:`NumberFilter`,version:R,dependsOn:[iT],userComponents:{agNumberColumnFilter:{classImp:jw,params:{useForm:!0}},agNumberColumnFloatingFilter:Uw},dynamicBeans:{agNumberColumnFilterHandler:Iw}},cT={moduleName:`DateFilter`,version:R,dependsOn:[iT],userComponents:{agDateColumnFilter:{classImp:fw,params:{useForm:!0}},agDateInput:Ew,agDateColumnFloatingFilter:ww},dynamicBeans:{agDateColumnFilterHandler:xw}},lT={moduleName:`QuickFilter`,version:R,apiFunctions:{isQuickFilterPresent:Qw,getQuickFilter:$w,resetQuickFilter:eT},dependsOn:[{moduleName:`QuickFilterCore`,version:R,rowModels:[`clientSide`],beans:[tT],dependsOn:[nT,rT]}]},uT={moduleName:`ExternalFilter`,version:R,dependsOn:[nT]},dT=`.ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip),&:where(.ag-cell-formula-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}`,fT=(e,t,n)=>{let{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,a=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||a;return o?.length?o.join(n(`tooltipValidationErrorSeparator`,`. `)):void 0},pT={moduleName:`Tooltip`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`tooltipSvc`}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);let i=this.gos,a=rC(i),{column:o,eGui:s}=t,c=o.getColDef();!r&&a&&!c.headerComponent&&(r=ai(()=>s.querySelector(`.ag-header-cell-text`)));let l=`header`,u=this.beans.colNames.getDisplayNameForColumn(o,`header`,!0),d=n??u,f={getGui:()=>s,getLocation:()=>l,getTooltipValue:()=>n??c?.headerTooltipValueGetter?.(H(i,{location:l,colDef:c,column:o,value:d,valueFormatted:u}))??c?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>({column:o,colDef:o.getColDef()})},p=this.createTooltipFeature(f);return p&&(p=t.createBean(p),t.setRefreshFunction(`tooltip`,()=>p.refreshTooltip())),p}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);let i=this.gos,a=rC(i),{column:o,eGui:s}=t,c=o.getColGroupDef();!r&&a&&!c?.headerGroupComponent&&(r=ai(()=>s.querySelector(`.ag-header-group-text`)));let l=`headerGroup`,u=this.beans.colNames.getDisplayNameForColumnGroup(o,`header`),d=n??u,f={getGui:()=>s,getLocation:()=>l,getTooltipValue:()=>n??c?.headerTooltipValueGetter?.(H(i,{location:l,colDef:c,column:o,value:d,valueFormatted:u}))??c?.headerTooltip,shouldDisplayTooltip:r,getAdditionalParams:()=>{let e={column:o};return c&&(e.colDef=c),e}},p=this.createTooltipFeature(f);return p&&t.createBean(p)}enableCellTooltipFeature(e,t,n){let{beans:r}=this,{gos:i,editSvc:a}=r,{column:o,rowNode:s}=e,c=`cell`,l=()=>{let t=!a?.isEditing(e)&&fT(r,e,this.getLocaleTextFunc());if(t)return c=`cellEditor`,t;c=`cell`;let n=o.getColDef(),l=s.data;if(n.tooltipField&&P(l))return Cv(l,n.tooltipField,o.isTooltipFieldContainsDots());let u=n.tooltipValueGetter;return u?u(H(i,{location:`cell`,colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,value:e.value,valueFormatted:e.valueFormatted})):null},u=rC(i);n||=u&&!e.isCellRenderer()?()=>{let t=!!a?.isEditing(e);if(!t&&fT(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;let n=ai(()=>{let t=e.eGui;return t.children.length===0?t:t.querySelector(`.ag-cell-value`)});return!t&&n()}:()=>!a?.isEditing(e);let d={getGui:()=>e.eGui,getLocation:()=>c,getTooltipValue:t==null?l:()=>t,shouldDisplayTooltip:n,getAdditionalParams:()=>({column:o,colDef:o.getColDef(),rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(d,r)}setupFullWidthRowTooltip(e,t,n,r){let i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>`fullWidthRow`,shouldDisplayTooltip:r},a=this.beans,o=a.context;e&&t.destroyBean(e,o);let s=this.createTooltipFeature(i,a);if(s)return t.createBean(s,o)}setupFormulaTooltip(e){let{beans:t}=this,{context:n,formula:r}=t;if(!this.beans.formula?.active||!e.column.isAllowFormula())return;let i=this.createTooltipFeature({getGui:()=>e.eGui,getTooltipValue:()=>{let t=r?.getFormulaError(e.column,e.rowNode);return t?t.message:void 0},getLocation:()=>`cellFormula`,shouldDisplayTooltip:()=>!!r?.getFormulaError(e.column,e.rowNode)},t);if(i)return e.createBean(i,n)}setupCellEditorTooltip(e,t){let{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;let a=this.createTooltipFeature({getGui:()=>i,getTooltipValue:()=>fT(n,e,this.getLocaleTextFunc()),getLocation:()=>`cellEditor`,shouldDisplayTooltip:()=>{let{editModelSvc:e}=n,t=e?.getRowValidationModel()?.getRowValidationMap(),r=e?.getCellValidationModel()?.getCellValidationMap(),i=!!t&&t.size>0,a=!!r&&r.size>0;return i||a}},n);if(a)return e.createBean(a,r)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=P(t.tooltipField)||P(t.tooltipValueGetter)||P(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean(`tooltipFeature`,!1,e,t)}}],dynamicBeans:{tooltipFeature:Md,highlightTooltipFeature:zd,tooltipStateManager:class extends Rd{createTooltipComp(e,t){Yc(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}}},userComponents:{agTooltipComponent:Ud},dependsOn:[kC],css:[dT]},mT=class{constructor(e){this.cellValueChanges=e}},hT=class extends mT{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},gT=10,_T=class{constructor(e){this.actionStack=[],this.maxStackSize=e||gT,this.actionStack=Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},vT=class extends L{constructor(){super(...arguments),this.beanName=`undoRedo`,this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&pm(this.activeCellEdit,t),r=this.activeRowEdit!==null&&hm(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;let{rowPinned:i,rowIndex:a,column:o,oldValue:s,value:c}=e,l={rowPinned:i,rowIndex:a,columnId:o.getColId(),newValue:c,oldValue:s};this.cellValueChanges.push(l)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get(`undoRedoCellEditing`))return;let n=e.get(`undoRedoCellEditingLimit`);if(n<=0)return;this.undoStack=new _T(n),this.redoStack=new _T(n),this.addListeners();let r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:`undoStarted`,source:e});let i=this.undoRedo(n,r,`initialRange`,`oldValue`,`undo`);t.dispatchEvent({type:`undoEnded`,source:e,operationPerformed:i})}redo(e){let{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:`redoStarted`,source:e});let i=this.undoRedo(r,n,`finalRange`,`newValue`,`redo`);t.dispatchEvent({type:`redoEnded`,source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;let a=e.pop();return a?.cellValueChanges?(this.processAction(a,e=>e[r],i),a instanceof hT?this.processRange(a.ranges||[a[n]]):this.processCell(a.cellValueChanges),t.push(a),!0):!1}processAction(e,t,n){for(let r of e.cellValueChanges){let{rowIndex:e,rowPinned:i,columnId:a}=r,o={rowIndex:e,rowPinned:i},s=vm(this.beans,o);s.displayed&&s.setDataValue(a,t(r),n)}}processRange(e){let t,n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;let a=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));let s={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(s)})}processCell(e){let t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},a=vm(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:a.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){let{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:a,rangeSvc:o}=this.beans,s=i.getCol(n);if(!s)return;let{scrollFeature:c}=this.gridBodyCtrl;c.ensureIndexVisible(t),c.ensureColumnVisible(s);let l={rowIndex:t,column:s,rowPinned:r};a.setFocusedCell({...l,forceBrowserFocus:!0}),o?.setRangeToCell(l)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new mT(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let e=new mT(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new mT(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new hT(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:n}=this.beans;e=t&&So(n)?new hT(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):new mT(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange(`batchEditing`),batchEditingStopped:({changes:e})=>this.stopBigChange(`batchEditing`,e),bulkEditingStarted:()=>this.startBigChange(`bulkEditing`),bulkEditingStopped:({changes:e})=>this.stopBigChange(`bulkEditing`,e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e===`bulkEditing`?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e===`bulkEditing`&&!this.bulkEditing||e===`batchEditing`&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;let n=new mT(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},yT=`.ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}`,bT={tag:`div`,cls:`ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit`,children:[{tag:`ag-checkbox`,ref:`eEditor`,role:`presentation`}]},xT=class extends eh{constructor(){super(bT,[lu]),this.eEditor=null}initialiseEditor(e){let t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute(`tabindex`,`-1`),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),n=zr(t,e),r=t(`ariaToggleCellValue`,`Press SPACE to toggle cell value`);this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},ST=class extends eh{constructor(e){super(),this.cellEditorInput=e,this.eEditor=null}initialiseEditor(e){let{cellEditorInput:t}=this;this.setTemplate({tag:`div`,cls:`ag-cell-edit-wrapper`,children:[t.getTemplate()]},t.getAgComponents());let{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:a}=e;n.getInputElement().setAttribute(`title`,``),t.init(n,e);let o,s=!0;r?(this.focusAfterAttached=!0,i===G.BACKSPACE||i===G.DELETE?o=``:i&&i.length===1?a?s=!1:o=i:(o=t.getStartValue(),i!==G.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),s&&o!=null&&n.setStartValue(o),this.addGuiEventListener(`keydown`,e=>{let{key:t}=e;(t===G.PAGE_UP||t===G.PAGE_DOWN)&&e.preventDefault()})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e(`ariaInputEditor`,`Input Editor`)),!this.focusAfterAttached)return;gl()||t.getFocusableElement().focus();let n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},CT={tag:`ag-input-date-field`,ref:`eEditor`,cls:`ag-cell-editor`},wT=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return CT}getAgComponents(){return[gu]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:r,step:i,colDef:a}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(a.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let e=this.eEditor.getInputElement().valueAsDate,{params:t}=this,{min:n,max:r,getValidationErrors:i}=t,a=[],o=this.getLocaleTextFunc();if(e instanceof Date&&!isNaN(e.getTime())){if(n){let t=n instanceof Date?n:new Date(n);if(e<t){let e=t.toLocaleDateString();a.push(o(`minDateValidation`,`Date must be after ${e}`,[e]))}}if(r){let t=r instanceof Date?r:new Date(r);if(e>t){let e=t.toLocaleDateString();a.push(o(`maxDateValidation`,`Date must be before ${e}`,[e]))}}}return a.length||(a=null),i?i({value:e,cellEditorParams:t,internalErrors:a}):a}getValue(){let{eEditor:e,params:t}=this,n=e.getDate();return!P(n)&&!P(t.value)?t.value:n??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Y(e,this.includeTime??!1)}},TT=class extends ST{constructor(){super(new wT(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},ET={tag:`ag-input-date-field`,ref:`eEditor`,cls:`ag-cell-editor`},DT=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return ET}getAgComponents(){return[gu]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:r,step:i,colDef:a}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(a.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:a,getValidationErrors:o}=t,s=[];if(r){let e=new Date(r),t=this.getLocaleTextFunc();if(i){let n=new Date(i);if(e<n){let e=n.toLocaleDateString();s.push(t(`minDateValidation`,`Date must be after ${e}`,[e]))}}if(a){let n=new Date(a);if(e>n){let e=n.toLocaleDateString();s.push(t(`maxDateValidation`,`Date must be before ${e}`,[e]))}}}return s.length||(s=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:s}):s}getValue(){let{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!P(n)&&!P(e.value)?e.value:e.parseValue(n??``)}getStartValue(){return Y(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):$l(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Y(e??null,this.includeTime??!1)??void 0}},OT=class extends ST{constructor(){super(new DT(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},kT={tag:`div`,cls:`ag-large-text`,children:[{tag:`ag-input-text-area`,ref:`eEditor`,cls:`ag-large-text-input`}]},AT=class extends eh{constructor(){super(kT,[pu]),this.eEditor=null}initialiseEditor(e){let{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,maxLength:i,cols:a,rows:o}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute(`title`,``),t.setMaxLength(i||200).setCols(a||60).setRows(o||10);let s;n?(this.focusAfterAttached=!0,r===G.BACKSPACE||r===G.DELETE?s=``:r&&r.length===1?s=r:(s=this.getStartValue(e),r!==G.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.getStartValue(e)),s!=null&&t.setValue(s,!0),this.addGuiEventListener(`keydown`,this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){let{value:t}=e;return t?.toString()??t}onKeyDown(e){let t=e.key;(t===G.LEFT||t===G.UP||t===G.RIGHT||t===G.DOWN||e.shiftKey&&t===G.ENTER)&&e.stopPropagation()}afterGuiAttached(){let{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r(`ariaInputEditor`,`Input Editor`)),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){let{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!P(r)&&!P(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue(),a=[];return typeof i==`string`&&t!=null&&i.length>t&&a.push(r(`maxLengthValidation`,`Must be ${t} characters or fewer.`,[String(t)])),a.length||(a=null),n?n({value:i,internalErrors:a,cellEditorParams:e}):a}},jT={tag:`ag-input-number-field`,ref:`eEditor`,cls:`ag-cell-editor`},MT=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return jT}getAgComponents(){return[hu]}init(e,t){this.eEditor=e,this.params=t;let{max:n,min:r,precision:i,step:a}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),a!=null&&e.setStep(a);let o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add(`ag-number-field-input-stepper`)}getValidationErrors(){let{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,i=this.eEditor.getInputElement().valueAsNumber,a=this.getLocaleTextFunc(),o=[];return typeof i==`number`&&(t!=null&&i<t&&o.push(a(`minValueValidation`,`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&i>n&&o.push(a(`maxValueValidation`,`Must be less than or equal to ${n}.`,[String(n)]))),o.length||(o=null),r?r({value:i,cellEditorParams:e,internalErrors:o}):o}preventStepping(e){(e.key===G.UP||e.key===G.DOWN)&&e.preventDefault()}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();if(!P(n)&&!P(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r==`string`){if(r===``)return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){gl()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},NT=class extends ST{constructor(){super(new MT(()=>this.getLocaleTextFunc()))}},PT={tag:`div`,cls:`ag-cell-edit-wrapper`,children:[{tag:`ag-select`,ref:`eEditor`,cls:`ag-cell-editor`}]},FT=class extends eh{constructor(){super(PT,[Du]),this.eEditor=null,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;let{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:a,eventKey:o}=e;if(Kn(i)){z(58);return}this.startedByEnter=o==null?!1:o===G.ENTER;let s=!1;i.forEach(r=>{let i={value:r};i.text=n.formatValue(e.column,null,r)??r,t.addOption(i),s||=a===r}),s?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:c,valueListMaxWidth:l,valueListMaxHeight:u}=e;c!=null&&t.setPickerGap(c),u!=null&&t.setPickerMaxHeight(u),l!=null&&t.setPickerMaxWidth(l),r.get(`editType`)!==`fullRow`&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){let{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue(),i=[];if(t&&!t.includes(r)){let e=this.getLocaleTextFunc();i.push(e(`invalidSelectionValidation`,`Invalid selection.`))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},IT={tag:`ag-input-text-field`,ref:`eEditor`,cls:`ag-cell-editor`},LT=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return IT}getAgComponents(){return[fu]}init(e,t){this.eEditor=e,this.params=t;let n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc(),a=[];return t!=null&&typeof r==`string`&&r.length>t&&a.push(i(`maxLengthValidation`,`Must be ${t} characters or fewer.`,[String(t)])),a.length||(a=null),n?n({value:r,cellEditorParams:e,internalErrors:a}):a}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();return!P(n)&&!P(t.value)?t.value:t.parseValue(n)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){gl()&&this.eEditor.getInputElement().focus({preventScroll:!0});let e=this.eEditor,t=e.getValue(),n=P(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},RT=class extends ST{constructor(){super(new LT(()=>this.getLocaleTextFunc()))}};function zT(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function BT(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function VT(e,t,n=`auto`){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),`ensureVisible`)}function HT(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),`ensureVisible`)}function UT(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),`ensureVisible`)}function WT(e){e.undoRedo?.undo(`api`)}function GT(e){e.undoRedo?.redo(`api`)}function KT(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function qT(e){let t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((e,t)=>{let{rowIndex:r,rowPinned:i}=t;e.forEach((e,t)=>{let{editorValue:a,pendingValue:o,sourceValue:s,state:c}=e,l=Vb(e),u=a??o;u===Lb&&(u=void 0);let d={newValue:u,oldValue:s,state:c,column:t,colId:t.getColId(),colKey:t.getColId(),rowIndex:r,rowPinned:i};(c===`editing`||c===`changed`&&l)&&n.push(d)})}),n}function JT(e,t=!1){let{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(let t of e.editModelSvc?.getEditPositions()??[])t.state===`editing`&&n.revertSingleCellEdit(t);else Jb(e,{persist:!0});Qb(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:`edit`,forceStop:!t,forceCancel:t})}function YT(e,t){let n=Nb(e,t);return e.editSvc?.isEditing(n)??!1}function XT(e,t){let{key:n,colKey:r,rowIndex:i,rowPinned:a}=t,{editSvc:o,colModel:s}=e,c=s.getCol(r);if(!c){z(12,{colKey:r});return}let l=vm(e,{rowIndex:i,rowPinned:a||null,column:c});if(!l){z(290,{rowIndex:i,rowPinned:a});return}o?.isCellEditable({rowNode:l,column:c},`api`)&&(a??HT(e,i),VT(e,r),o?.startEditing({rowNode:l,column:c},{event:n?new KeyboardEvent(`keydown`,{key:n}):void 0,source:`api`}))}function ZT(e){return e.editSvc?.validateEdit()||null}function QT(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function $T(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var eE={tag:`div`,cls:`ag-popup-editor`,attrs:{tabindex:`-1`}},tE=class extends cl{constructor(e){super(eE),this.params=e}postConstruct(){oo(this.gos,this.getGui(),`popupEditorWrapper`,!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{bp(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}};function nE(e,{column:t},n,r,i=`ui`){if(n instanceof KeyboardEvent&&(n.key===G.TAB||n.key===G.ENTER||n.key===G.F2||n.key===G.BACKSPACE&&r))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;let a=t?.getColDef(),o=rE(e.gos,a),s=n?.type;return s===`click`&&n?.detail===1&&o===1||s===`dblclick`&&n?.detail===2&&o===2?!0:i===`api`?r??!1:!1}function rE(e,t){return e.get(`suppressClickEdit`)===!0?0:e.get(`singleClickEdit`)===!0||t?.singleClickEdit?1:2}function iE(e,{rowNode:t,column:n},r=`ui`){let i=n.getColDef().editable,a=e.editModelSvc;return n.isColumnFunc(t,i)||!!a&&a.hasEdits({rowNode:t,column:n},{withOpenEditor:!0})}function aE(e,t,n=`ui`){let r=iE(e,t,n);return r===!0||n===`ui`?r:e.colModel.getCols().some(r=>iE(e,{rowNode:t.rowNode,column:r},n))}var oE=(e,t=!1)=>{if(e!==void 0)return Vb(e)||t&&e.state===`editing`};function sE(e,t,n=!1){return oE(e.editModelSvc?.getEdit(t),n)}var cE=(e,t,n)=>{if(e)for(let r=0,i=e.length;r<i;++r){let i=e[r];if(i.data&&(oE(t?.getEdit({rowNode:i,column:n}))||oE(t?.getEdit({rowNode:i.pinnedSibling,column:n})))||cE(i.childrenAfterGroup,t,n))return!0}};function lE(e,t){let{column:n,rowNode:r}=t;return e.gos.get(`groupTotalRow`)&&!r?.footer?!1:cE(r?.childrenAfterGroup,e.editModelSvc,n)}function uE(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,t)return oE(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var dE=class extends L{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){let{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){let t=sE(n,e)||lE(n,e)||uE(n,e);this.applyBatchingStyle(t)}else this.applyBatchingStyle(!1);let r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss(`ag-cell-editing-error`,r)}applyBatchingStyle(e){this.cellComp.toggleCss(`ag-cell-editing`,e??!1),this.cellComp.toggleCss(`ag-cell-batch-edit`,(e&&this.editSvc?.isBatchEditing())??!1)}},fE=class extends L{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){let{rowCtrl:e,editModelSvc:t,beans:n}=this,r=e.rowNode,i=t?.getEditRow(r),a=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){let e=Array.from(i.keys()).some(e=>{let t={rowNode:r,column:e};return sE(n,t,!0)||lE(n,t)||uE(n,t)});this.applyStyle(a,e);return}this.applyStyle(a)}applyStyle(e=!1,t=!1){let n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get(`editType`)===`fullRow`;this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss(`ag-row-editing`,r&&t),i.toggleCss(`ag-row-batch-edit`,r&&t&&n),i.toggleCss(`ag-row-inline-editing`,t),i.toggleCss(`ag-row-not-inline-editing`,!t),i.toggleCss(`ag-row-editing-invalid`,r&&t&&e)})}},pE=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{let i=new Set;e.forEachNode(e=>r.has(e)&&i.add(e)),t?.forEachPinnedRow(`top`,e=>r.has(e)&&i.add(e)),t?.forEachPinnedRow(`bottom`,e=>r.has(e)&&i.add(e));for(let e of r)i.has(e)||n.removeEdits({rowNode:e});return i},mE=({editModelSvc:e},t,n)=>{for(let r of t)e?.getEditRow(r)?.forEach((t,i)=>!n.has(i)&&e.removeEdits({rowNode:r,column:i}))},hE=e=>()=>{let t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0);mE(e,pE(e,new Set(n.keys())),t)},gE=new Set([`undo`,`redo`,`paste`,`bulk`,`rangeSvc`]),_E=new Set([`ui`,`api`]),vE={paste:`api`,rangeSvc:`api`,fillHandle:`api`,cellClear:`api`,bulk:`api`},yE=new Set(Object.keys(vE)),bE=new Set([`paste`,`rangeSvc`,`cellClear`,`redo`,`undo`]),xE={cancel:!0,source:`api`},SE={cancel:!1,source:`api`},CE={checkSiblings:!0},wE={force:!0,suppressFlash:!0},TE=class extends L{constructor(){super(...arguments),this.beanName=`editSvc`,this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){let{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener(`editType`,({currentValue:e})=>{this.stopEditing(void 0,xE),this.createStrategy(e)});let t=hE(e),n=()=>{let t=this.model.getCellValidationModel().getCellValidationMap().size>0,n=this.model.getRowValidationModel().getRowValidationMap().size>0;return t||n?this.stopEditing(void 0,xE):this.isEditing()&&(this.batch?Qb(e,this.model.getEditPositions()):this.stopEditing(void 0,SE)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,xE)):(this.stopEditing(void 0,xE),this.batch=!1)}createStrategy(e){let{beans:t,gos:n,strategy:r}=this,i=DE(n,e);if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&=(this.strategy.destroy(),this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r=`ui`){let i=nE(this.beans,e,t,n,r);return i&&(this.strategy??=this.createStrategy()),i}shouldStopEditing(e,t,n=`ui`){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n=`ui`){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return ax(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??CE)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){let{startedEdit:n=!0,event:r=null,source:i=`ui`,ignoreEventKey:a=!1,silent:o}=t;if(this.strategy??=this.createStrategy(),!this.isCellEditable(e,`api`))return;let s=Nb(this.beans,e);if(s&&!s.comp){s.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}let c=this.shouldStartEditing(e,r,n,i);if(c===!1&&i!==`api`){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&!t.continueEditing&&this.stopEditing(void 0,{source:i}),c&&this.batch&&this.dispatchBatchEvent(`batchEditingStarted`,new Map),this.strategy.start({position:e,event:r,source:i,ignoreEventKey:a,startedEdit:n,silent:o})}stopEditing(e,t){let n=this.prepareStopContext(e,t);if(!n)return!1;this.stopping=!0;let r=!1,{edits:i}=n;try{let a=this.processStopRequest(n);return r||=a.res,i=a.edits,this.finishStopEditing({...n,edits:i,params:t,position:e,res:r}),r}finally{this.stopping=!1}}prepareStopContext(e,t){let{event:n,cancel:r,source:i=`ui`,forceCancel:a,forceStop:o}=t||{};if(yE.has(i)&&this.batch)return this.bulkRefresh(e),null;let s=this.committing?vE[i]:i;if(!(this.committing||this.isEditing(e)||this.batch&&this.model.hasEdits(e,CE))||!this.strategy||this.stopping)return null;let c=Nb(this.beans,e);c&&(c.onEditorAttachedFuncs=[]);let l=!r&&(!!this.shouldStopEditing(e,n,s)||(this.committing||i===`paste`)&&!this.batch)||(o??!1),u=r&&!!this.shouldCancelEditing(e,n,s)||(a??!1);return{cancel:r,cellCtrl:c??void 0,edits:this.model.getEditMap(!0),event:n,forceCancel:a,forceStop:o,position:e,source:i,treatAsSource:s,willCancel:u,willStop:l}}processStopRequest(e){let{event:t,position:n,willCancel:r,willStop:i}=e;return i||r?this.handleStopOrCancel(e):this.shouldHandleMidBatchKey(t,n)?{res:!1,edits:this.handleMidBatchKey(t,n,e)}:(Jb(this.beans,{persist:!0}),this.batch&&this.strategy?.cleanupEditors(n),{res:!1,edits:this.model.getEditMap()})}handleStopOrCancel(e){let{beans:t,model:n}=this,{cancel:r,edits:i,event:a,source:o,willCancel:s,willStop:c}=e;Jb(t,{persist:!0,isCancelling:s||r,isStopping:c});let l=n.getEditMap(),u=this.processEdits(l,r,o);this.strategy?.stop(r,a),this.clearValidationIfNoOpenEditors();for(let e of u)n.clearEditValue(e);this.bulkRefresh(void 0,i);for(let e of n.getEditPositions(l)){let n=Nb(t,e),r=Vb(e);n?.refreshCell({force:!0,suppressFlash:!r})}return{res:c,edits:l}}shouldHandleMidBatchKey(e,t){return e instanceof KeyboardEvent&&this.batch&&!!this.strategy?.midBatchInputsAllowed(t)&&this.isEditing(t,{withOpenEditor:!0})}handleMidBatchKey(e,t,n){let{beans:r,model:i}=this,{cellCtrl:a,edits:o}=n,{key:s}=e,c=s===G.ENTER,l=s===G.ESCAPE,u=s===G.TAB;return c||u||l?(c||u?Jb(r,{persist:!0}):l&&this.revertSingleCellEdit(a),this.batch?this.strategy?.cleanupEditors():Qb(r,i.getEditPositions(),{event:e,cancel:l}),e.preventDefault(),this.bulkRefresh(t,o,{suppressFlash:!0}),i.getEditMap()):o}finishStopEditing({cellCtrl:e,edits:t,params:n,position:r,res:i,willCancel:a,willStop:o}){let s=this.beans;i&&r&&this.model.removeEdits(r),this.navigateAfterEdit(n,e?.cellPosition),Gb(s),this.clearValidationIfNoOpenEditors(),this.bulkRefresh();let{rowRenderer:c,formula:l}=s;a&&c.refreshRows({rowNodes:Array.from(t.keys())}),this.batch&&(l?l.refreshFormulas(!0):c.refreshRows({suppressFlash:!0,force:!0}),i&&o&&this.dispatchBatchEvent(`batchEditingStopped`,t))}clearValidationIfNoOpenEditors(){this.model.hasEdits(void 0,{withOpenEditor:!0})||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap())}navigateAfterEdit(e,t){if(!e||!t)return;let{event:n,suppressNavigateAfterEdit:r}=e;if(!(n instanceof KeyboardEvent)||r)return;let{key:i,shiftKey:a}=n,o=this.gos.get(`enterNavigatesVerticallyAfterEdit`);if(i!==G.ENTER||!o)return;let s=a?G.UP:G.DOWN;this.beans.navigation?.navigateToNextCell(null,s,t,!1)}processEdits(e,t=!1,n){let r=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,a=[];for(let o of r){let r=e.get(o);for(let e of r.keys()){let s=r.get(e),c={rowNode:o,column:e},l=Vb(s);!t&&l&&!i&&(this.setNodeDataValue(o,e,s.pendingValue,void 0,n)||a.push(c))}}return a}setNodeDataValue(e,t,n,r,i=`edit`){let{beans:a}=this,o=Nb(a,{rowNode:e,column:t}),s=_E.has(i)?`edit`:i;o&&(o.suppressRefreshCell=!0),this.committing=!0;let c=e.setDataValue(t,n,s);return this.committing=!1,o&&(o.suppressRefreshCell=!1),r&&o?.refreshCell(wE),c}setEditMap(e,t){this.strategy??=this.createStrategy(),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=wE;t?.forceRefreshOfEditCellsOnly&&(n={...EE(e),...wE}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;let{pendingValue:r,sourceValue:i}=n,{rowIndex:a,rowPinned:o,data:s}=e;this.beans.eventSvc.dispatchEvent({type:`cellEditValuesChanged`,node:e,rowIndex:a,rowPinned:o,column:t,source:`api`,data:s,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){let{beans:r,gos:i}=this,{editModelSvc:a,rowModel:o}=r;Ja(i,o)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&a?.getEditMap(!1)?.forEach((e,t)=>{for(let r of e.keys())this.refCell({rowNode:t,column:r},e.get(r),n)}))}refCell({rowNode:e,column:t},n,r={}){let{beans:i,gos:a}=this,o=new Set([e]),s=new Set,c=e.pinnedSibling;c&&o.add(c);let l=e.sibling;l&&s.add(l);let u=e.parent;for(;u;)u.sibling?.footer&&a.get(`groupTotalRow`)||!u.parent&&u.sibling&&a.get(`grandTotalRow`)?s.add(u.sibling):s.add(u),u=u.parent;for(let e of o)this.dispatchEditValuesChanged({rowNode:e,column:t},n);for(let e of o)Nb(i,{rowNode:e,column:t})?.refreshCell(r);for(let e of s)Nb(i,{rowNode:e,column:t})?.refreshCell(r)}stopAllEditing(e=!1,t=`ui`){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t=`ui`){let{rowNode:n}=e,{gos:r,beans:i}=this;if(n.group){if(r.get(`treeData`)){if(!n.data&&!r.get(`enableGroupEdit`))return!1}else if(!r.get(`enableGroupEdit`))return!1}let a=DE(r)===`fullRow`?aE(i,e,t):iE(i,e,t);return a&&(this.strategy??=this.createStrategy()),a}cellEditingInvalidCommitBlocks(){return this.gos.get(`invalidEditValueMode`)===`block`}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){let r=Nb(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),`block-stop`):(r&&this.revertSingleCellEdit(r),`revert-continue`)}return`continue`}revertSingleCellEdit(e,t=!1){let n=Nb(this.beans,e);n?.comp?.getCellEditor()&&(Qb(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Hb(this.beans,e,{silent:!0}),rx(this.beans),n?.refreshCell(wE),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){rx(this.beans);let t=Nb(this.beans,e);t&&(t.refreshCell(wE),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode}),e.column&&(n||=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column}))):(n||=this.model.getCellValidationModel().getCellValidationMap().size>0,n||=this.model.getRowValidationModel().getRowValidationMap().size>0),n}moveToNextCell(e,t,n,r=`ui`){let i,a=this.isEditing(),o=a&&this.checkNavWithValidation(void 0,n)===`block-stop`;return e instanceof bx&&a&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null?i:(i||=!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing(),i)}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t}),i=e.pinnedSibling;if(i){let e=this.model.getEdit({rowNode:i,column:t});e&&(r=e)}let a=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return a===Lb||!r?r?.sourceValue??this.valueSvc.getValue(t,e,!1,`api`):a}addStopEditingWhenGridLosesFocus(e){Fb(this,this.beans,e)}createPopupEditorWrapper(e){return new tE(e)}setDataValue(e,t,n){try{if((!this.isEditing()||this.committing)&&!bE.has(n))return;let{beans:r}=this;this.strategy??=this.createStrategy();let i=this.batch?`ui`:this.committing?n??`api`:`api`;if(!n||gE.has(n))return Yb(r,e,t,n,void 0,{persist:!0}),this.batch?(this.cleanupEditors(),Gb(r),this.bulkRefresh(),!0):this.setNodeDataValue(e.rowNode,e.column,t,!0,n);let a=this.model.getEdit(e);if(a){if(a.pendingValue===t)return!1;if(a.sourceValue!==t)return Yb(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(a.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...a,pendingValue:t}),!0}return Yb(r,e,t,n,void 0,{persist:!0}),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){Kb(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){let{model:n}=this;if(!this.batch||!n.hasRowEdits(e.rowNode,CE))return;let{rowNode:r}=e,{compDetails:i,valueToDisplay:a}=t;if(i){let{params:e}=i;return e.data=n.getEditRowDataValue(r,CE),{compDetails:i}}return{valueToDisplay:a}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return H(this.gos,{type:e,...e===`batchEditingStopped`?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(e=>({rowIndex:e.rowNode.rowIndex,rowPinned:e.rowNode.rowPinned,columnId:e.column.getColId(),newValue:e.pendingValue,oldValue:e.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;let{beans:r,rangeSvc:i,valueSvc:a}=this,{formula:o}=r;Jb(r,{persist:!0});let s=this.model.getEditMap(!0),c=s.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:`bulkEditingStarted`});let l=o?.isFormula(c)??!1;n.forEach(e=>{let t=e.columns.some(e=>e?.isAllowFormula());if(i?.forEachRowInRange(e,n=>{let i=vm(r,n);if(i===void 0)return;let u=s.get(i)??new Map,d=c;for(let t of e.columns){if(!t)continue;let e=!!l&&t.isAllowFormula();if(this.isCellEditable({rowNode:i,column:t},`api`)){let e=a.getValue(t,i,!0,`api`),n=a.parseValue(t,i??null,d,e);Number.isNaN(n)&&(n=null),u.set(t,{editorValue:void 0,pendingValue:n,sourceValue:e,state:`changed`,editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}e&&(d=o?.updateFormulaByOffset({value:d,columnDelta:1}))}u.size>0&&s.set(i,u),l&&t&&(c=o?.updateFormulaByOffset({value:c,rowDelta:1}))}),this.setEditMap(s),this.batch){this.cleanupEditors(),Gb(r),this.bulkRefresh();return}this.committing=!0,this.stopEditing(void 0,{source:`bulk`}),this.committing=!1,this.eventSvc.dispatchEvent({type:`bulkEditingStopped`,changes:this.toEventChangeList(s)})}),this.bulkRefresh();let u=Nb(r,{rowNode:e,column:t});u&&u.focusCell(!0)}createCellStyleFeature(e){return new dE(e,this.beans)}createRowStyleFeature(e){return new fE(e,this.beans)}setEditingCells(e,t){let{beans:n}=this,{colModel:r,valueSvc:i}=n,a=new Map;for(let{colId:o,column:s,colKey:c,rowIndex:l,rowPinned:u,newValue:d,state:f}of e){let e=o?r.getCol(o):c?r.getCol(c):s;if(!e)continue;let p=vm(n,{rowIndex:l,rowPinned:u});if(!p)continue;let m=i.getValue(e,p,!0,`api`);if(!t?.forceRefreshOfEditCellsOnly&&!Vb({pendingValue:d,sourceValue:m})&&f!==`editing`)continue;let h=a.get(p);h||(h=new Map,a.set(p,h)),d===void 0&&(d=Lb),h.set(e,{editorValue:void 0,pendingValue:d,sourceValue:m,state:f??`changed`,editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(a,t)}onCellFocused(e){let t=Nb(this.beans,e);if(!t||!this.isEditing(t,CE))return;let n=this.model.getEdit(t);if(!n||!Vb(n))return;let r=this.getLocaleTextFunc()(`ariaPendingChange`,`Pending Change`);this.beans.ariaAnnounce?.announceValue(r,`pendingChange`)}allowedFocusTargetOnValidation(e){return Nb(this.beans,e)}};function EE(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(e=>Array.from(e.keys())))]:void 0}}function DE(e,t){return t??e.get(`editType`)??`singleCell`}var OE=class extends L{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t,n=e.previousParams,{editSvc:r,beans:i}=this,a=e.type===`cellFocused`?e.sourceEvent:null;n&&(t=Nb(i,n));let{gos:o,editModelSvc:s}=i,c=e.type===`cellFocusCleared`;if(r.isEditing(void 0,{withOpenEditor:!0})){let{column:t,rowIndex:l,rowPinned:u}=e,d={column:t,rowNode:vm(i,{rowIndex:l,rowPinned:u})},f=o.get(`invalidEditValueMode`)===`block`;if(f)return;let p=!f,m=!!s?.getCellValidationModel().hasCellValidation(d),h=p&&m;!(n||c)||r.stopEditing(void 0,{cancel:h,source:c&&p?`api`:void 0,event:a})||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:`api`}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){let n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};for(let e of n){if(r.all.push(e),(this.model.getCellValidationModel().getCellValidation(e)?.errorMessages?.length??0)>0){r.fail.push(e);continue}r.pass.push(e)}if(e)for(let t of n)$b(this.beans,t,{cancel:e}),this.model.stop(t);else{let n=this.processValidationResults(r);if(n.destroy.length>0)for(let r of n.destroy)$b(this.beans,r,{event:t,cancel:e}),this.model.stop(r);if(n.keep.length>0)for(let e of n.keep){let t=Nb(this.beans,e);this.editSvc?.cellEditingInvalidCommitBlocks()||t&&this.editSvc.revertSingleCellEdit(t)}}return!0}cleanupEditors({rowNode:e}={},t){Jb(this.beans,{persist:!1});let n=this.model.getEditPositions(),r=[];if(e)for(let t of n)t.rowNode!==e&&r.push(t);else for(let e of n)r.push(e);Qb(this.beans,r),Gb(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){let t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{let n=this.beans.gos.get(`editType`)===`fullRow`;e.focusCell(n),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){let{event:t,ignoreEventKey:n=!1,startedEdit:r,position:i,cells:a=this.model.getEditPositions()}=e,o=t instanceof KeyboardEvent&&!n&&t.key||void 0;Bb(this.beans,a,i,o,t,r)}dispatchCellEvent(e,t,n,r){let i=Nb(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t,n){if(n)return;let r=Mb(this.beans,e);r&&this.eventSvc.dispatchEvent(r.createRowEvent(t))}shouldStop(e,t,n=`ui`){let r=this.editSvc.isBatchEditing();return r&&n===`api`?!0:r&&(n===`ui`||n===`edit`)?!1:n===`api`?!0:t instanceof KeyboardEvent&&!r?t.key===G.ENTER:null}shouldCancel(e,t,n=`ui`){let r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===G.ESCAPE||r&&n===`api`||n===`api`)}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:`api`});let n=[];if(e.forEach((e,t)=>{e.forEach((e,r)=>{e.state===`editing`&&n.push({...e,rowNode:t,column:r})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){let e=n.at(-1),t=e.pendingValue===Lb?void 0:e.pendingValue;this.start({position:e,event:new KeyboardEvent(`keydown`,{key:t}),source:`api`});let r=Nb(this.beans,e);r&&this.setFocusInOnEditor(r)}}destroy(){this.cleanupEditors(),super.destroy()}},kE={moduleName:`EditCore`,version:R,beans:[kb,TE],apiFunctions:{getEditingCells:qT,getEditRowValues:KT,getCellEditorInstances:zb,startEditingCell:XT,stopEditing:JT,isEditing:YT,validateEdit:ZT},dynamicBeans:{singleCell:class extends OE{constructor(){super(...arguments),this.beanName=`singleCell`}shouldStop(e,t,n=`ui`){let r=super.shouldStop(e,t,n);if(r!==null)return r;let{rowNode:i,column:a}=e||{};return(!this.rowNode||!this.column)&&i&&a?null:this.rowNode!==i||this.column!==a}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){let{position:t,startedEdit:n,event:r,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:r,ignoreEventKey:i})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){let{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:a}=e,o=vm(this.beans,{rowIndex:r,rowPinned:a}),s=Ib(i),c=t.getCol(s),l=e.previousParams;if(l){let e=Ib(l.column);if(l?.rowIndex===r&&e===s&&l?.rowPinned===a)return}n?.isEditing({rowNode:o,column:c},{withOpenEditor:!0})&&e.type===`cellFocused`||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r=`ui`,i=!1){let a=this.beans.focusSvc.getFocusedCell();a&&(e=ym(this.beans,a)??e);let o=e.cellPosition,s,c=this.beans.gos.get(`editType`)===`fullRow`;c&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?`ui`:`api`,event:n}));try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0})}finally{c&&this.model.suspend(!1)}if(s===!1)return null;if(s==null)return!1;let l=s.cellPosition,u=e.isCellEditable(),d=s.isCellEditable(),f=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;u&&!i&&this.setFocusOutOnEditor(e);let p=this.gos.get(`suppressStartEditOnTab`);if(!f&&!i&&(super.cleanupEditors(s,!0),p?s.focusCell(!0,n):this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),d&&!i){if(s.focusCell(!1,n),p)s.focusCell(!0,n);else if(!s.comp?.getCellEditor()){let e=this.editSvc?.isEditing(s,{withOpenEditor:!0});Hb(this.beans,s,{event:n,cellStartedEdit:!0,silent:e}),this.setFocusInOnEditor(s),this.cleanupEditors(s)}}else d&&i&&this.setFocusInOnEditor(s),s.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},fullRow:class extends OE{constructor(){super(...arguments),this.beanName=`fullRow`,this.startedRows=[]}shouldStop(e,t,n=`ui`){let{rowNode:r}=e||{};if(!Mb(this.beans,{rowNode:this.rowNode}))return!0;let i=super.shouldStop({rowNode:this.rowNode},t,n);return i===null?this.rowNode?r!==this.rowNode:!1:i}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){let{position:t,silent:n,startedEdit:r,event:i,ignoreEventKey:a}=e,{rowNode:o}=t;this.rowNode!==o&&super.cleanupEditors(t);let s=this.beans.visibleCols.allCols,c=[],l=[];for(let e of s)e.isCellEditable(o)&&l.push(e);if(l.length!=0){this.dispatchRowEvent({rowNode:o},`rowEditingStarted`,n),this.startedRows.push(o);for(let e of l){let t={rowNode:o,column:e};c.push(t),this.model.hasEdits(t)||this.model.start(t)}this.rowNode=o,this.setupEditors({cells:c,position:t,startedEdit:r,event:i,ignoreEventKey:a})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){let{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;let r=[];if(e||this.model.getEditMap().forEach((e,t)=>{if(!(!e||e.size===0)){for(let n of e.values())if(Vb(n)){r.push(t);break}}}),rx(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})===`block-stop`)return!1;super.stop(e,t);for(let e of r)this.dispatchRowEvent({rowNode:e},`rowValueChanged`);return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){let{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;let r=Nb(this.beans,n);this.gos.get(`invalidEditValueMode`)===`block`&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(let e of this.startedRows)this.dispatchRowEvent({rowNode:e},`rowEditingStopped`);this.startedRows.length=0}moveToNextEditingCell(e,t,n,r=`ui`,i=!1){let a=e.cellPosition,o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(a,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;let s=o.cellPosition,c=e.isCellEditable(),l=o.isCellEditable(),u=s&&a.rowIndex===s.rowIndex&&a.rowPinned===s.rowPinned;c&&this.setFocusOutOnEditor(e),this.restoreEditors();let d=this.gos.get(`suppressStartEditOnTab`);return l&&!i?d?o.focusCell(!0,n):(o.comp?.getCellEditor()||Hb(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(l&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!u&&!i&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n}),this.cleanupEditors(o,!0),d?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:e},n)=>{if(e!==`editing`)return;let r=Nb(this.beans,{rowNode:t,column:n});r&&!r.comp?.getCellEditor()&&Hb(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}}},dependsOn:[kC,pT],css:[yT]},AE={moduleName:`UndoRedoEdit`,version:R,beans:[vT],apiFunctions:{undoCellEditing:WT,redoCellEditing:GT,getCurrentUndoSize:QT,getCurrentRedoSize:$T},dependsOn:[kE]},jE={moduleName:`TextEditor`,version:R,userComponents:{agCellEditor:RT,agTextCellEditor:RT},dependsOn:[kE]},ME={moduleName:`NumberEditor`,version:R,userComponents:{agNumberCellEditor:{classImp:NT}},dependsOn:[kE]},NE={moduleName:`DateEditor`,version:R,userComponents:{agDateCellEditor:TT,agDateStringCellEditor:OT},dependsOn:[kE]},PE={moduleName:`CheckboxEditor`,version:R,userComponents:{agCheckboxCellEditor:xT},dependsOn:[kE]},FE={moduleName:`SelectEditor`,version:R,userComponents:{agSelectCellEditor:FT},dependsOn:[kE]},IE={moduleName:`LargeTextEditor`,version:R,userComponents:{agLargeTextCellEditor:AT},dependsOn:[kE]},LE={moduleName:`CustomEditor`,version:R,dependsOn:[kE]},RE=class extends L{constructor(){super(...arguments),this.beanName=`selectionColSvc`}postConstruct(){this.addManagedPropertyListener(`rowSelection`,e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Ts(e.source))}),this.addManagedPropertyListener(`selectionColumnDef`,this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),ws(e))}createColumns(e,t){let n=()=>{_s(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,i=(this.columns?.treeDepth??-1)==r,a=this.generateSelectionCols();if(Cs(a,this.columns?.list??[])&&i)return;n();let{colGroupSvc:o}=this.beans,s=o?.findDepth(e.tree)??0;this.columns={list:a,tree:o?.balanceTreeForAutoCols(a,s)??[],treeDepth:s,map:{}},t(e=>{if(!e)return null;let t=e.filter(e=>!ys(e));return[...a,...t]})}updateColumns(e){let t=Ts(e.source),{beans:n}=this;for(let r of this.columns?.list??[]){let i=this.createSelectionColDef(e.currentValue);r.setColDef(i,null,t),Xs(n,{state:[Os(i,r.colId)]},t)}}getColumn(e){return this.columns?.list.find(t=>Es(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,n=e.get(`rowSelection`);if(typeof n!=`object`||!Za(e))return!1;let r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation===`autoGroupColumn`&&r)return!1;let i=!!_o(n),a=vo(n);return i||a}createSelectionColDef(e){let{gos:t}=this,n=e??t.get(`selectionColumnDef`),r=t.get(`enableRtl`),{rowSpan:i,spanRows:a,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?`right`:`left`,comparator(e,t,n,r){let i=n.isSelected();return i===r.isSelected()?0:i?1:-1},editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,pinned:null,...o,colId:ms,chartDataType:`excluded`}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);let n=new Xo(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){let r=(t&&typeof t!=`string`?_o(t):void 0)!==(e&&typeof e!=`string`?_o(e):void 0),i=(t&&typeof t!=`string`?vo(t):void 0)!==(e&&typeof e!=`string`?vo(e):void 0),a=yo(e)!==yo(t);(r||i||a)&&this.beans.colModel.refreshAll(n)}destroy(){_s(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;let r=e.length+t.length+n.length;if(r===0)return;let i=this.columns.list[0];i.isVisible()&&(this.beans.rowNumbersSvc?.getColumn(`ag-Grid-RowNumbersColumn`)?2:1)===r&&(()=>{let r;switch(i.pinned){case`left`:case!0:r=e;break;case`right`:r=n;break;default:r=t}r&&ds(r,i)})()}},zE=`:where(.ag-selection-checkbox) .ag-checkbox-input-wrapper{&:before{content:"";cursor:pointer;inset:-8px;position:absolute}}`;function BE(e,t){if(!t.nodes.every(e=>e.rowPinned&&!Hh(e)?(z(59),!1):e.id===void 0?(z(60),!1):!0))return;let{nodes:n,source:r,newValue:i}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:r??`api`,newValue:i})}function VE(e,t,n=`apiSelectAll`){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function HE(e,t,n=`apiSelectAll`){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function UE(e,t=`apiSelectAllFiltered`){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:`filtered`})}function WE(e,t=`apiSelectAllFiltered`){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:`filtered`})}function GE(e,t=`apiSelectAllCurrentPage`){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:`currentPage`})}function KE(e,t=`apiSelectAllCurrentPage`){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:`currentPage`})}function qE(e){return e.selectionSvc?.getSelectedNodes()??[]}function JE(e){return e.selectionSvc?.getSelectedRows()??[]}var YE=class extends Yh{constructor(){super(...arguments),this.beanName=`selectionSvc`,this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=Oo(e),this.groupSelectsDescendants=Po(e),this.groupSelectsFiltered=jo(e)===`filteredDescendants`,this.masterSelectsDetail=Fo(e)===`detail`,this.addManagedPropertyListeners([`groupSelectsChildren`,`groupSelectsFiltered`,`rowSelection`],()=>{let t=Po(e),n=Oo(e),r=jo(e)===`filteredDescendants`;this.masterSelectsDetail=Fo(e)===`detail`,(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:`api`}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(r==null)return 0;if(this.selectionCtx.selectAll=!1,`select`in r)return r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n);{let t=r.checkFilteredNodes?eD(r.node):r.newValue;return this.setNodesSelected({nodes:[r.node],newValue:t,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:a,keepDescendants:o=!1}){if(r.length===0)return 0;let{gos:s}=this;if(!Za(s)&&e)return z(132),0;if(r.length>1&&!this.isMultiSelect())return z(130),0;let c=0;for(let t=0;t<r.length;t++){let n=r[t],o=XE(n);if(o.rowPinned&&!Hh(o)){z(59);continue}if(o.id===void 0){z(60);continue}e&&n.destroyed||(this.groupSelectsFiltered&&o.group&&!s.get(`treeData`)||this.selectRowNode(o,e,i,a)&&(this.detailSelection.delete(o.id),c++),this.groupSelectsDescendants&&o.childrenAfterGroup?.length&&(c+=this.selectChildren(o,e,a)))}return n||(r.length===1&&a===`api`&&this.selectionCtx.setRoot(XE(r[0])),e&&(t||!this.isMultiSelect())&&(c+=this.clearOtherNodes(XE(r[0]),o,a)),c>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),c}selectRange(e,t,n){let r=0;return e.forEach(e=>{let i=XE(e);i.group&&this.groupSelectsDescendants||this.selectRowNode(i,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){let r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:n,rowModel:r}=this.beans;if(!Ja(n,r))return!1;let i=r.rootNode;if(!i)return!1;t||(t=new Ng(!0,i),t.active=!1);let a=!1;return t.forEachChangedNodeDepthFirst(t=>{if(t!==i){let n=this.calculateSelectedFromChildren(t);a=this.selectRowNode(t,n===null?!1:n,void 0,e)||a}}),a}clearOtherNodes(e,t,n){let r=new Map,i=0;return this.selectedNodes.forEach(a=>{let o=a.id==e.id;if((!t||!$E(e,a))&&!o){let e=this.selectedNodes.get(a.id);i+=this.setNodesSelected({nodes:[e],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&a.parent&&r.set(a.parent.id,a.parent)}}),r.forEach(e=>{let t=this.calculateSelectedFromChildren(e);this.selectRowNode(e,t===null?!1:t,void 0,n)}),i}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new pf(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!Ja(e,t))return;let n=t.getTopLevelNodes();if(n===null)return;let r=[];function i(e){for(let t=0,n=e.length;t<n;t++){let n=e[t];n.isSelected()?r.push(n):n.group&&n.childrenAfterGroup&&i(n.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let n=Ja(this.gos),r=!1,i=t=>{let n=this.selectRowNode(XE(t),!1,void 0,e);r||=n};if(t===`currentPage`||t===`filtered`){if(!n){B(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){let t=this.updateGroupsFromChildrenSelections(e);r||=t}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(e=>{this.groupSelectsDescendants&&e.group||(e.isSelected()?t++:e.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return QE(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(e=>e.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[],n=e=>t.push(e);if(e===`currentPage`)return this.forEachNodeOnPage(e=>{if(!e.group){n(e);return}if(!e.expanded&&!e.footer){let t=e=>{n(e),e.childrenAfterFilter?.forEach(t)};t(e);return}this.groupSelectsDescendants||n(e)}),t;let r=this.beans.rowModel;return e===`filtered`?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let t=r;t<=i;t++){let r=n.getRow(t);r&&e(r)}}selectAllRowNodes(e){let{gos:t,selectionCtx:n}=this;if(!Za(t)){z(132);return}if(xo(t)&&!ko(t)){z(130);return}if(!this.canSelectAll())return;let{source:r,selectAll:i}=e,a=!1;if(this.getNodesToSelect(i).forEach(e=>{let t=this.selectRowNode(XE(e),!0,void 0,r);a||=t}),n.selectAll=!0,Ja(t)&&this.groupSelectsDescendants){let e=this.updateGroupsFromChildrenSelections(r);a||=e}a&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||=[],!Array.isArray(e)){B(103);return}let r=new Set(e),i=[];this.beans.rowModel.forEachNode(e=>{r.has(e.id)&&i.push(e)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){return Ja(this.beans.gos)}updateSelectable(e){let{gos:t,rowModel:n}=this.beans;if(!Za(t))return;let r=`selectableChanged`,i=e!==void 0,a=Ja(t)&&this.groupSelectsDescendants,o=[],s=e=>{if(!(i&&!e.group)){if(a&&e.group){let t=e.childrenAfterGroup?.some(e=>e.selectable)??!1;this.setRowSelectable(e,t,!0);return}!this.updateRowSelectable(e,!0)&&e.isSelected()&&o.push(e)}};if(a){if(e===void 0){let t=n.rootNode;e=t?new Ng(!1,t):void 0}e?.forEachChangedNodeDepthFirst(s,!i,!i)}else n.forEachNode(s);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&a&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.(`rowGroupChanged`,e)&&this.dispatchSelectionChanged(`rowGroupChanged`)}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let n=e.detailNode?.detailGridInfo?.api;if(!n)return;let r=ZE(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,`masterDetail`)&&this.dispatchSelectionChanged(`masterDetail`),!r){let t=this.detailSelection.get(e.id)??new Set;for(let e of n.getSelectedNodes())t.add(e.id);this.detailSelection.set(e.id,t)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!ko(t)){z(269);return}switch(e.isSelected()){case!0:n.selectAll();break;case!1:n.deselectAll();break;case void 0:{let t=this.detailSelection.get(e.id);if(t){let e=[];for(let r of t){let t=n.getRowNode(r);t&&e.push(t)}n.setNodesSelected({nodes:e,newValue:!0,source:`masterDetail`})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:`selectionChanged`,source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function XE(e){return Hh(e)?e.pinnedSibling:e.footer?e.sibling:e}function ZE(e){let t=0,n=0;return e.forEachNode(e=>{e.isSelected()?t++:e.selectable&&n++}),QE(t,n)}function QE(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function $E(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function eD(e){let t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(eD)??!1;return t||n}var tD={moduleName:`RowSelection`,version:R,rowModels:[`clientSide`,`infinite`,`viewport`],beans:[YE],dependsOn:[{moduleName:`SharedRowSelection`,version:R,beans:[RE],css:[zE],apiFunctions:{setNodesSelected:BE,selectAll:VE,deselectAll:HE,selectAllFiltered:UE,deselectAllFiltered:WE,selectAllOnCurrentPage:GE,deselectAllOnCurrentPage:KE,getSelectedNodes:qE,getSelectedRows:JE}}]};function nD(e){e.expansionSvc?.expandAll(!0)}function rD(e){e.expansionSvc?.expandAll(!1)}function iD(e){e.rowModel?.onRowHeightChanged()}function aD(e){if(e.rowAutoHeight?.active){z(3);return}e.rowModel?.resetRowHeights()}function oD(e,t,n){let r=ZS(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){B(238);return}r.setRowCount(t,n);return}B(28);return}XS(e)?.setRowCount(t,n)}function sD(e){return Ya(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function cD(e){return e.rowModel.isLastRowIndexKnown()}var lD={moduleName:`CsrmSsrmSharedApi`,version:R,apiFunctions:{expandAll:nD,collapseAll:rD}},uD={moduleName:`RowModelSharedApi`,version:R,apiFunctions:{onRowHeightChanged:iD,resetRowHeights:aD}},dD={moduleName:`SsrmInfiniteSharedApi`,version:R,apiFunctions:{setRowCount:oD,getCacheBlockState:sD,isLastRowIndexKnown:cD}},fD={moduleName:`AlignedGrids`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`alignedGridsSvc`,this.consuming=!1}getAlignedGridApis(){let e=this.gos.get(`alignedGrids`)??[],t=typeof e==`function`;return typeof e==`function`&&(e=e()),e.map(e=>{if(!e){B(18),t||B(20);return}if(this.isGridApi(e))return e;let n=e;return`current`in n?n.current?.api:(n.api||B(19),n.api)}).filter(e=>!!e&&!e.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:e})=>this.onColumnEvent(e),alignedGridScroll:({event:e})=>this.onScrollEvent(e)})}fireEvent(e){if(!this.consuming)for(let t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:`alignedGridColumn`,event:e})}fireScrollEvent(e){e.direction===`horizontal`&&this.fireEvent({type:`alignedGridScroll`,event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let n=[];return e.columns?e.columns.forEach(e=>{n.push(t(e))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,e=>e)}getColumnIds(e){return this.extractDataFromEvent(e,e=>e.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case`columnMoved`:case`columnVisible`:case`columnPinned`:case`columnResized`:this.processColumnEvent(e);break;case`columnGroupOpened`:this.processGroupOpenedEvent(e);break;case`columnPivotChanged`:z(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;if(t)for(let n of e.columnGroups){let e=null;n&&(e=t.getProvidedColGroup(n.getGroupId())),!(n&&!e)&&t.setColumnGroupOpened(e,n.isExpanded(),`alignedGridChanged`)}}processColumnEvent(e){let t=e.column,n=null,r=this.beans,{colResize:i,ctrlsSvc:a,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;let s=this.getMasterColumns(e);switch(e.type){case`columnMoved`:Xs(r,{state:e.api.getColumnState().map(e=>({colId:e.colId})),applyOrder:!0},`alignedGridChanged`);break;case`columnVisible`:Xs(r,{state:e.api.getColumnState().map(e=>({colId:e.colId,hide:e.hide}))},`alignedGridChanged`);break;case`columnPinned`:Xs(r,{state:e.api.getColumnState().map(e=>({colId:e.colId,pinned:e.pinned}))},`alignedGridChanged`);break;case`columnResized`:{let t=e,n={};for(let e of s)n[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()};for(let e of t.flexColumns??[])n[e.getId()]&&delete n[e.getId()];i?.setColumnWidths(Object.values(n),!1,t.finished,`alignedGridChanged`);break}}let c=a.getGridBodyCtrl().isVerticalScrollShowing();for(let e of this.getAlignedGridApis())e.setGridOption(`alwaysShowVerticalScroll`,c)}}],dependsOn:[Pv]},pD=class extends L{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},hD(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){this.dispatchRowDataUpdateStarted(e),this.destroyAllNodes();let t=hD(this.rootNode),n=Array(e.length);t._leafs=n;let r=0,i=this.beans.groupStage?.getNestedDataGetter(),a=i?new Set:null,o=(e,t)=>{let s=e.level+1;for(let c=0,l=t.length;c<l;++c){let l=t[c];if(!l)continue;let u=this.createRowNode(l,s);if(u.sourceRowIndex=r,n[r++]=u,a&&!a.has(l)){a.add(l),u.treeParent=e;let t=i(l);t&&o(u,t)}}};o(t,e),n.length=r}destroyAllNodes(){let{selectionSvc:e,pinnedRowModel:t,groupStage:n}=this.beans;e?.reset(`rowDataChanged`),t?.isManual()&&t.reset(),n?.clearNonLeafs();let r=this.rootNode._leafs;if(r)for(let e=0,t=r.length;e<t;++e)r[e]._destroy(!1);this.allNodesMap=Object.create(null),this.nextId=0}setImmutableRowData(e,t){let{rootNode:n,gos:r}=this;this.dispatchRowDataUpdateStarted(t);let i=mo(r),a=e.changedRowNodes,{adds:o,updates:s}=a,c=new Set,l=[],u=this.beans.groupStage?.getNestedDataGetter(),d=r.get(`suppressMaintainUnsortedOrder`)?void 0:!1,f=-1,p=!1,m=(e,t)=>{if(!d&&d!==void 0){let t=e.sourceRowIndex;d=t<=f,f=t}e.data!==t&&(e.updateData(t),o.has(e)||s.add(e),!e.selectable&&e.isSelected()&&l.push(e))},h=(e,t,n)=>{for(let r=0,a=t.length;r<a;++r){let a=t[r];if(!a)continue;let s=this.getRowNode(i({data:a,level:n}));if(s?(m(s,a),p||=!!u&&s.treeParent!==e):(s=this.createRowNode(a,n),o.add(s)),!u||c.has(s)){c.add(s);continue}c.add(s),s.treeParent=e;let l=u(a);l&&h(s,l,n+1)}};h(n,t,0);let g=this.deleteUnusedNodes(c,a,l,!!e.animate)||d||o.size>0;if(g){let e=n._leafs??=[];d===void 0?yD(e,c,a):vD(e,c)&&(a.reordered=!0)}(g||p||s.size)&&(e.rowDataUpdated=!0,this.deselect(l))}deleteUnusedNodes(e,{removals:t},n,r){let i=this.rootNode._leafs;for(let a=0,o=i.length;a<o;a++){let o=i[a];e.has(o)||this.destroyNode(o,r)&&(t.push(o),o.isSelected()&&n.push(o))}return t.length>0}updateRowData(e,t,n){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return z(268),{remove:[],update:[],add:[]};let r=[],i=mo(this.gos),a=this.executeRemove(i,e,t,r,n),o=this.executeUpdate(i,e,t,r),s=this.executeAdd(e,t);return this.deselect(r),{remove:a,update:o,add:s}}executeRemove(e,{remove:t},{adds:n,updates:r,removals:i},a,o){let s=this.rootNode._leafs,c=s?.length,l=t?.length;if(!l||!c)return[];let u=0,d=c,f=0,p=Array(l);for(let s=0;s<l;++s){let c=this.lookupNode(e,t[s]);if(!c)continue;let l=c.sourceRowIndex;l<d&&(d=l),l>f&&(f=l),p[u++]=c,this.destroyNode(c,o)&&(c.isSelected()&&a.push(c),n.delete(c)||(r.delete(c),i.push(c)))}return p.length=u,u&&_D(s,d,f),p}executeUpdate(e,{update:t},{adds:n,updates:r},i){let a=t?.length;if(!a)return[];let o=Array(a),s=0;for(let c=0;c<a;c++){let a=t[c],l=this.lookupNode(e,a);l&&(l.updateData(a),!l.selectable&&l.isSelected()&&i.push(l),o[s++]=l,n.has(l)||r.add(l))}return o.length=s,o}executeAdd(e,t){var n;let r=(n=this.rootNode)._leafs??(n._leafs=[]),i=r.length,a=e.add,o=a?.length;if(!o)return[];let s=i+o,c=this.sanitizeAddIndex(r,e.addIndex);if(c<i){for(let e=i-1,t=s-1;e>=c;--e){let n=r[e];n.sourceRowIndex=t,r[t--]=n}t.reordered=!0}r.length=s;let l=Array(o),u=t.adds;for(let e=0;e<o;e++){let t=this.createRowNode(a[e],0);u.add(t),t.sourceRowIndex=c,r[c]=t,l[e]=t,c++}return l}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:`rowDataUpdateStarted`,firstRowData:e?.length?e[0]:null})}deselect(e){let t=`rowDataChanged`,n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:`selectionChanged`,source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t){let n=new pf(this.beans);n.parent=this.rootNode,n.level=t,n.group=!1,n.expanded=!1,n.setDataAndId(e,String(this.nextId++));let r=n.id,i=this.allNodesMap;return i[r]&&z(2,{nodeId:r}),i[r]=n,n}destroyNode(e,t){if(!e._destroy(t))return!1;let n=e.id,r=this.allNodesMap;r[n]===e&&delete r[n];let i=e.pinnedSibling;return i&&this.beans.pinnedRowModel?.pinRow(i,null),!0}lookupNode(e,t){if(!e)return gD(this.rootNode._leafs,t);let n=e({data:t,level:0});return this.allNodesMap[n]||(B(4,{id:n}),null)}sanitizeAddIndex(e,t){let n=e.length;if(typeof t!=`number`||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);let r=this.gos;return t>0&&r.get(`treeData`)&&r.get(`getDataPath`)&&(t=mD(e,t)),t}},mD=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},hD=e=>{e.group=!0,e.level=-1,e.id=`ROOT_NODE_ID`,e._leafs?.length!==0&&(e._leafs=[]);let t=[],n=[],r=[],i=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=r,e.childrenAfterFilter=i;let a=e.sibling;return a&&(a.childrenAfterGroup=t,a.childrenAfterSort=n,a.childrenAfterAggFilter=r,a.childrenAfterFilter=i,a.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},gD=(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++){let r=e[n];if(r.data===t)return r}return B(5,{data:t}),null},_D=(e,t,n)=>{t=Math.max(0,t);for(let r=t,i=e.length;r<i;++r){let i=e[r];r<=n&&i.destroyed||(i.sourceRowIndex=t,e[t++]=i)}e.length=t},vD=(e,t)=>{e.length=t.size;let n=0,r=!1,i=!1;for(let a of t){let t=a.sourceRowIndex;t===n?i||=r:(t>=0?i=!0:r=!0,a.sourceRowIndex=n,e[n]=a),++n}return i},yD=(e,t,{adds:n})=>{let r=e.length,i=t.size;i>r&&(e.length=i);let a=0;for(let t=0;t<r;++t){let n=e[t];n.destroyed||(a!==t&&(n.sourceRowIndex=a,e[a]=n),++a)}for(let t of n)t.sourceRowIndex<0&&(t.sourceRowIndex=a,e[a++]=t);e.length=a},bD=e=>{let t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),t)for(let e=0,n=t.length-1;e<=n;e++){let r=t[e],i=e===0,a=e===n;r.firstChild!==i&&(r.firstChild=i,r.dispatchRowEvent(`firstChildChanged`)),r.lastChild!==a&&(r.lastChild=a,r.dispatchRowEvent(`lastChildChanged`)),r.childIndex!==e&&(r.childIndex=e,r.dispatchRowEvent(`childIndexChanged`))}},xD=class extends L{constructor(){super(...arguments),this.beanName=`sortStage`,this.step=`sort`,this.refreshProps=[`postSortRows`,`groupDisplayType`,`accentedSort`]}execute(e,t){let n=this.beans.sortSvc.getSortOptions(),r=n.length>0&&!!t&&this.gos.get(`deltaSort`),{gos:i,colModel:a,rowGroupColsSvc:o,rowNodeSorter:s,rowRenderer:c,showRowGroupCols:l}=this.beans,u=i.get(`groupMaintainOrder`),d=a.getCols().some(e=>e.isRowGroupActive()),f=o?.columns,p=a.isPivotMode(),m=i.getCallback(`postSortRows`),h=!1,g;if(e?.forEachChangedNodeDepthFirst(i=>{let a=p&&i.leafGroup,o=u&&d&&!i.leafGroup;o&&(g??=this.shouldSortContainsGroupCols(n),o&&=!g);let c=null;if(o){let e=!1;if(f){let t=i.level+1;t<f.length&&(e=f[t].wasSortExplicitlyRemoved)}e||(c=wD(i))}else !n.length||a||(c=r&&t?SD(s,i,t,e,n):s.doFullSort(i.childrenAfterAggFilter,n));c||=i.childrenAfterAggFilter?.slice(0)??[],h||=i.childrenAfterSort?.[0]!==c[0],i.childrenAfterSort=c,bD(i),m&&m({nodes:i.childrenAfterSort})}),h&&i.get(`groupHideOpenParents`)){let e=l?.columns;e?.length&&c.refreshCells({columns:e,force:!0})}}shouldSortContainsGroupCols(e){let t=e.length;if(!t)return!1;if(lo(this.gos)){for(let n=0;n<t;++n){let t=e[n].column;if(t.isPrimary()&&t.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},SD=(e,t,n,r,i)=>{let a=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(a,i);let s=new Set,c=[],{updates:l,adds:u}=n;for(let e=0,t=a.length;e<t;++e){let t=a[e];l.has(t)||u.has(t)||r&&!r.canSkip(t)?c.push({currentPos:c.length,rowNode:t}):s.add(t)}let d=o.filter(e=>s.has(e)).map((e,t)=>({currentPos:t,rowNode:e}));return c.sort((t,n)=>e.compareRowNodes(i,t,n)),CD(e,i,c,d)},CD=(e,t,n,r)=>{let i=0,a=0,o=n.length,s=r.length,c=Array(o+s),l=0;for(;i<o&&a<s;){let o=n[i],s=r[a];e.compareRowNodes(t,o,s)<0?(c[l++]=o.rowNode,++i):(c[l++]=s.rowNode,++a)}for(;i<o;)c[l++]=n[i++].rowNode;for(;a<s;)c[l++]=r[a++].rowNode;return c},wD=e=>{let t=e.childrenAfterSort,n=e.childrenAfterAggFilter,r=t?.length,i=n?.length;if(!r||!i)return null;let a=Array(i),o=new Set;for(let e=0;e<i;++e)o.add(n[e]);let s=0;for(let e=0;e<r;++e){let n=t[e];o.delete(n)&&(a[s++]=n)}if(o.size===0&&s===r)return t;for(let e of o)a[s++]=e;return a.length=s,a},TD=class extends L{constructor(){super(...arguments),this.beanName=`rowModel`,this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.formulaRows=[],this.rowDataUpdatedPending=!1,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingModel=!1,this.rowNodesCountReady=!1,this.stages=null,this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=Ji(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){let e=this.beans,t=new pf(e);this.rootNode=t,this.nodeManager=this.createBean(new pD(t));let n=()=>{this.beans.groupStage?.invalidateGroupCols(),this.refreshModel({step:`group`,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get(`suppressAnimationFrame`)})};this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:()=>this.refreshModel({step:`pivot`}),columnPivotModeChanged:()=>this.refreshModel({step:`group`}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),stylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){let{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(e=>!!e);this.stages=n;for(let e=n.length-1;e>=0;--e){let r=n[e];for(let n of r.refreshProps)t.set(n,e)}this.addManagedPropertyListeners([...t.keys(),`rowData`],e=>{let t=e.changeSet?.properties;t&&this.onPropChange(t)}),this.addManagedPropertyListener(`rowHeight`,()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:`group`,rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get(`rowData`)&&this.onPropChange([`rowData`])}ensureRowHeightsValid(e,t,n,r){let i,a=!1;do{i=!1;let o=this.getRowIndexAtPixel(e),s=this.getRowIndexAtPixel(t),c=Math.max(o,n),l=Math.min(s,r);for(let e=c;e<=l;e++){let t=this.getRow(e);if(t.rowHeightEstimated){let e=to(this.beans,t);t.setRowHeight(e.height),i=!0,a=!0}}i&&this.setRowTopAndRowIndex()}while(i);return a}onPropChange(e){let{nodeManager:t,gos:n,beans:r}=this,i=r.groupStage;if(!t)return;let a=new Set(e),o=i?.onPropChange(a),s;a.has(`rowData`)?s=n.get(`rowData`):o&&(s=i?.extractData()),s&&!Array.isArray(s)&&(s=null,z(1));let c={step:`nothing`,changedProps:a};s&&(!o&&!this.isEmpty()&&s.length>0&&n.exists(`getRowId`)&&!n.get(`resetRowDataOnUpdate`)?(c.keepRenderedRows=!0,c.animate=!n.get(`suppressAnimationFrame`),c.changedRowNodes=new Vh,t.setImmutableRowData(c,s)):(c.rowDataUpdated=!0,c.newData=!0,t.setNewRowData(s),this.rowNodesCountReady=!0));let l=c.rowDataUpdated?`group`:this.getRefreshedStage(e);l&&(c.step=l,this.refreshModel(c))}getRefreshedStage(e){let{stages:t,stagesRefreshProps:n}=this;if(!t)return null;let r=t.length,i=r;for(let t=0,r=e.length;t<r&&i;++t)i=Math.min(i,n.get(e[t])??i);return i<r?t[i].step:null}setRowTopAndRowIndex(e){let{beans:t,rowsToDisplay:n}=this,r=t.environment.getDefaultRowHeight(),i=0,a=Xa(this.gos,`normal`);for(let o=0,s=n.length;o<s;++o){let s=n[o],c=s.id;if(c!=null&&e?.add(c),s.rowHeight==null){let e=to(t,s,a,r);s.setRowHeight(e.height,e.estimated)}s.setRowTop(i),s.setRowIndex(o),i+=s.rowHeight}if(this.beans.formula?.active){let e=this.formulaRows;for(let t=0,n=e.length;t<n;++t){let n=e[t];n.formulaRowIndex=t}}}clearRowTopAndRowIndex(e,t){let n=e.active,r=e=>{e?.id!=null&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},i=e=>{r(e),r(e.detailNode),r(e.sibling);let t=e.childrenAfterGroup;if(!e.hasChildren()||!t)return;let a=e.level==-1;if(!(n&&!a&&!e.expanded))for(let e=0,n=t.length;e<n;++e)i(t[e])},a=this.rootNode;a&&i(a)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){let{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;let n=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+n}getTopLevelRowDisplayedIndex(e){let{beans:t,rootNode:n,rowsToDisplay:r}=this;if(!n||!r.length||r[0]===n)return e;let i=n.childrenAfterSort,a=e=>{let t=i[e];if(this.gos.get(`groupHideOpenParents`))for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},o=t.footerSvc;return o?o?.getTopDisplayIndex(r,e,i,a):a(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);r.footer&&(r=r.sibling);let i=r.parent;for(;i&&i!==t;)r=i,i=r.parent;let a=t.childrenAfterSort?.indexOf(r)??-1;return a>=0?a:e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:`map`,keepRenderedRows:!0,animate:so(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){let e=t.length===0||t.some(e=>e.isPrimary())?`filter`:`filter_aggregates`;this.refreshModel({step:e,keepRenderedRows:!0,animate:so(this.gos)})}}onSortChanged(){this.refreshModel({step:`sort`,keepRenderedRows:!0,animate:so(this.gos)})}getType(){return`clientSide`}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?`pivot`:`aggregate`})}createChangePath(e){let t=new Ng(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get(`suppressModelUpdateAfterUpdateTransaction`))return!1;let{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.length||t.adds.size)}refreshModel(e){let{nodeManager:t,beans:n,eventSvc:r,started:i,refreshingModel:a}=this;if(!t)return;let o=!!e.rowDataUpdated,s=e.changedPath??=this.createChangePath(!e.newData&&o);if(i&&o&&r.dispatchEvent({type:`rowDataUpdated`}),!i||a||n.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||=o;return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step=`group`),this.refreshingModel=!0,n.masterDetailSvc?.refreshModel(e),o&&e.step!==`group`&&n.colFilter?.refreshModel(),e.step){case`group`:this.doGrouping(e);case`filter`:this.doFilter(s);case`pivot`:this.doPivot(s);case`aggregate`:this.doAggregate(s);case`filter_aggregates`:this.doFilterAggregates(s);case`sort`:this.doSort(s,e.changedRowNodes);case`map`:this.doRowsToDisplay()}let c=new Set;this.setRowTopAndRowIndex(c),this.clearRowTopAndRowIndex(s,c),this.refreshingModel=!1,r.dispatchEvent({type:`modelUpdated`,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getOverlayType(){return this.isEmpty()?`noRows`:this.beans.filterManager?.isAnyFilterPresent()&&this.getRowCount()===0?`noMatchingRows`:null}getNodesInRangeForSelection(e,t){let n=!1,r=!1,i=[],a=Po(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(!r){if(n&&(o===t||o===e)&&(r=!0,a&&o.group)){ED(i,o);return}if(!n){if(o!==t&&o!==e)return;n=!0,t===e&&(r=!0)}(!o.group||!a)&&i.push(o)}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}getFormulaRow(e){return this.formulaRows[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let r=0,i=n-1;if(e<=0)return 0;if(t[i].rowTop<=e)return i;let a=-1,o=-1;for(;;){let n=Math.floor((r+i)/2),s=t[n];if(this.isRowInPixel(s,e)||(s.rowTop<e?r=n+1:s.rowTop>e&&(i=n-1),a===r&&o===i))return n;a=r,o=i}}isRowInPixel(e,t){let n=e.rowTop,r=n+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){let t=this.rootNode?._leafs;if(t)for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){let t=this.rowsToDisplay;for(let n=0,r=t.length;n<r;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,e=>e.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,e=>e.childrenAfterSort)}forEachPivotNode(e,t,n){let{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}let a=n?`childrenAfterSort`:`childrenAfterGroup`;this.depthFirstSearchRowNodes(e,t,e=>e.leafGroup?null:e[a])}depthFirstSearchRowNodes(e,t=!1,n=e=>e.childrenAfterGroup,r=this.rootNode,i=0){let a=i;if(!r)return a;let o=r===this.rootNode;if(o||e(r,a++),r.hasChildren()&&!r.footer){let i=n(r);if(i){let s=this.beans.footerSvc;a=s?.addTotalRows(a,r,e,t,o,`top`)??a;for(let r of i)a=this.depthFirstSearchRowNodes(e,t,n,r,a);return s?.addTotalRows(a,r,e,t,o,`bottom`)??a}}return a}doAggregate(e){this.rootNode&&this.beans.aggStage?.execute(e)}doFilterAggregates(e){let t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute(e);return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){let n=this.beans.sortStage;if(n){n.execute(e,t);return}e.forEachChangedNodeDepthFirst(e=>{e.childrenAfterSort=e.childrenAfterAggFilter.slice(0),bD(e)})}doGrouping(e){let t=this.rootNode;if(!t)return;let n=this.beans.groupStage?.execute(e);if(n===void 0){let e=t._leafs;t.childrenAfterGroup=e,t.updateHasChildren();let n=t.sibling;n&&(n.childrenAfterGroup=e)}(n||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:`rowCountReady`}))}doFilter(e){let t=this.beans.filterStage;if(t){t.execute(e);return}e.forEachChangedNodeDepthFirst(e=>{e.childrenAfterFilter=e.childrenAfterGroup,CC(e)},!0)}doPivot(e){this.beans.pivotStage?.execute(e)}getRowNode(e){let t=this.nodeManager?.getRowNode(e);return typeof t==`object`?t:this.beans.groupStage?.getNonLeaf(e)}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];let e=this.gos.get(`asyncTransactionWaitMillis`);this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),e)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){let e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){let{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:r}=this;if(!e)return;t.valueCache?.onDataChanged();let i=[],a=[],o=new Vh,s=!this.gos.get(`suppressAnimationFrame`);for(let{rowDataTransaction:t,callback:n}of r??[]){this.rowNodesCountReady=!0;let r=e.updateRowData(t,o,s);i.push(r),n&&a.push(n.bind(null,r))}this.commitTransactions(o,s),a.length>0&&setTimeout(()=>{for(let e=0,t=a.length;e<t;e++)a[e]()},0),i.length>0&&n.dispatchEvent({type:`asyncTransactionsFlushed`,results:i}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){let t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let n=new Vh,r=!this.gos.get(`suppressAnimationFrame`),i=t.updateRowData(e,n,r);return this.commitTransactions(n,r),i}commitTransactions(e,t){this.refreshModel({step:`group`,rowDataUpdated:!0,keepRenderedRows:!0,animate:t,changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{rootNode:e,beans:t}=this;if(t.formula?.active){let t=e?.childrenAfterSort??[];this.formulaRows=t,this.rowsToDisplay=t.filter(e=>!e.softFiltered);for(let e of this.rowsToDisplay)e.setUiLevel(0);return}let n=t.flattenStage;if(n){this.rowsToDisplay=n.execute();return}let r=this.rootNode.childrenAfterSort??[];for(let e of r)e.setUiLevel(0);this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:`map`,keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);let n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);let r=t.sibling;r?.setRowHeight(r.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,this.stages=null,this.stagesRefreshProps.clear(),clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},ED=(e,t)=>{let n=t.childrenAfterGroup;if(n)for(let t=0,r=n.length;t<r;++t){let r=n[t];r.data&&e.push(r),r.group&&ED(e,r)}};function DD(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function OD(e,t){let n=YS(e);n&&((!t||t===`everything`)&&(t=`group`),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get(`suppressAnimationFrame`)}))}function kD(e){return YS(e)?.isEmpty()??!0}function AD(e,t){YS(e)?.forEachLeafNode(t)}function jD(e,t){YS(e)?.forEachNodeAfterFilter(t)}function MD(e,t){YS(e)?.forEachNodeAfterFilterAndSort(t)}function ND(e,t){return e.frameworkOverrides.wrapIncoming(()=>YS(e)?.updateRowData(t))}function PD(e,t,n){e.frameworkOverrides.wrapIncoming(()=>YS(e)?.batchUpdateRowData(t,n))}function FD(e){e.frameworkOverrides.wrapIncoming(()=>YS(e)?.flushAsyncTransactions())}function ID(e){return e.selectionSvc?.getBestCostNodeSelection()}var LD={moduleName:`ClientSideRowModel`,version:R,rowModels:[`clientSide`],beans:[TD,xD],dependsOn:[gS]},RD={moduleName:`ClientSideRowModelApi`,version:R,apiFunctions:{onGroupExpandedOrCollapsed:DD,refreshClientSideRowModel:OD,isRowDataEmpty:kD,forEachLeafNode:AD,forEachNodeAfterFilter:jD,forEachNodeAfterFilterAndSort:MD,applyTransaction:ND,applyTransactionAsync:PD,flushAsyncTransactions:FD,getBestCostNodeSelection:ID,resetRowHeights:aD,onRowHeightChanged:iD},dependsOn:[lD,uD]},zD={moduleName:`SharedExport`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`gridSerializer`}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:a}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:a});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((e,t)=>t(e),e).parse()}processRow(e,t,n,r){let i=t.shouldRowBeSkipped||(()=>!1),a=t.rowPositions!=null||!!t.onlySelected,o=this.gos.get(`groupHideOpenParents`)&&!a,s=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,l=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&ho(this.gos,r);if(!s&&!c&&(t.skipRowGroups||l||o)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned===`top`||t.skipPinnedBottom&&r.rowPinned===`bottom`||r.stub||r.level===-1&&!s&&!c||i(H(this.gos,{node:r})))return;let u=e.onNewBodyRow(r);if(n.forEach((e,t)=>{u.onColumn(e,t,r)}),t.getCustomContentBelowRow){let n=t.getCustomContentBelowRow(H(this.gos,{node:r}));n&&e.addCustomContent(n)}}appendContent(e){return t=>{let n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{let n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){let r=new oc,{colGroupSvc:i}=this.beans,a=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(a,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){let e=n.onNewHeaderRow();t.forEach((t,n)=>{e.onColumn(t,n,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{let r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(e=>e.rowPinned===`top`).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>this.pinnedRowModel?.getPinnedTopRow(e.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow(`top`,r),n}}processRows(e,t){return n=>{let r=this.rowModel,i=Ja(this.gos,r),a=Ya(this.gos,r),o=!i&&e.onlySelected,s=this.processRow.bind(this,n,e,t),{exportedRows:c=`filteredAndSorted`}=e;if(e.rowPositions)e.rowPositions.filter(e=>e.rowPinned==null).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>r.getRow(e.rowIndex)).forEach(s);else if(this.colModel.isPivotMode())i?r.forEachPivotNode(s,!0,c===`filteredAndSorted`):a?r.forEachNodeAfterFilterAndSort(s,!0):r.forEachNode(s);else if(e.onlySelectedAllPages||o){let e=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(e),e.forEach(s)}else c===`all`?r.forEachNode(s):i||a?r.forEachNodeAfterFilterAndSort(s,!0):r.forEachNode(s);return n}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;let r=t.getSortOptions(),i=(e,t)=>e.rowIndex!=null&&t.rowIndex!=null?e.rowIndex-t.rowIndex:e.level===t.level?e.parent?.id===t.parent?.id?n.compareRowNodes(r,{rowNode:e,currentPos:e.rowIndex??-1},{rowNode:t,currentPos:t.rowIndex??-1}):i(e.parent,t.parent):e.level>t.level?i(e.parent,t):i(e,t.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{let r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(e=>e.rowPinned===`bottom`).sort((e,t)=>e.rowIndex-t.rowIndex).map(e=>this.pinnedRowModel?.getPinnedBottomRow(e.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow(`bottom`,r),n}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:a,gos:o,visibleCols:s}=this,c=a.isPivotMode(),l=e=>ys(e)?!1:!bs(e)||r;if(i?.length)return a.getColsForKeys(i).filter(l);let u=o.get(`treeData`),d=[];return d=t&&!c?a.getCols():s.allCols,d=d.filter(e=>l(e)&&(n&&!u?!vs(e):!0)),d}recursivelyAddHeaderGroups(e,t,n){let r=[];for(let t of e){let e=t;if(e.getChildren)for(let t of e.getChildren()??[])r.push(t)}e.length>0&&Q(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){let r=e.onNewHeaderGroupingRow(),i=0;for(let e of t){let t=e,a;a=n?n(H(this.gos,{columnGroup:t})):this.beans.colNames.getDisplayNameForColumnGroup(t,`header`);let o=(t.isExpandable()?t.getLeafColumns():[]).reduce((e,t,n,r)=>{let i=U(e);return t.getColumnGroupShow()===`open`?(!i||i[1]!=null)&&(i=[n],e.push(i)):i&&i[1]==null&&(i[1]=n-1),n===r.length-1&&i&&i[1]==null&&(i[1]=n),e},[]);r.onColumn(t,a||``,i++,t.getLeafColumns().length-1,o)}}}]},BD=`\r
`,VD=class extends oC{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result=``;let{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e==`string`?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,BD),this.result+=e):e.forEach(e=>{this.beginNewLine(),e.forEach((e,t)=>{t!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||``),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes(``)}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);let r=this.extractRowCellValue({column:e,node:n,currentColumnIndex:t,accumulatedRowIndex:t,type:`csv`,useRawFormula:!1});this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return`""`;let t;return typeof e==`string`?t=e:typeof e.toString==`function`?t=e.toString():(z(53),t=``),`"`+t.replace(/"/g,`""`)+`"`}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=BD),this.isFirstLine=!1}},HD=class extends aC{constructor(){super(...arguments),this.beanName=`csvCreator`}getMergedParams(e){let t=this.gos.get(`defaultCsvExportParams`);return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){z(51);return}let t=()=>{let t=this.getMergedParams(e),n=this.getData(t),r=new Blob([``,n],{type:`text/plain`}),i=t.fileName,a=typeof i==`function`?i(H(this.gos,{})):i;sC(this.getFileName(a),r)},{overlays:n}=this.beans;n?n.showExportOverlay(t):t()}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return`csv`}createSerializingSession(e){let{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:a}=this.beans,{processCellCallback:o,processHeaderCallback:s,processGroupHeaderCallback:c,processRowGroupCallback:l,suppressQuotes:u,columnSeparator:d}=e;return new VD({colModel:t,colNames:n,valueSvc:i,gos:a,processCellCallback:o||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:l||void 0,suppressQuotes:u||!1,columnSeparator:d||`,`,rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get(`suppressCsvExport`)}};function UD(e,t){return e.csvCreator?.getDataAsCsv(t)}function WD(e,t){e.csvCreator?.exportDataAsCsv(t)}var GD={moduleName:`CsvExport`,version:R,beans:[HD],apiFunctions:{getDataAsCsv:UD,exportDataAsCsv:WD},dependsOn:[zD]},KD=class extends L{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state=`needsLoading`,this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state=`loading`,this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state=`needsLoading`}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=`failed`),this.dispatchLocalEvent({type:`loadComplete`})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){let t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:`loadComplete`}),this.isRequestMostRecentAndLive(e)&&(this.state=`loaded`,this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let a=0;a<e;a++){let e=n+a,o=new pf(r);o.setRowHeight(t),o.uiLevel=0,o.setRowIndex(e),o.setRowTop(t*e),i.push(o)}}getBlockStateJson(){let{id:e,startRow:t,endRow:n,state:r}=this;return{id:``+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){P(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Kn(this.params.datasource.getRows)){z(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:a}=this;return H(a,{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i})}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){let{rowNodes:t,beans:n}=this;t.forEach((r,i)=>{let a=e.rowData?e.rowData[i]:void 0;!r.id&&r.alreadyRendered&&a&&(t[i]=new pf(n),t[i].setRowIndex(r.rowIndex),t[i].setRowTop(r.rowTop),t[i].setRowHeight(r.rowHeight),r._destroy(!0)),this.setDataAndId(t[i],a,this.startRow+i)});let r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){let e=this.rowNodes;for(let t=0,n=e.length;t<n;t++)e[t]._destroy(!1);e.length=0,super.destroy()}},qD=2,JD=class extends L{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let n=Math.floor(e/this.params.blockSize),r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){let t=this.params,n=this.createBean(new KD(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(let e of this.getBlocksInOrder())e.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(let e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(oa(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(t=>t!=e);t.sort((e,t)=>t.lastAccessed-e.lastAccessed);let n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,i=qD-1;t.forEach((e,t)=>{if(e.state===`needsLoading`&&t>=i||n&&t>=r){if(this.isBlockCurrentlyDisplayed(e)||this.isBlockFocused(e))return;this.removeBlockFromCache(e)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t==`number`&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:t,overflowSize:n}=this.params,r=(e.id+1)*t+n;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,P(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};for(let n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){return Object.values(this.blocks).sort((e,t)=>e.id-t.id)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:`storeUpdated`}))}destroyAllBlocksPastVirtualRowCount(){let e=[];for(let t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(let t of e)this.destroyBlock(t)}purgeCache(){for(let e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let n=[],r=-1,i=!1,a={value:0},o=!1;for(let s of this.getBlocksInOrder())if(!o){if(i&&r+1!==s.id){o=!0;continue}r=s.id,s.forEachNode(r=>{let a=r===e||r===t;(i||a)&&n.push(r),a&&(i=!i)},a,this.rowCount)}return o||i?[]:n}},YD=class extends L{constructor(){super(...arguments),this.beanName=`rowModel`,this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get(`rowModelType`)!==`infinite`)return;let e=this.beans,t=new pf(e);this.rootNode=t,t.level=-1,this.rowHeight=ro(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get(`datasource`))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&=(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener(`datasource`,()=>this.setDatasource(this.gos.get(`datasource`))),this.addManagedPropertyListener(`cacheBlockSize`,()=>this.resetCache()),this.addManagedPropertyListener(`rowHeight`,()=>{this.rowHeight=ro(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;e=this.cacheParams?!Jn(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):!0,e&&this.reset()}getType(){return`infinite`}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getOverlayType(){return this.infiniteCache?.getRowCount()===0?this.beans.filterManager?.isAnyFilterPresent()?`noMatchingRows`:`noRows`:null}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){this.datasource&&(mo(this.gos)??this.beans.selectionSvc?.reset(`rowDataChanged`),this.resetCache())}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:`modelUpdated`,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:a}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:a.get(`infiniteInitialRowCount`),maxBlocksInCache:a.get(`maxBlocksInCache`),rowHeight:ro(e),overflowSize:a.get(`cacheOverflowSize`),blockSize:a.get(`cacheBlockSize`),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new JD(this.cacheParams)),i.dispatchEventOnce({type:`rowCountReady`}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function XD(e){XS(e)?.refreshCache()}function ZD(e){XS(e)?.purgeCache()}function QD(e){return XS(e)?.getRowCount()}var $D={moduleName:`InfiniteRowModel`,version:R,apiFunctions:{refreshInfiniteCache:XD,purgeInfiniteCache:ZD,getInfiniteRowCount:QD},dependsOn:[{moduleName:`InfiniteRowModelCore`,version:R,rowModels:[`infinite`],beans:[YD,class extends L{constructor(){super(...arguments),this.beanName=`rowNodeBlockLoader`,this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=go(this.gos);let e=this.gos.get(`blockLoadDebounceMillis`);e&&e>0&&(this.checkBlockToLoadDebounce=Ji(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener(`loadComplete`,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ds(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){oa(this.gos,`RowNodeBlockLoader - checkBlockToLoad: max loads exceeded`);return}let e=this.maxConcurrentRequests==null?1:this.maxConcurrentRequests-this.activeBlockLoadsCount,t=this.blocks.filter(e=>e.state===`needsLoading`).slice(0,e);this.activeBlockLoadsCount+=t.length;for(let e of t)e.load();this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){oa(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}}]},dD]},eO=``,tO=``,nO={tag:`span`,children:[{tag:`span`,ref:`eDelta`,cls:`ag-value-change-delta`},{tag:`span`,ref:`eValue`,cls:`ag-value-change-value`}]},rO=class extends pc{constructor(){super(nO),this.eValue=null,this.eDelta=null,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let n=Math.abs(t),r=e.formatValue(n),i=P(r)?r:n,a=t>=0,o=this.eDelta;a?o.textContent=eO+i:o.textContent=tO+i,o.classList.toggle(`ag-value-change-delta-up`,a),o.classList.toggle(`ag-value-change-delta-down`,!a)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove(`ag-value-change-value-highlight`),ei(this.eDelta)}refresh(e,t=!1){let{value:n,valueFormatted:r}=e,{eValue:i,lastValue:a,beans:o}=this;if(n===a||(P(r)?i.textContent=r:P(n)?i.textContent=n:ei(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;let s=n&&typeof n==`object`&&`toNumber`in n?n.toNumber():n,c=a&&typeof a==`object`&&`toNumber`in a?a.toNumber():a;if(s===c)return!1;if(typeof s==`number`&&typeof c==`number`){let t=s-c;this.showDelta(e,t)}return a&&i.classList.add(`ag-value-change-value-highlight`),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},iO=`.ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}`,aO={tag:`span`,children:[{tag:`span`,ref:`eCurrent`,cls:`ag-value-slide-current`}]},oO=class extends pc{constructor(){super(aO),this.eCurrent=null,this.refreshCount=0,this.registerCSS(iO)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious?.remove();let{beans:t,eCurrent:n}=this,r=Ef({tag:`span`,cls:`ag-value-slide-previous ag-value-slide-out`});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add(`ag-value-slide-out-end`)},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Kn(n)&&(n=``),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;let r=this.eCurrent;return P(e.valueFormatted)?r.textContent=e.valueFormatted:P(e.value)?r.textContent=n:ei(r),!0}},sO=class extends L{constructor(){super(...arguments),this.beanName=`cellFlashSvc`,this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get(`cellFlashDuration`),r=this.beans.gos.get(`cellFadeDuration`)){let i=this.animations[t];i.delete(e);let a=Date.now(),o=a+n,s={phase:`flash`,flashEndTime:o,fadeEndTime:a+n+r};i.set(e,s);let c=`ag-cell-${t}`,l=`${c}-animation`,{comp:u,eGui:{style:d}}=e;u.toggleCss(c,!0),u.toggleCss(l,!1),d.removeProperty(`transition`),d.removeProperty(`transition-delay`),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){let e=Date.now(),t=null;for(let n of Object.keys(this.animations)){let r=this.animations[n],i=`ag-cell-${n}`,a=`${i}-animation`;for(let[n,o]of r){if(!n.isAlive()||!n.comp){r.delete(n);continue}let{phase:s,flashEndTime:c,fadeEndTime:l}=o,u=s===`flash`?c:l;if(!(e+15>=u)){t=Math.min(u,t??1/0);continue}let{comp:d,eGui:{style:f}}=n;switch(s){case`flash`:d.toggleCss(i,!1),d.toggleCss(a,!0),f.transition=`background-color ${l-c}ms`,f.transitionDelay=`${c-e}ms`,t=Math.min(l,t??1/0),o.phase=`fade`;break;case`fade`:d.toggleCss(i,!1),d.toggleCss(a,!1),f.removeProperty(`transition`),f.removeProperty(`transition-delay`),r.delete(n);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;let n=fm(e.cellPosition);t.cells[n]&&this.animateCell(e,`highlight`)}flashCell(e,t){this.animateCell(e,`data-changed`,t?.flashDuration,t?.fadeDuration)}destroy(){for(let e of Object.keys(this.animations))this.animations[e].clear()}};function cO(e,t={}){let{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(let r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(r,t)})}var lO={moduleName:`HighlightChanges`,version:R,beans:[sO],userComponents:{agAnimateShowChangeCellRenderer:rO,agAnimateSlideCellRenderer:oO},apiFunctions:{flashCells:cO}};function uO(e){return e.stateSvc?.getState()??{}}function dO(e,t,n){return e.stateSvc?.setState(t,n)}function fO(e){return e={...e},e.version||=`32.1.0`,e.version===`32.1.0`&&(e=pO(e)),e.version=R,e}function pO(e){return e.cellSelection=mO(e,`rangeSelection`),e}function mO(e,t){if(e&&typeof e==`object`)return e[t]}var hO={moduleName:`GridState`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`stateSvc`,this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ji(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ji(this,()=>{this.beans.gos.get(`ssrmExpandAllAffectsAllRows`)?(this.updateCachedState(`ssrmRowGroupExpansion`,this.getRowGroupExpansionState()),this.updateCachedState(`rowGroupExpansion`,void 0)):(this.updateCachedState(`rowGroupExpansion`,this.getRowGroupExpansionState()),this.updateCachedState(`ssrmRowGroupExpansion`,void 0))},0),this.onRowSelectedDebounced=Ji(this,()=>{this.staleStateKeys.delete(`rowSelection`),this.updateCachedState(`rowSelection`,this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){let{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=Ja(e);let r=fO(e.get(`initialState`)??{}),i=r.partialColumnState;delete r.partialColumnState,this.cachedState=r;let a=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>a(()=>this.setupStateOnGridReady(r))),(r.columnOrder||r.columnVisibility||r.columnSizing||r.columnPinning||r.columnGroup)&&n?.hideColumns(`columnState`);let[o,s,c]=this.addManagedEventListeners({newColumnsLoaded:({source:e})=>{e===`gridInitializing`&&(o(),a(()=>{this.setupStateOnColumnsInitialised(r,!!i),n?.revealColumns(`columnState`)}))},rowCountReady:()=>{s?.(),a(()=>this.setupStateOnRowCountReady(r))},firstDataRendered:()=>{c?.(),a(()=>this.setupStateOnFirstDataRendered(r))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){let n=fO(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();let r=t?new Set(t):void 0;this.setGridReadyState(n,`api`,r),this.setColumnsInitialisedState(n,`api`,!!r,r),this.setRowCountState(n,`api`,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,`api`,r),this.stopSuppressEvents(`api`)})}setGridReadyState(e,t,n){t===`api`&&!n?.has(`sideBar`)&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState(`sideBar`,this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,`gridInitializing`);let t=()=>this.updateCachedState(`sideBar`,this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState([`aggregation`,`columnOrder`,`columnPinning`,`columnSizing`,`columnVisibility`,`pivot`,`rowGroup`,`sort`]),this.updateCachedState(`columnGroup`,this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,`gridInitializing`,t);let n=e=>()=>this.updateColumnState([e]);this.addManagedEventListeners({columnValueChanged:n(`aggregation`),columnMoved:n(`columnOrder`),columnPinned:n(`columnPinning`),columnResized:n(`columnSizing`),columnVisible:n(`columnVisibility`),columnPivotChanged:n(`pivot`),columnPivotModeChanged:n(`pivot`),columnRowGroupChanged:n(`rowGroup`),sortChanged:n(`sort`),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState(`columnGroup`,this.getColumnGroupState())})}setRowCountState(e,t,n){let{filter:r,rowGroupExpansion:i,ssrmRowGroupExpansion:a,rowSelection:o,pagination:s,rowPinning:c}=e,l=(e,r)=>!n?.has(e)&&(r||t===`api`);l(`filter`,r)&&this.setFilterState(r),l(`rowGroupExpansion`,i)&&this.setRowGroupExpansionState(a,i,t),l(`rowSelection`,o)&&this.setRowSelectionState(o,t),l(`pagination`,s)&&this.setPaginationState(s,t),l(`rowPinning`,c)&&this.setRowPinningState(c);let u=this.updateCachedState.bind(this);u(`filter`,this.getFilterState()),this.beans.gos.get(`ssrmExpandAllAffectsAllRows`)?(u(`ssrmRowGroupExpansion`,this.getRowGroupExpansionState()),u(`rowGroupExpansion`,void 0)):(u(`rowGroupExpansion`,this.getRowGroupExpansionState()),u(`ssrmRowGroupExpansion`,void 0)),u(`rowSelection`,this.getRowSelectionState()),u(`pagination`,this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,`gridInitializing`);let t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get(`ssrmExpandAllAffectsAllRows`)?(t(`ssrmRowGroupExpansion`,this.getRowGroupExpansionState()),t(`rowGroupExpansion`,void 0)):(t(`rowGroupExpansion`,this.getRowGroupExpansionState()),t(`ssrmRowGroupExpansion`,void 0))},r=()=>t(`filter`,this.getFilterState()),{gos:i,colFilter:a,selectableFilter:o}=this.beans;this.addManagedEventListeners({filterChanged:r,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get(`groupDefaultExpanded`)!==0||i.get(`isGroupOpenByDefault`))&&(this.updateRowGroupExpansionStateTimer||=setTimeout(n))},selectionChanged:()=>{this.staleStateKeys.add(`rowSelection`),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&t(`pagination`,this.getPaginationState())},pinnedRowsChanged:()=>t(`rowPinning`,this.getRowPinningState())}),a&&this.addManagedListeners(a,{filterStateChanged:r}),o&&this.addManagedListeners(o,{selectedFilterChanged:r})}setFirstDataRenderedState(e,t,n){let{scroll:r,cellSelection:i,focusedCell:a,columnOrder:o}=e,s=(e,r)=>!n?.has(e)&&(r||t===`api`);s(`focusedCell`,a)&&this.setFocusedCellState(a),s(`cellSelection`,i)&&this.setCellSelectionState(i),s(`scroll`,r)&&this.setScrollState(r),this.setColumnPivotState(!!o?.orderedColIds,t);let c=this.updateCachedState.bind(this);c(`sideBar`,this.getSideBarState()),c(`focusedCell`,this.getFocusedCellState());let l=this.getRangeSelectionState();c(`rangeSelection`,l),c(`cellSelection`,l),c(`scroll`,this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,`gridInitializing`);let t=this.updateCachedState.bind(this),n=()=>t(`focusedCell`,this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:e=>{if(e.finished){let e=this.getRangeSelectionState();t(`rangeSelection`,e),t(`cellSelection`,e)}},bodyScrollEnd:()=>t(`scroll`,this.getScrollState())})}getColumnState(){let e=this.beans;return $S($s(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){let{sort:i,rowGroup:a,aggregation:o,pivot:s,columnPinning:c,columnVisibility:l,columnSizing:u,columnOrder:d}=e,f=!1,p=(e,n)=>{let i=!r?.has(e)&&!!(n||t===`api`);return f||=i,i},m={},h=e=>{let t=m[e];return t||(t={colId:e},m[e]=t,t)},g={},_=p(`sort`,i);_&&i?.sortModel.forEach(({colId:e,sort:t},n)=>{let r=h(e);r.sort=t,r.sortIndex=n}),(_||!n)&&(g.sort=null,g.sortIndex=null);let v=p(`rowGroup`,a);v&&a?.groupColIds.forEach((e,t)=>{let n=h(e);n.rowGroup=!0,n.rowGroupIndex=t}),(v||!n)&&(g.rowGroup=null,g.rowGroupIndex=null);let y=p(`aggregation`,o);y&&o?.aggregationModel.forEach(({colId:e,aggFunc:t})=>{h(e).aggFunc=t}),(y||!n)&&(g.aggFunc=null);let b=p(`pivot`,s);b&&(s?.pivotColIds.forEach((e,t)=>{let n=h(e);n.pivot=!0,n.pivotIndex=t}),this.gos.updateGridOptions({options:{pivotMode:!!s?.pivotMode},source:t})),(b||!n)&&(g.pivot=null,g.pivotIndex=null);let x=p(`columnPinning`,c);if(x){for(let e of c?.leftColIds??[])h(e).pinned=`left`;for(let e of c?.rightColIds??[])h(e).pinned=`right`}(x||!n)&&(g.pinned=null);let S=p(`columnVisibility`,l);if(S)for(let e of l?.hiddenColIds??[])h(e).hide=!0;(S||!n)&&(g.hide=null);let C=p(`columnSizing`,u);if(C)for(let{colId:e,flex:t,width:n}of u?.columnSizingModel??[]){let r=h(e);r.flex=t??null,r.width=n}(C||!n)&&(g.flex=null);let w=d?.orderedColIds,T=!!w?.length&&!r?.has(`columnOrder`),E=T?w.map(e=>h(e)):Object.values(m);(E.length||f)&&(this.columnStates=E,Xs(this.beans,{state:E,applyOrder:T,defaultState:g},t))}setColumnPivotState(e,t){let n=this.columnStates;this.columnStates=void 0;let r=this.columnGroupStates;this.columnGroupStates=void 0;let i=this.beans,{pivotResultCols:a,colGroupSvc:o}=i;if(a?.isPivotResultColsPresent()){if(n){let r=[];for(let e of n)a.getPivotResultCol(e.colId)&&r.push(e);Xs(i,{state:r,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(e)return tC(e.getColumnGroupState())}setColumnGroupState(e,t,n){let r=this.beans.colGroupSvc;if(!r||n?.has(`columnGroup`)||t!==`api`&&!Object.prototype.hasOwnProperty.call(e,`columnGroup`))return;let i=new Set(e.columnGroup?.openColumnGroupIds),a=r.getColumnGroupState().map(({groupId:e})=>{let t=i.has(e);return t&&i.delete(e),{groupId:e,open:t}});for(let e of i)a.push({groupId:e,open:!0});a.length&&(this.columnGroupStates=a),r.setColumnGroupState(a,t)}getFilterState(){let{filterManager:e,selectableFilter:t}=this.beans,n=e?.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);let r=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0,a=t?.getState();return n||i||r||a?{filterModel:n,columnFilterState:r,advancedFilterModel:i,selectableFilters:a}:void 0}setFilterState(e){let{filterManager:t,selectableFilter:n}=this.beans,{filterModel:r,columnFilterState:i,advancedFilterModel:a,selectableFilters:o}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};o!==void 0&&n?.setState(o??{}),(r!==void 0||i!==void 0)&&t?.setFilterState(r??null,i??null,`columnFilter`),a!==void 0&&t?.setAdvFilterModel(a??null,`advancedFilter`)}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(e=>{let{id:t,type:n,startRow:r,endRow:i,columns:a,startColumn:o}=e;return{id:t,type:n,startRow:r,endRow:i,colIds:a.map(e=>e.getColId()),startColId:o.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!So(t)||!n)return;let a=[];for(let t of e?.cellRanges??[]){let e=[];for(let n of t.colIds){let t=r.getCol(n);t&&e.push(t)}if(!e.length)continue;let n=r.getCol(t.startColId);if(!n){let t=i.allCols,r=new Set(e);n=t.find(e=>r.has(e))}a.push({...t,columns:e,startColumn:n})}n.setCellRanges(a)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:a,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get(`center`).setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),a?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}let{colId:r,rowIndex:i,rowPinned:a}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:a,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let n=e.getCurrentPage(),r=t.get(`paginationAutoPageSize`)?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){let{pagination:n,gos:r}=this.beans;if(!n)return;let{pageSize:i,page:a}=e??{page:0,pageSize:r.get(`paginationPageSize`)},o=t===`gridInitializing`;i&&!r.get(`paginationAutoPageSize`)&&n.setPageSize(i,o?`initialState`:`pageSizeSelector`),typeof a==`number`&&(o?n.setPage(a):n.goToPage(a))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t===`api`)}getRowGroupExpansionState(){let{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){let t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){let r=this.beans.expansionSvc;if(!r)return;let i=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};r.setExpansionState(i,n)}updateColumnState(e){let t=this.getColumnState(),n=!1,r=this.cachedState;for(let e of Object.keys(t)){let i=t[e];Jn(i,r[e])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let n=this.cachedState[e];this.setCachedStateValue(e,t),Jn(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){let e=this.staleStateKeys;for(let t of e)t===`rowSelection`&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(let t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:`stateUpdated`,sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents(`gridInitializing`)}}],apiFunctions:{getState:uO,setState:dO}};function gO(e){return e.rowModel.isLastRowIndexKnown()}function _O(e){return e.pagination?.getPageSize()??100}function vO(e){return e.pagination?.getCurrentPage()??0}function yO(e){return e.pagination?.getTotalPages()??1}function bO(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function xO(e){e.pagination?.goToNextPage()}function SO(e){e.pagination?.goToPreviousPage()}function CO(e){e.pagination?.goToFirstPage()}function wO(e){e.pagination?.goToLastPage()}function TO(e,t){e.pagination?.goToPage(t)}var EO=class extends L{constructor(){super(...arguments),this.beanName=`paginationAutoPageSizeSvc`}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener(`paginationAutoPageSize`,this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get(`paginationAutoPageSize`)||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,n=()=>{let n=Math.max(ro(t),1),r=Math.floor(e/n);t.pagination.setPageSize(r,`autoCalculated`)};this.isBodyRendered?Ji(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},DO=`paginationPageSizeSelector`,OO={tag:`span`,cls:`ag-paging-page-size`},kO={selector:`AG-PAGE-SIZE-SELECTOR`,component:class extends pc{constructor(){super(OO),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,`pageSizeSelector`),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(DO,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(``):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ei(this.getGui()),this.selectPageSizeComp&&=this.destroyBean(this.selectPageSizeComp)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get(`pagination`)&&!this.gos.get(`suppressPaginationPanel`)&&!this.gos.get(`paginationAutoPageSize`)&&this.gos.get(DO)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){let n=this.gos.exists(`paginationPageSize`),r=this.gos.get(DO)!==!0;z(94,{pageSizeSet:n,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||z(95,{paginationPageSizeOption:t,paginationPageSizeSelector:DO}),e.unshift(``)}let r=String(n?``:t);this.selectPageSizeComp?(ls(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(e=>({value:String(e)}))}createPageSizeSelectorComp(e,t){let n=this.getLocaleTextFunc(),r=n(`pageSizeSelectorLabel`,`Page Size:`),i=n(`ariaPageSizeSelectorLabel`,`Page Size`);this.selectPageSizeComp=this.createManagedBean(new Eu).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(DO);return!Array.isArray(t)||!t?.length?e:[...t].sort((e,t)=>e-t)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},AO=`.ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}`,jO={selector:`AG-PAGINATION`,component:class extends Xh{constructor(){super(),this.btFirst=null,this.btPrevious=null,this.btNext=null,this.btLast=null,this.lbRecordCount=null,this.lbFirstRowOnPage=null,this.lbLastRowOnPage=null,this.lbCurrent=null,this.lbTotal=null,this.pageSizeComp=null,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(AO)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get(`enableRtl`);this.setTemplate(this.getTemplate(),[kO]);let{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement(`afterbegin`,rh(e?`last`:`first`,this.beans)),n.insertAdjacentElement(`afterbegin`,rh(e?`next`:`previous`,this.beans)),r.insertAdjacentElement(`afterbegin`,rh(e?`previous`:`next`,this.beans)),i.insertAdjacentElement(`afterbegin`,rh(e?`first`:`last`,this.beans)),this.addManagedPropertyListener(`pagination`,this.onPaginationChanged.bind(this)),this.addManagedPropertyListener(`suppressPaginationPanel`,this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners([`paginationPageSizeSelector`,`paginationAutoPageSize`,`suppressPaginationPanel`],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):Em(this.beans,e),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let e=this.gos.get(`pagination`)&&!this.gos.get(`suppressPaginationPanel`);this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(let e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){let{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:e=>{(e.key===G.ENTER||e.key===G.SPACE)&&(e.preventDefault(),n())}})}Tm(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback(`paginationNumberFormatter`);return t?t({value:e}):iC(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:`div`,cls:`ag-paging-panel ag-unselectable`,attrs:{id:`${t}`},children:[{tag:`ag-page-size-selector`,ref:`pageSizeComp`},{tag:`span`,cls:`ag-paging-row-summary-panel`,children:[{tag:`span`,ref:`lbFirstRowOnPage`,cls:`ag-paging-row-summary-panel-number`,attrs:{id:`${t}-first-row`}},{tag:`span`,attrs:{id:`${t}-to`},children:e(`to`,`to`)},{tag:`span`,ref:`lbLastRowOnPage`,cls:`ag-paging-row-summary-panel-number`,attrs:{id:`${t}-last-row`}},{tag:`span`,attrs:{id:`${t}-of`},children:e(`of`,`of`)},{tag:`span`,ref:`lbRecordCount`,cls:`ag-paging-row-summary-panel-number`,attrs:{id:`${t}-row-count`}}]},{tag:`span`,cls:`ag-paging-page-summary-panel`,role:`presentation`,children:[{tag:`div`,ref:`btFirst`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`firstPage`,`First Page`)}},{tag:`div`,ref:`btPrevious`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`previousPage`,`Previous Page`)}},{tag:`span`,cls:`ag-paging-description`,children:[{tag:`span`,attrs:{id:`${t}-start-page`},children:e(`page`,`Page`)},{tag:`span`,ref:`lbCurrent`,cls:`ag-paging-number`,attrs:{id:`${t}-start-page-number`}},{tag:`span`,attrs:{id:`${t}-of-page`},children:e(`of`,`of`)},{tag:`span`,ref:`lbTotal`,cls:`ag-paging-number`,attrs:{id:`${t}-of-page-number`}}]},{tag:`div`,ref:`btNext`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`nextPage`,`Next Page`)}},{tag:`div`,ref:`btLast`,cls:`ag-button ag-paging-button`,role:`button`,attrs:{"aria-label":e(`lastPage`,`Last Page`)}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let r=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===n-1||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Sr(e,t),e.classList.toggle(`ag-disabled`,t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),a=this.pagination.getPageSize(),o,s;this.isZeroPagesToDisplay()?o=s=0:(o=a*i+1,s=o+a-1,e&&s>r&&(s=r));let c=o+a-1,l=!e&&n<c,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let d,f=this.getLocaleTextFunc();d=l?f(`pageLastRowUnknown`,`?`):this.formatNumber(s),this.lbLastRowOnPage.textContent=d;let p=t>0?i+1:0,m=this.formatNumber(p);this.lbCurrent.textContent=m;let h,g;if(e)h=this.formatNumber(t),g=this.formatNumber(r);else{let e=f(`more`,`more`);h=e,g=e}this.lbTotal.textContent=h,this.lbRecordCount.textContent=g,this.announceAriaStatus(u,d,g,m,h)}announceAriaStatus(e,t,n,r,i){let a=this.getLocaleTextFunc(),o=a(`page`,`Page`),s=a(`to`,`to`),c=a(`of`,`of`),l=`${e} ${s} ${t} ${c} ${n}`,u=`${o} ${r} ${c} ${i}`;l!==this.ariaRowStatus&&(this.ariaRowStatus=l,this.ariaAnnounce?.announceValue(l,`paginationRow`)),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,`paginationPage`))}}},MO={moduleName:`Pagination`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`pagination`,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get(`pagination`),this.pageSizeFromGridOptions=e.get(`paginationPageSize`),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener(`pagination`,this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener(`paginationPageSize`,this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return jO}isPaginateChildRows(){let e=this.gos;return e.get(`groupHideParentOfSingleChild`)||e.get(`groupRemoveSingleChildren`)||e.get(`groupRemoveLowestSingleChildren`)?!0:e.get(`paginateChildRows`)}onPaginationGridOptionChanged(){this.active=this.gos.get(`pagination`),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get(`paginationPageSize`),`gridOptions`)}goToPage(e){let t=this.currentPage;if(!this.active||t===e||typeof t!=`number`)return;let{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:`api`})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return P(this.pageSizeAutoCalculated)&&this.gos.get(`paginationAutoPageSize`)?this.pageSizeAutoCalculated:P(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:P(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:P(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let n=this.pageSize;switch(t){case`autoCalculated`:this.pageSizeAutoCalculated=e;break;case`pageSizeSelector`:this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case`initialState`:this.pageSizeFromInitialState=e;break;case`gridOptions`:this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();let i=this.currentPage,a=n*i,o=n*(i+1)-1;o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(a),o===r?this.bottomDisplayedRowIndex=e.getRowCount()-1:this.bottomDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o+1)-1}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,`autoCalculated`),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:`paginationChanged`,animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},EO],icons:{first:`first`,previous:`previous`,next:`next`,last:`last`},apiFunctions:{paginationIsLastPageFound:gO,paginationGetPageSize:_O,paginationGetCurrentPage:vO,paginationGetTotalPages:yO,paginationGetRowCount:bO,paginationGoToNextPage:xO,paginationGoToPreviousPage:SO,paginationGoToFirstPage:CO,paginationGoToLastPage:wO,paginationGoToPage:TO},dependsOn:[kC]};function NO(e,t={}){let n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function PO(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&PO(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function FO(e,t){return e.rowModel.getRowNode(t)}function IO(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function LO(e){return e.rowRenderer.getRenderedNodes()}function RO(e,t,n){e.rowModel.forEachNode(t,n)}function zO(e){return e.rowRenderer.firstRenderedRow}function BO(e){return e.rowRenderer.lastRenderedRow}function VO(e,t){return e.rowModel.getRow(t)}function HO(e){return e.rowModel.getRowCount()}var UO={moduleName:`RowApi`,version:R,apiFunctions:{redrawRows:NO,setRowNodeExpanded:PO,getRowNode:FO,addRenderedRowListener:IO,getRenderedNodes:LO,forEachNode:RO,getFirstDisplayedRowIndex:zO,getLastDisplayedRowIndex:BO,getDisplayedRowAtIndex:VO,getDisplayedRowCount:HO}},WO={moduleName:`ScrollApi`,version:R,apiFunctions:{getVerticalPixelRange:zT,getHorizontalPixelRange:BT,ensureColumnVisible:VT,ensureIndexVisible:HT,ensureNodeVisible:UT}};function GO(e,t,n){if(!t)return;let r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function KO(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function qO(e){e.frameworkOverrides.wrapIncoming(()=>{for(let t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function JO(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function YO(e){e.animationFrameSvc?.flushAllFrames()}function XO(e){return{rowHeight:ro(e),headerHeight:Fm(e)}}function ZO(e,t={}){let n=[];for(let r of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){let e=r.getCellRenderer();e!=null&&n.push($c(e))}if(t.columns?.length)return n;let r=[],i=oS(t.rowNodes);for(let t of e.rowRenderer.getAllRowCtrls()){if(i&&!sS(t.rowNode,i)||!t.isFullWidth())continue;let e=t.getFullWidthCellRenderers();for(let t=0;t<e.length;t++){let n=e[t];n!=null&&r.push($c(n))}}return[...r,...n]}var QO={moduleName:`RenderApi`,version:R,apiFunctions:{setGridAriaProperty:GO,refreshCells:KO,refreshHeader:qO,isAnimationFrameQueueEmpty:JO,flushAllAnimationFrames:YO,getSizesForCurrentTheme:XO,getCellRendererInstances:ZO}},$O=`:where(.ag-ltr) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,left .2s ease-in-out}}:where(.ag-rtl) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,right .2s ease-in-out}}`;function ek(e,t){typeof t==`number`?e.colAutosize?.sizeColumnsToFit(t,`api`):e.colAutosize?.sizeColumnsToFitGridBody(t)}function tk({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:`api`}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:`api`})}function nk(e,t){t&&typeof t==`object`?tk(e,t):e.colAutosize?.autoSizeAllColumns({source:`api`,skipHeader:t})}var rk=class extends L{constructor(){super(...arguments),this.beanName=`colAutosize`,this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){let{gos:e}=this,t=e.get(`autoSizeStrategy`);if(t){let n=!1,r=t.type;if(r===`fitGridWidth`||r===`fitProvidedWidth`)n=!0;else if(r===`fitCellContents`){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});let r=e.get(`rowData`);n=r!=null&&r.length>0&&Ja(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(r)}}autoSizeCols(e){let{eventSvc:t,visibleCols:n,colModel:r}=this.beans;sk(this.beans,!0),this.innerAutoSizeCols(e).then(i=>{let a=e=>Ys(t,Array.from(e),!0,`autosizeColumns`);if(!e.scaleUpToFitGridWidth)return sk(this.beans,!1),a(i);let o=ak(this.beans),s=e=>n.leftCols.some(t=>Es(t,e)),c=e=>n.rightCols.some(t=>Es(t,e)),l=e.colKeys.filter(e=>!r.getCol(e)?.getColDef().suppressAutoSize&&!bs(e)&&!s(e)&&!c(e));this.sizeColumnsToFit(o,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(e=>({...e,key:e.colId})),colKeys:l,onlyScaleUp:!0,animate:!1}),sk(this.beans,!1),a(i)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));let{colKeys:r,skipHeader:i,skipHeaderGroups:a,stopAtGroup:o,defaultMaxWidth:s,defaultMinWidth:c,columnLimits:l=[],source:u=`api`}=e,{animationFrameSvc:d,renderStatus:f,colModel:p,autoWidthCalc:m,visibleCols:h}=this.beans;if(d?.flushAllFrames(),this.timesDelayed<5&&f&&(!f.areHeaderCellsRendered()||!f.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;let g=new Set,_=-1,v=Object.fromEntries(l.map(({colId:e,...t})=>[e,t])),y=i??this.gos.get(`skipHeaderOnAutoSize`),b=a??y;for(;_!==0;){_=0;let e=[];for(let t of r){if(!t||xs(t))continue;let n=p.getCol(t);if(!n||g.has(n)||n.getColDef().suppressAutoSize)continue;let r=m.getPreferredWidthForColumn(n,y);if(r>0){let e=v[n.colId]??{};e.minWidth??=c,e.maxWidth??=s;let t=ik(n,r,e);n.setActualWidth(t,u),g.add(n),_++}e.push(n)}e.length&&h.refresh(u)}b||this.autoSizeColumnGroupsByColumns(r,u,o),t(g)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){let{colModel:r,ctrlsSvc:i}=this.beans,a=new Set,o=r.getColsForKeys(e);for(let e of o){let t=e.getParent();for(;t&&t!=n;)t.isPadding()||a.add(t),t=t.getParent()}let s;for(let e of a){for(let t of i.getHeaderRowContainerCtrls())if(s=t.getHeaderCtrlForColumn(e),s)break;s?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){let n=this.gos.get(`skipHeaderOnAutoSize`),r=()=>{this.autoSizeColumn(t,`uiColumnResized`,n)};e.addEventListener(`dblclick`,r);let i=new ng(e);return i.addEventListener(`doubleTap`,r),()=>{e.removeEventListener(`dblclick`,r),i.destroy()}}addColumnGroupResize(e,t,n){let r=this.gos.get(`skipHeaderOnAutoSize`),i=()=>{let e=[],i=t.getDisplayedLeafColumns();for(let t of i)t.getColDef().suppressAutoSize||e.push(t.getColId());e.length>0&&this.autoSizeCols({colKeys:e,skipHeader:r,stopAtGroup:t,source:`uiColumnResized`}),n()};return e.addEventListener(`dblclick`,i),()=>e.removeEventListener(`dblclick`,i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let n=ak(this.beans);if(n>0){this.sizeColumnsToFit(n,`sizeColumnsToFit`,!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):z(29)}sizeColumnsToFit(e,t=`sizeColumnsToFit`,n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}let{beans:i}=this,a=r?.animate??!0;a&&sk(i,!0);let o={};for(let{key:e,...t}of r?.columnLimits??[])o[typeof e==`string`?e:e.getColId()]=t;let s=i.visibleCols.allCols;if(e<=0||!s.length)return;let c=gs(s);if(r?.onlyScaleUp&&c>e||e===c&&s.every(e=>{if(e.colDef.suppressSizeToFit)return!0;let t=o?.[e.getId()],n=t?.minWidth??r?.defaultMinWidth,i=t?.maxWidth??r?.defaultMaxWidth,a=e.getActualWidth();return(n==null||a>=n)&&(i==null||a<=i)}))return;let l=[],u=[];for(let e of s){let t=r?.colKeys?.some(t=>Es(e,t))??!0;e.getColDef().suppressSizeToFit||!t?u.push(e):l.push(e)}let d=l.slice(0),f=!1,p=e=>{ds(l,e),u.push(e)};for(let e of l){e.resetActualWidth(t);let n=o?.[e.getId()],i=n?.minWidth??r?.defaultMinWidth,a=n?.maxWidth??r?.defaultMaxWidth,s=e.getActualWidth();typeof i==`number`&&s<i?e.setActualWidth(i,t,!0):typeof a==`number`&&s>a&&e.setActualWidth(a,t,!0)}for(;!f;){f=!0;let n=e-gs(u);if(n<=0)for(let e of l){let n=o?.[e.getId()]?.minWidth??r?.defaultMinWidth??e.minWidth;e.setActualWidth(n,t,!0)}else{let e=n/gs(l),i=n;for(let n=l.length-1;n>=0;n--){let a=l[n],s=o?.[a.getId()],c=s?.minWidth??r?.defaultMinWidth,u=s?.maxWidth??r?.defaultMaxWidth,d=a.getMinWidth(),m=a.getMaxWidth(),h=typeof c==`number`&&c>d?c:d,g=typeof u==`number`&&u<m?u:m,_=Math.round(a.getActualWidth()*e);_<h?(_=h,p(a),f=!1):_>g?(_=g,p(a),f=!1):n===0&&(_=i),a.setActualWidth(_,t,!0),i-=_}}}for(let e of d)e.fireColumnWidthChangedEvent(t);let m=i.visibleCols;m.setLeftValues(t),m.updateBodyWidths(),!n&&(Ys(this.eventSvc,d,!0,t),a&&sk(i,!1))}applyAutosizeStrategy(){let{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get(`autoSizeStrategy`);n?.type!==`fitGridWidth`&&n?.type!==`fitProvidedWidth`||setTimeout(()=>{if(!this.isAlive())return;let e=n.type;if(e===`fitGridWidth`){let{columnLimits:e,defaultMinWidth:t,defaultMaxWidth:r}=n,i=e?.map(({colId:e,minWidth:t,maxWidth:n})=>({key:e,minWidth:t,maxWidth:n}));this.sizeColumnsToFitGridBody({defaultMinWidth:t,defaultMaxWidth:r,columnLimits:i})}else e===`fitProvidedWidth`&&this.sizeColumnsToFit(n.width,`sizeColumnsToFit`);t?.revealColumns(e)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;let n=`autosizeColumns`;e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(let e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function ik(e,t,n={}){let r=n.minWidth??e.getMinWidth();t<r&&(t=r);let i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}function ak({ctrlsSvc:e,scrollVisibleSvc:t}){let n=e.getGridBodyCtrl(),r=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return Jr(n.eGridBody)-r}var ok=`ag-animate-autosize`;function sk({ctrlsSvc:e,gos:t},n){if(!t.get(`animateColumnResizing`)||t.get(`enableRtl`)||!e.isAlive())return;let r=e.getGridBodyCtrl().eGridBody.classList;n?r.add(ok):r.remove(ok)}var ck={moduleName:`ColumnAutoSize`,version:R,beans:[rk],apiFunctions:{sizeColumnsToFit:ek,autoSizeColumns:tk,autoSizeAllColumns:nk},dependsOn:[w_],css:[$O]},lk=`.ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}`;function uk(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function dk(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function fk(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function pk(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function mk(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var hk={moduleName:`PinnedRow`,version:R,beans:[Rh],css:[lk],apiFunctions:{getPinnedTopRowCount:uk,getPinnedBottomRowCount:dk,getPinnedTopRow:fk,getPinnedBottomRow:pk,forEachPinnedRow:mk},icons:{rowPin:`pin`,rowPinTop:`pinned-top`,rowPinBottom:`pinned-bottom`,rowUnpin:`un-pin`}},gk=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(let e of this.spannedNodes)e!==this.lastNode&&(t+=e.rowHeight);return e-t}},_k=class extends L{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:a,pagination:o}}=this,{colDef:s}=t,c=this.getNodeMap(e),l=new Map,u=n.getCallback(`isFullWidthRow`),d=s.equals,f=s.spanRows,p=typeof f==`function`,m=null,h=null,g,_=(e,t)=>{m=e,h=null,g=t},v=e=>{let r=!e.isExpandable()&&!e.group&&!e.detail&&(u?!u({rowNode:e}):!0);if(e.rowIndex==null||!r){_(null,null);return}if(m==null||e.level!==m.level||e.footer||h&&e.rowIndex-1!==h?.getLastNode().rowIndex){_(e,a.getValue(t,e));return}let i=a.getValue(t,e);if(p){if(!f(H(n,{valueA:g,nodeA:m,valueB:i,nodeB:e,column:t,colDef:s}))){_(e,i);return}}else if(d?!d(g,i):g!==i){_(e,i);return}if(!h){let e=c?.get(m);e?.firstNode===m?(e.reset(),h=e):h=new gk(t,m),l.set(m,h)}h.addSpannedNode(e),l.set(e,h)};switch(e){case`center`:i.forEachDisplayedNode?.(e=>{(!o||o.isRowInPage(e.rowIndex))&&v(e)}),this.centerValueNodeMap=l;break;case`top`:r?.forEachPinnedRow(`top`,v),this.topValueNodeMap=l;break;case`bottom`:r?.forEachPinnedRow(`bottom`,v),this.bottomValueNodeMap=l;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case`top`:return this.topValueNodeMap;case`bottom`:return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},vk=class extends L{constructor(){super(...arguments),this.beanName=`rowSpanSvc`,this.spanningColumns=new Map,this.debouncePinnedEvent=Ji(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Ji(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get(`enableCellSpan`)||this.spanningColumns.has(e))return;let n=this.createManagedBean(new _k(e));this.spanningColumns.set(e,n),n.buildCache(`top`),n.buildCache(`bottom`),n.buildCache(`center`),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:`spannedCellsUpdated`,pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls(`top`),t?.createCtrls(`bottom`)},0);return}this.modelTimeout??=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls(`center`)},0)}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache(`center`)),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache(`top`),e.buildCache(`bottom`)}),this.debouncePinnedEvent()}isCellSpanning(e,t){let n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,a=this.spanningColumns.get(r);if(!a)return;let o;switch(e.rowPinned){case`top`:o=t?.getPinnedTopRow(i);break;case`bottom`:o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return a.getCellSpan(o)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){let n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[n,r]of this.spanningColumns)r.isCellSpanning(e)&&t(n,r.getCellSpan(e))}destroy(){super.destroy(),this.spanningColumns.clear()}},yk=class extends bx{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS=`ag-spanned-cell`}setComp(e,t,n,r,i,a,o){this.eWrapper=n,super.setComp(e,t,n,r,i,a,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){let{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||Or(e,t.rowIndex)}setAriaRowSpan(){kr(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(Om(t)){this.focusedCellPosition=void 0;return}let n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},bk=class extends Tx{onRowIndexChanged(){super.onRowIndexChanged();for(let e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return[`ag-spanned-row`]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(t&&t.firstNode===this.rowNode)return new yk(t,this,this.beans)}isCorrectCtrlForSpan(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},xk={moduleName:`CellSpan`,version:R,beans:[vk,class extends L{constructor(){super(...arguments),this.beanName=`spannedRowRenderer`,this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls(`top`),this.createCtrls(`bottom`),this.createCtrls(`center`)}createCtrls(e){let{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),r=n.size,i=this.getAllRelevantRowControls(e),a=new Map,o=!1;for(let e of i)e.isAlive()&&t?.forEachSpannedColumn(e.rowNode,(e,t)=>{if(a.has(t.firstNode))return;let r=n.get(t.firstNode);if(r){a.set(t.firstNode,r),n.delete(t.firstNode);return}o=!0;let i=new bk(t.firstNode,this.beans,!1,!1,!1);a.set(t.firstNode,i)});this.setCtrlsMap(e,a);let s=a.size===r;if(!(!o&&s)){for(let e of n.values())e.destroyFirstPass(!0),e.destroySecondPass();this.dispatchLocalEvent({type:`spannedRowsUpdated`,ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case`top`:return t.topRowCtrls;case`bottom`:return t.bottomRowCtrls;case`center`:return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;let r=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(r)return r.getAllCellCtrls().find(t=>t.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(let t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case`top`:return this.topCtrls;case`bottom`:return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case`top`:this.topCtrls=t;break;case`bottom`:this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls(`top`),this.destroyRowCtrls(`bottom`),this.destroyRowCtrls(`center`)}}]},Sk=class extends L{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);xx(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,e=>t.toggleCss(e,!0),e=>t.toggleCss(e,!1)),this.cellClassRules=r}applyUserStyles(){let e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;r=typeof n==`function`?n(this.getCellClassParams(e,t)):n,r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);for(let e of this.staticClasses)t.toggleCss(e,!1);let i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i;for(let e of i)t.toggleCss(e,!0)}getCellClassParams(e,t){let{value:n,rowNode:r}=this.cellCtrl;return H(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},Ck={moduleName:`CellStyle`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`cellStyles`}processAllCellClasses(e,t,n,r){xx(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){let{cellClass:n}=e;if(!n)return[];let r;return r=typeof n==`function`?n(t):n,typeof r==`string`&&(r=[r]),r||[]}createCellCustomStyleFeature(e){return new Sk(e,this.beans)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(e=>{n(e)})}}]},wk={moduleName:`RowStyle`,version:R,beans:[Cx]};function Tk(e,t){return!!e.colHover?.isHovered(t)}var Ek=class extends L{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=e=>{let{beans:t,gos:n,element:r,columns:i}=this,a=t.colHover;if(e??!!n.get(`columnHoverHighlight`))this.destroyManagedListeners=this.addManagedElementListeners(r,{mouseover:a.setMouseOver.bind(a,i),mouseout:a.clearMouseOver.bind(a)});else{for(let e of this.destroyManagedListeners)e();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener(`columnHoverHighlight`,({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Dk=`ag-column-hover`,Ok={moduleName:`ColumnHover`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`colHover`}postConstruct(){this.addManagedPropertyListener(`columnHoverHighlight`,({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get(`columnHoverHighlight`))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){let r=()=>{let e=this.isHovered(n);t.toggleCss(`ag-column-hover`,e)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;let n=this.isHovered(e);t.toggleCss(Dk,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);let i=()=>{let e=this.isHovered(n);t.toggleCss(`ag-column-hover`,e)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new Ek(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:`columnHoverChanged`})}}],apiFunctions:{isColumnHovered:Tk}},kk=class extends L{constructor(){super(...arguments),this.beanName=`apiEventSvc`,this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){let n=this.wrapSvc?.wrap(e,t)??t,r=!Ly.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addListener(e,n,r)}removeListener(e,t){let n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,r)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,n=(e,n)=>{Ly.has(e)&&t(e,n)},r=(e,n)=>{Ly.has(e)||t(e,n)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});let i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){let{syncListener:n,asyncListener:a}=r.get(i);t.removeGlobalListener(n,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((e,n)=>{e.forEach(e=>this.eventSvc.removeListener(n,e,t)),e.clear()}),e.clear()}destroyGlobalListeners(e,t){for(let n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:e,asyncListener:n})=>{t.removeGlobalListener(e,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function Ak(e,t,n){e.apiEventSvc?.addListener(t,n)}function jk(e,t,n){e.apiEventSvc?.removeListener(t,n)}function Mk(e,t){e.apiEventSvc?.addGlobalListener(t)}function Nk(e,t){e.apiEventSvc?.removeGlobalListener(t)}var Pk={moduleName:`AllCommunity`,version:R,dependsOn:[LD,GD,$D,SC,jE,ME,NE,PE,FE,IE,LE,AE,oT,sT,cT,aT,lT,uT,hO,fD,MO,Pv,UO,WO,QO,ck,Kg,hk,tD,CS,Ck,Ok,wk,{moduleName:`EventApi`,version:R,apiFunctions:{addEventListener:Ak,addGlobalListener:Mk,removeEventListener:jk,removeGlobalListener:Nk},beans:[kk]},ES,lO,pT,{moduleName:`Locale`,version:R,beans:[QS]},{moduleName:`RowAutoHeight`,version:R,beans:[class extends L{constructor(){super(...arguments),this.beanName=`rowAutoHeight`,this.wasEverActive=!1,this._debouncedCalculateRowHeights=Ji(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols,a=!1,o=e=>{let t=e.__autoHeights,r=to(this.beans,e).height;for(let a of i){let i=t?.[a.getColId()],o=n?.getCellSpan(a,e);if(o){if(o.getLastNode()!==e)continue;if(i=n?.getCellSpan(a,e)?.getLastNodeAutoHeight(),!i)return}if(i==null){if(this.colSpanSkipCell(a,e))continue;return}r=Math.max(i,r)}r!==e.rowHeight&&(e.setRowHeight(r),a=!0)};r?.forEachPinnedRow?.(`top`,o),r?.forEachPinnedRow?.(`bottom`,o),t.forEachDisplayedNode?.(o),a&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??={},t==null){delete e.__autoHeights[n.getId()];return}let r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let a=[];switch(e.getPinned()){case`left`:a=i.getLeftColsForRow(t);break;case`right`:a=i.getRightColsForRow(t);break;case null:a=r.getColsWithinViewport(t);break}return!a.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let r=t.parentElement,{rowNode:i,column:a}=e,o=this.beans,s=c=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;let{paddingTop:l,paddingBottom:u,borderBottomWidth:d,borderTopWidth:f}=Kr(r),p=l+u+d+f,m=t.offsetHeight+p;if(c<5&&(!rr(o)?.contains(t)||m==0)){window.setTimeout(()=>s(c+1),0);return}this.setRowAutoHeight(i,m,a)},c=()=>s(0);c();let l=mi(o,t,c);return n.addDestroyFunc(()=>{l(),this.setRowAutoHeight(i,void 0,a)}),!0}setAutoHeightActive(e){this.active=e.list.some(e=>e.isVisible()&&e.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;let e=this.beans.rowRenderer.getAllRowCtrls(),t=null;for(let{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(e=>e.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(let e of t){let t=n.__autoHeights[e.getColId()];if(!t||n.rowHeight<t)return!1}}return!0}}]},Wg,RD,xk]},Fk=c(m(),1),Ik=m(),Lk=m(),Rk=_.createContext({}),zk=_.createContext(`default`),Bk=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;let i=e.newAgStackInstance(),a,o,s=!1;return i.then(e=>{if(s){t.destroyBean(e);return}a=e,o=a.getGui(),n.appendChild(o),Vk(r,a)}),()=>{s=!0,a&&(o?.remove(),t.destroyBean(a),r&&Vk(r,void 0))}},Vk=(e,t)=>{if(e)if(e instanceof Function)e(t);else{let n=e;n.current=t}},Hk=(...e)=>e.filter(e=>e!=null&&e!==``).join(` `),Uk=class e{constructor(...e){this.classesMap={};for(let t of e)this.classesMap[t]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;let r=new e;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(` `)}},Wk=e=>{let t=()=>typeof Symbol==`function`&&Symbol.for;return typeof e==`function`&&!(e.prototype&&e.prototype.isReactComponent)||typeof e==`object`&&e.$$typeof===(()=>t()?Symbol.for(`react.memo`):60115)()},Gk=`19.2.3`.split(`.`)[0],Kk=Gk===`16`||Gk===`17`;function qk(){return Gk===`19`}var Jk=!1;function Yk(e){return Jk||setTimeout(()=>Jk=!1,0),Jk=!0,e()}var Xk=(e,t)=>{!Kk&&e&&!Jk?Fk.flushSync(t):t()},Zk=e=>{Kk?e():_.startTransition(e)};function Qk(e,t,n){return _.useSyncExternalStore?_.useSyncExternalStore(e,t):n}function $k(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;let r=[],i=[],a=new Map,o=new Map;for(let e=0;e<t.length;e++){let n=t[e];o.set(n.instanceId,n)}for(let t=0;t<e.length;t++){let n=e[t];a.set(n.instanceId,n),o.has(n.instanceId)&&r.push(n)}for(let e=0;e<t.length;e++){let n=t[e],r=n.instanceId;a.has(r)||i.push(n)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var eA=(0,_.forwardRef)((e,t)=>{let{registry:n,context:r}=(0,_.useContext)(Rk),i=(0,_.useRef)(null),a=(0,_.useRef)(null),o=(0,_.useRef)(null),s=(0,_.useRef)(null),c=(0,_.useRef)(null),l=(0,_.useRef)(),[u,d]=(0,_.useState)(),[f,p]=(0,_.useState)(),[m,h]=(0,_.useState)(),[g,v]=(0,_.useState)(()=>new Uk),[y,b]=(0,_.useState)(()=>new Uk(`ag-hidden`)),[x,S]=(0,_.useState)(()=>new Uk(`ag-hidden`)),[C,w]=(0,_.useState)(()=>new Uk(`ag-invisible`));(0,_.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,_.useLayoutEffect)(()=>Bk(u,r,a.current),[u]);let T=(0,_.useCallback)(t=>{if(i.current=t,!t||r.isDestroyed()){l.current=r.destroyBean(l.current);return}let a={setInnerRenderer:(e,t)=>{d(e),h(t)},setChildCount:e=>p(e),toggleCss:(e,t)=>v(n=>n.setClass(e,t)),setContractedDisplayed:e=>S(t=>t.setClass(`ag-hidden`,!e)),setExpandedDisplayed:e=>b(t=>t.setClass(`ag-hidden`,!e)),setCheckboxVisible:e=>w(t=>t.setClass(`ag-invisible`,!e)),setCheckboxSpacing:e=>w(t=>t.setClass(`ag-group-checkbox-spacing`,e))},u=n.createDynamicBean(`groupCellRendererCtrl`,!0);u&&(l.current=r.createBean(u),l.current.init(a,t,o.current,s.current,c.current,eA,e))},[]),E=(0,_.useMemo)(()=>`ag-cell-wrapper ${g.toString()}`,[g]),ee=(0,_.useMemo)(()=>`ag-group-expanded ${y.toString()}`,[y]),D=(0,_.useMemo)(()=>`ag-group-contracted ${x.toString()}`,[x]),te=(0,_.useMemo)(()=>`ag-group-checkbox ${C.toString()}`,[C]),O=u?.componentFromFramework,ne=O?u.componentClass:void 0,re=u==null&&m!=null,ie=Qn(m);return _.createElement(`span`,{className:E,ref:T,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},_.createElement(`span`,{className:ee,ref:s}),_.createElement(`span`,{className:D,ref:c}),_.createElement(`span`,{className:te,ref:o}),_.createElement(`span`,{className:`ag-group-value`,ref:a},re?ie:O?_.createElement(ne,{...u.params}):null),_.createElement(`span`,{className:`ag-group-child-count`},f))}),tA=eA,nA=(0,_.createContext)({setMethods:()=>{}}),rA=(0,_.memo)(e=>{let{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:a,...o},s]=(0,_.useState)(t);return(0,_.useEffect)(()=>{n(e=>s(e))},[]),_.createElement(nA.Provider,{value:{setMethods:i}},_.createElement(r,{key:a,...o}))}),iA=0;function aA(){return`agPortalKey_${++iA}`}var oA=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=aA(),this.portalKey=aA(),this.instanceCreated=this.isStatelessComponent()?W.resolve(!1):new W(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy==`function`&&this.componentInstance.destroy();let e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){let t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||`div`);return n.classList.add(`ag-react-container`),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for(`react.memo`):60115}hasSymbol(){return typeof Symbol==`function`&&Symbol.for}isStateless(e){return typeof e==`function`&&!(e.prototype&&e.prototype.isReactComponent)||typeof e==`object`&&e.$$typeof===this.getMemoType()}hasMethod(e){let t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){let n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}let r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new W(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,Ik.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,_.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){let n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function sA(e,t,n){for(let r of e){let e=t[r];e&&(n[r]=e)}}var cA=class extends oA{constructor(){super(...arguments),this.awaitUpdateCallback=new W(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=rA}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new W(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,sA(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new W(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},lA=class extends cA{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},uA=class extends cA{refresh(e){this.sourceParams=e,this.refreshProps()}},dA=class extends cA{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return[`afterGuiAttached`,`setInputPlaceholder`,`setInputAriaLabel`,`setDisabled`]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){let e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},fA=class extends cA{constructor(){super(...arguments),this.label=``,this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){let e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},pA=class extends cA{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new W(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||=this.isFilterActive(),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){let t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return[`afterGuiDetached`,`onNewRowsLoaded`,`getModelAsString`,`onAnyFilterChanged`]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();let t=new W(e=>{this.resolveFilterPassCallback=e});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},mA=class extends cA{constructor(){super(...arguments),this.awaitSetMethodsCallback=new W(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){let t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return[`afterGuiDetached`,`onNewRowsLoaded`,`onAnyFilterChanged`]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function hA(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||W.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var gA=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){sA(this.getOptionalMethods(),e,this)}getOptionalMethods(){return[`afterGuiAttached`]}updateModel(e){this.model=e,this.refreshProps(),hA(this.floatingFilterParams,e)}},_A=class extends cA{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return[`afterGuiAttached`]}updateModel(e){this.model=e,this.refreshProps(),hA(this.sourceParams,e)}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},vA=class extends cA{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return[`afterGuiAttached`]}},yA=class extends cA{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},bA=class extends cA{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return[`select`,`configureDefaults`]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){let t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){let e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},xA=class extends cA{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},SA=class extends cA{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){let e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function CA(){z(231)}var wA=1e3,TA=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||`div`,this.refresher=e,this.maxComponentCreationTimeMs=n||wA}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||=(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Xk(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},EA=(0,_.memo)(({ctrl:e})=>{let t=e.isAlive(),{context:n}=(0,_.useContext)(Rk),[r,i]=(0,_.useState)(),[a,o]=(0,_.useState)(),s=(0,_.useRef)(),c=(0,_.useRef)(null),l=(0,_.useRef)(null),u=(0,_.useRef)(null),d=(0,_.useRef)(),f=(0,_.useRef)();t&&!f.current&&(f.current=new uc(()=>c.current));let p=(0,_.useCallback)(t=>{if(c.current=t,!t||!e.isAlive()||n.isDestroyed()){s.current=n.destroyBean(s.current);return}s.current=n.createBean(new sc);let r=()=>{let t=e.getSelectAllGui();t&&(l.current?.insertAdjacentElement(`afterend`,t),s.current.addDestroyFunc(()=>t.remove()))},a={setWidth:e=>{c.current&&(c.current.style.width=e)},toggleCss:(e,t)=>f.current.toggleCss(e,t),setUserStyles:e=>o(e),setAriaSort:e=>{c.current&&(e?Nr(c.current,e):Pr(c.current))},setUserCompDetails:e=>i(e),getUserCompInstance:()=>d.current||void 0,refreshSelectAllGui:r,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(a,t,l.current,u.current,s.current),r()},[]);(0,_.useLayoutEffect)(()=>Bk(r,n,u.current,d),[r]),(0,_.useEffect)(()=>{e.setDragSource(c.current)},[r]);let m=(0,_.useMemo)(()=>!!(r?.componentFromFramework&&Wk(r.componentClass)),[r]),h=r?.componentFromFramework,g=r?.componentClass;return _.createElement(`div`,{ref:p,style:a,className:`ag-header-cell`,role:`columnheader`},_.createElement(`div`,{ref:l,className:`ag-header-cell-resize`,role:`presentation`}),_.createElement(`div`,{ref:u,className:`ag-header-cell-comp-wrapper`,role:`presentation`},h?m?_.createElement(g,{...r.params}):_.createElement(g,{...r.params,ref:d}):null))}),DA=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){sA(this.getOptionalMethods(),e,this)}getOptionalMethods(){return[`afterGuiAttached`]}},OA=(0,_.memo)(({ctrl:e})=>{let{context:t,gos:n}=(0,_.useContext)(Rk),[r,i]=(0,_.useState)(),[a,o]=(0,_.useState)(()=>new Uk(`ag-header-cell`,`ag-floating-filter`)),[s,c]=(0,_.useState)(()=>new Uk),[l,u]=(0,_.useState)(()=>new Uk(`ag-floating-filter-button`,`ag-hidden`)),[d,f]=(0,_.useState)(`false`),[p,m]=(0,_.useState)(),[,h]=(0,_.useState)(1),g=(0,_.useRef)(),v=(0,_.useRef)(null),y=(0,_.useRef)(null),b=(0,_.useRef)(null),x=(0,_.useRef)(null),S=(0,_.useRef)(),C=(0,_.useRef)(),w=e=>{e!=null&&S.current&&S.current(e)},T=(0,_.useCallback)(n=>{if(v.current=n,!n||!e.isAlive()||t.isDestroyed()){g.current=t.destroyBean(g.current);return}g.current=t.createBean(new sc),C.current=new W(e=>{S.current=e}),e.setComp({toggleCss:(e,t)=>o(n=>n.setClass(e,t)),setUserStyles:e=>i(e),addOrRemoveBodyCssClass:(e,t)=>c(n=>n.setClass(e,t)),setButtonWrapperDisplayed:e=>{u(t=>t.setClass(`ag-hidden`,!e)),f(e?`false`:`true`)},setWidth:e=>{v.current&&(v.current.style.width=e)},setCompDetails:e=>m(e),getFloatingFilterComp:()=>C.current?C.current:null,setMenuIcon:e=>x.current?.appendChild(e)},n,x.current,y.current,g.current)},[]);(0,_.useLayoutEffect)(()=>Bk(p,t,y.current,w),[p]);let E=(0,_.useMemo)(()=>a.toString(),[a]),ee=(0,_.useMemo)(()=>s.toString(),[s]),D=(0,_.useMemo)(()=>l.toString(),[l]),te=(0,_.useMemo)(()=>!!(p&&p.componentFromFramework&&Wk(p.componentClass)),[p]),O=(0,_.useMemo)(()=>n.get(`reactiveCustomComponents`),[]),ne=(0,_.useMemo)(()=>n.get(`enableFilterHandlers`),[]),[re,ie]=(0,_.useState)();(0,_.useEffect)(()=>{if(p?.componentFromFramework)if(O){let e=new(ne?DA:gA)(p.params,()=>h(e=>e+1));w(e),ie(e)}else CA()},[p]);let ae=re?.getProps(),oe=p?.componentFromFramework,k=p?.componentClass;return _.createElement(`div`,{ref:T,style:r,className:E,role:`gridcell`},_.createElement(`div`,{ref:y,className:ee,role:`presentation`},oe?O?ae&&_.createElement(nA.Provider,{value:{setMethods:e=>re.setMethods(e)}},_.createElement(k,{...ae})):_.createElement(k,{...p.params,ref:te?()=>{}:w}):null),_.createElement(`div`,{ref:b,"aria-hidden":d,className:D,role:`presentation`},_.createElement(`button`,{ref:x,type:`button`,className:`ag-button ag-floating-filter-button-button`,tabIndex:-1})))}),kA=(0,_.memo)(({ctrl:e})=>{let{context:t}=(0,_.useContext)(Rk),[n,r]=(0,_.useState)(),[i,a]=(0,_.useState)(()=>new Uk),[o,s]=(0,_.useState)(()=>new Uk),[c,l]=(0,_.useState)(`false`),[u,d]=(0,_.useState)(),[f,p]=(0,_.useState)(),m=(0,_.useRef)(),h=(0,_.useRef)(null),g=(0,_.useRef)(null),v=(0,_.useRef)(null),y=(0,_.useRef)(),b=(0,_.useCallback)(n=>{if(h.current=n,!n||!e.isAlive()||t.isDestroyed()){m.current=t.destroyBean(m.current);return}m.current=t.createBean(new sc),e.setComp({setWidth:e=>{h.current&&(h.current.style.width=e)},toggleCss:(e,t)=>a(n=>n.setClass(e,t)),setUserStyles:e=>r(e),setHeaderWrapperHidden:e=>{let t=v.current;t&&(e?t.style.setProperty(`display`,`none`):t.style.removeProperty(`display`))},setHeaderWrapperMaxHeight:e=>{let t=v.current;t&&(e==null?t.style.removeProperty(`max-height`):t.style.setProperty(`max-height`,`${e}px`),t.classList.toggle(`ag-header-cell-comp-wrapper-limited-height`,e!=null))},setUserCompDetails:e=>p(e),setResizableDisplayed:e=>{s(t=>t.setClass(`ag-hidden`,!e)),l(e?`false`:`true`)},setAriaExpanded:e=>d(e),getUserCompInstance:()=>y.current||void 0},n,g.current,v.current,m.current)},[]);(0,_.useLayoutEffect)(()=>Bk(f,t,v.current),[f]),(0,_.useEffect)(()=>{h.current&&e.setDragSource(h.current)},[f]);let x=(0,_.useMemo)(()=>!!(f?.componentFromFramework&&Wk(f.componentClass)),[f]),S=(0,_.useMemo)(()=>`ag-header-group-cell `+i.toString(),[i]),C=(0,_.useMemo)(()=>`ag-header-cell-resize `+o.toString(),[o]),w=f?.componentFromFramework,T=f?.componentClass;return _.createElement(`div`,{ref:b,style:n,className:S,role:`columnheader`,"aria-expanded":u},_.createElement(`div`,{ref:v,className:`ag-header-cell-comp-wrapper`,role:`presentation`},w?x?_.createElement(T,{...f.params}):_.createElement(T,{...f.params,ref:y}):null),_.createElement(`div`,{ref:g,"aria-hidden":c,className:C}))}),AA=(0,_.memo)(({ctrl:e})=>{let{gos:t,context:n}=(0,_.useContext)(Rk),{topOffset:r,rowHeight:i}=(0,_.useMemo)(()=>e.getTopAndHeight(),[]),a=(0,_.useMemo)(()=>t.get(`tabIndex`),[]),[o,s]=(0,_.useState)(()=>e.getAriaRowIndex()),c=e.headerRowClass,[l,u]=(0,_.useState)(()=>i+`px`),[d,f]=(0,_.useState)(()=>r+`px`),p=(0,_.useRef)(null),[m,h]=(0,_.useState)(()=>e.getUpdatedHeaderCtrls()),g=(0,_.useRef)(),v=(0,_.useRef)(null),y=(0,_.useCallback)(t=>{if(v.current=t,!t||!e.isAlive()||n.isDestroyed()){g.current=n.destroyBean(g.current);return}g.current=n.createBean(new sc),e.setComp({setHeight:e=>u(e),setTop:e=>f(e),setHeaderCtrls:(e,t,n)=>{let r=p.current,i=$k(r,e,t);i!==r&&(p.current=i,Xk(n,()=>h(i)))},setWidth:e=>{v.current&&(v.current.style.width=e)},setRowIndex:e=>{s(e)}},g.current,!1)},[]),b=(0,_.useMemo)(()=>({height:l,top:d}),[l,d]),x=(0,_.useCallback)(t=>{switch(e.type){case`group`:return _.createElement(kA,{ctrl:t,key:t.instanceId});case`filter`:return _.createElement(OA,{ctrl:t,key:t.instanceId});default:return _.createElement(EA,{ctrl:t,key:t.instanceId})}},[]);return _.createElement(`div`,{ref:y,className:c,role:`row`,style:b,tabIndex:a,"aria-rowindex":o},m.map(x))}),jA=(0,_.memo)(({pinned:e})=>{let[t,n]=(0,_.useState)(!0),[r,i]=(0,_.useState)([]),{context:a}=(0,_.useContext)(Rk),o=(0,_.useRef)(null),s=(0,_.useRef)(null),c=(0,_.useRef)(),l=e===`left`,u=e===`right`,d=!l&&!u,f=(0,_.useCallback)(t=>{if(o.current=t,!t||a.isDestroyed()){c.current=a.destroyBean(c.current);return}c.current=a.createBean(new Xm(e));let r={setDisplayed:n,setCtrls:e=>i(e),setCenterWidth:e=>{s.current&&(s.current.style.width=e)},setViewportScrollLeft:e=>{o.current&&(o.current.scrollLeft=e)},setPinnedContainerWidth:e=>{o.current&&(o.current.style.width=e,o.current.style.minWidth=e,o.current.style.maxWidth=e)}};c.current.setComp(r,o.current)},[]),p=t?``:`ag-hidden`,m=()=>r.map(e=>_.createElement(AA,{ctrl:e,key:e.instanceId}));return l?_.createElement(`div`,{ref:f,className:`ag-pinned-left-header `+p,"aria-hidden":!t,role:`rowgroup`},m()):u?_.createElement(`div`,{ref:f,className:`ag-pinned-right-header `+p,"aria-hidden":!t,role:`rowgroup`},m()):d?_.createElement(`div`,{ref:f,className:`ag-header-viewport `+p,role:`rowgroup`,tabIndex:-1},_.createElement(`div`,{ref:s,className:`ag-header-container`,role:`presentation`},m())):null}),MA=(0,_.memo)(()=>{let[e,t]=(0,_.useState)(()=>new Uk),[n,r]=(0,_.useState)(),{context:i}=(0,_.useContext)(Rk),a=(0,_.useRef)(null),o=(0,_.useRef)(),s=(0,_.useCallback)(e=>{if(a.current=e,!e||i.isDestroyed()){o.current=i.destroyBean(o.current);return}o.current=i.createBean(new Vm),o.current.setComp({toggleCss:(e,n)=>t(t=>t.setClass(e,n)),setHeightAndMinHeight:e=>r(e)},e,e)},[]),c=(0,_.useMemo)(()=>`ag-header `+e.toString(),[e]),l=(0,_.useMemo)(()=>({height:n,minHeight:n}),[n]);return _.createElement(`div`,{ref:s,className:c,style:l,role:`presentation`},_.createElement(jA,{pinned:`left`}),_.createElement(jA,{pinned:null}),_.createElement(jA,{pinned:`right`}))}),NA=(e,t)=>{(0,_.useEffect)(()=>{let n=t.current;if(n){let t=n.parentElement;if(t){let r=document.createComment(e);return t.insertBefore(r,n),()=>{r.remove()}}}},[e])},PA=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new W(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){sA(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return[`isCancelBeforeStart`,`isCancelAfterEnd`,`focusIn`,`focusOut`,`afterGuiAttached`,`getValidationErrors`,`getValidationElement`]}updateValue(e){this.value=e,this.refreshProps()}},FA=e=>{let t=(0,_.useRef)(e),n=(0,_.useRef)(),r=(0,_.useRef)(!1),i=(0,_.useRef)(!1),[,a]=(0,_.useState)(0);r.current&&(i.current=!0),(0,_.useEffect)(()=>(r.current||=(n.current=t.current(),!0),a(e=>e+1),()=>{i.current&&n.current?.()}),[])},IA=(0,_.memo)(e=>{let[t,n]=(0,_.useState)(),r=(0,_.useContext)(Rk),{context:i,popupSvc:a,gos:o,editSvc:s}=r,{editDetails:c,cellCtrl:l,eParentCell:u}=e;return FA(()=>{let{compDetails:t}=c,r=o.get(`stopEditingWhenCellsLoseFocus`),d,f;if(!i.isDestroyed()){f=i.createBean(s.createPopupEditorWrapper(t.params));let o=f.getGui();if(e.jsChildComp){let t=e.jsChildComp.getGui();t&&o.appendChild(t)}let{column:p,rowNode:m}=l,h={column:p,rowNode:m,type:`popupCellEditor`,eventSource:u,ePopup:o,position:c.popupPosition,keepWithinBounds:!0},g=a?.positionPopupByComponent.bind(a,h),_=a?.addPopup({modal:r,eChild:o,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:u,positionCallback:g,ariaOwns:u});d=_?_.hideFunc:void 0,n(f),e.jsChildComp?.afterGuiAttached?.()}return()=>{d?.(),i.destroyBean(f)}}),(0,_.useLayoutEffect)(()=>()=>{l.isCellFocused()&&t?.getGui().contains(nr(r))&&u.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?(0,Lk.createPortal)(e.wrappedContent,t.getGui()):null}),LA=(e,t,n)=>{let{compProxy:r}=e;n(r);let i=r.getProps(),a=Wk(t);return _.createElement(nA.Provider,{value:{setMethods:e=>r.setMethods(e)}},a?_.createElement(t,{...i}):_.createElement(t,{...i,ref:e=>r.setRef(e)}))},RA=(e,t,n)=>e.compProxy?LA(e,t,n):_.createElement(t,{...e.compDetails.params,ref:n}),zA=(e,t,n,r,i)=>{let a=e.compDetails,o=a.componentClass,s=a.componentFromFramework&&!e.popup,c=a.componentFromFramework&&e.popup,l=!a.componentFromFramework&&e.popup;return s?RA(e,o,t):c?_.createElement(IA,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:RA(e,o,t)}):l&&i?_.createElement(IA,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},BA=(e,t,n,r,i,a,o=!1)=>{let{context:s}=(0,_.useContext)(Rk),c=(0,_.useCallback)(()=>{let e=i.current;if(!e)return;let t=e.getGui();t&&t.parentElement&&t.remove(),s.destroyBean(e),i.current=void 0},[]);(0,_.useEffect)(()=>{let r=e!=null&&!o,s=e?.compDetails&&!e.compDetails.componentFromFramework;if(!(r&&s&&!(t&&n==null))){c();return}let l=e.compDetails;if(i.current){let t=i.current,n=t.refresh!=null&&e.force==0?t.refresh(l.params):!1;if(n===!0||n===void 0)return;c()}l.newAgStackInstance().then(e=>{if(!e)return;let r=e.getGui();r&&((t?n:a.current).appendChild(r),i.current=e)})},[e,t,r,o]),(0,_.useEffect)(()=>c,[])},VA=({cellCtrl:e,parent:t})=>{let n=(0,_.useRef)(),r=(0,_.useMemo)(()=>{let{loadingComp:t}=e.getDeferLoadingCellRenderer();return t?{value:void 0,compDetails:t,force:!1}:void 0},[e]);if(BA(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){let e=r.compDetails.componentClass;return _.createElement(e,{...r.compDetails.params})}return _.createElement(_.Fragment,null)},HA=(0,_.memo)(({cellCtrl:e,printLayout:t,editingCell:n})=>{let{context:r}=(0,_.useContext)(Rk),{column:{colIdSanitised:i},instanceId:a}=e,o=(0,_.useRef)(),[s,c]=(0,_.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[l,u]=(0,_.useState)(),[d,f]=(0,_.useState)(1),[p,m]=(0,_.useState)(),[h,g]=(0,_.useState)(!1),[v,y]=(0,_.useState)(!1),[b,x]=(0,_.useState)(!1),[S,C]=(0,_.useState)(),w=(0,_.useMemo)(()=>e.isForceWrapper(),[e]),T=(0,_.useMemo)(()=>e.getCellAriaRole(),[e]),E=(0,_.useRef)(null),ee=(0,_.useRef)(null),D=(0,_.useRef)(null),te=(0,_.useRef)(),O=(0,_.useRef)(),ne=(0,_.useRef)(),re=(0,_.useRef)([]),ie=(0,_.useRef)(),ae=(0,_.useRef)(),[oe,k]=(0,_.useState)(0),A=(0,_.useCallback)(e=>{ae.current=e,k(e=>e+1)},[]),se=s!=null&&(h||b||v)&&(l==null||!!l.popup),ce=w||se,le=(0,_.useMemo)(()=>e.getCellValueClass(),[e]),ue=(0,_.useCallback)(t=>{if(O.current=t,t){let n=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout(()=>{n?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(t))})}},[e]),j=(0,_.useRef)();j.current||=new uc(()=>E.current);let M=!!l&&!l.popup;BA(s,ce,ae.current,oe,te,E,M);let de=(0,_.useRef)();(0,_.useLayoutEffect)(()=>{let e=de.current,t=s;if(de.current=s,e==null||e.compDetails==null||t==null||t.compDetails==null)return;ie.current?.refreshVisibility();let n=e.compDetails,r=t.compDetails;n.componentClass==r.componentClass&&D.current?.refresh!=null&&D.current.refresh(r.params)!=1&&f(e=>e+1)},[s]),(0,_.useLayoutEffect)(()=>{if(!(l&&!l.compDetails.componentFromFramework)||r.isDestroyed())return;let t=l.compDetails,n=l.popup===!0,i=t.newAgStackInstance();return i.then(e=>{if(!e)return;let t=e.getGui();ue(e),n||((w?ne:E).current?.appendChild(t),e.afterGuiAttached?.()),C(e)}),()=>{i.then(t=>{let n=t.getGui();e.disableEditorTooltipFeature(),r.destroyBean(t),ue(void 0),C(void 0),n?.remove()})}},[l]);let fe=(0,_.useCallback)(t=>{if(ne.current=t,!t||r.isDestroyed()||!e.isAlive()){let e=re.current;re.current=[];for(let t of e)t();return}let n,i=e=>{e&&(t.insertAdjacentElement(`afterbegin`,e.getGui()),re.current.push(()=>{ti(e.getGui()),r.destroyBean(e),ie.current===n&&(ie.current=void 0)}))};h&&i(e.createSelectionCheckbox()),b&&i(e.createDndSource()),v&&(n=e.createRowDragComp(),ie.current=n,n&&(i(n),n.refreshVisibility()))},[e,r,b,v,h]),pe=(0,_.useCallback)(()=>{let i=!e.isCellSpanning()||ee.current,a=E.current;if(!a||!i||!e||!e.isAlive()||r.isDestroyed()){o.current=r.destroyBean(o.current);return}o.current=r.createBean(new sc);let s={toggleCss:(e,t)=>j.current.toggleCss(e,t),setUserStyles:e=>m(e),getFocusableElement:()=>E.current,setIncludeSelection:e=>g(e),setIncludeRowDrag:e=>y(e),setIncludeDndSource:e=>x(e),getCellEditor:()=>O.current??null,getCellRenderer:()=>D.current??te.current,getParentOfValue:()=>ae.current??ne.current??E.current,setRenderDetails:(t,n,r)=>{let i=()=>{c(e=>e?.compDetails!==t||e?.value!==n||e?.force!==r?{value:n,compDetails:t,force:r}:e)};if(t?.params?.deferRender&&!e.rowNode.group){let{loadingComp:t,onReady:n}=e.getDeferLoadingCellRenderer();if(t){c({value:void 0,compDetails:t,force:!1}),n.then(()=>Zk(i));return}}i()},setEditDetails:(t,n,r,i)=>{if(t){let e;t.componentFromFramework&&(i?e=new PA(t.params,()=>f(e=>e+1)):CA()),u({compDetails:t,popup:n,popupPosition:r,compProxy:e}),n||c(void 0)}else e.hasBrowserFocus()&&s.getFocusableElement().focus({preventScroll:!0}),O.current=void 0,u(void 0)},refreshEditStyles:(e,t)=>{if(!E.current)return;let{current:n}=j;n.toggleCss(`ag-cell-value`,!ce),n.toggleCss(`ag-cell-inline-editing`,!!e&&!t),n.toggleCss(`ag-cell-popup-editing`,!!e&&!!t),n.toggleCss(`ag-cell-not-inline-editing`,!e||!!t)}},l=ne.current||void 0;e.setComp(s,a,ee.current??void 0,l,t,n,o.current)},[]),me=(0,_.useCallback)(e=>{E.current=e,pe()},[]),he=(0,_.useCallback)(e=>{ee.current=e,pe()},[]),ge=(0,_.useMemo)(()=>!!(s?.compDetails?.componentFromFramework&&Wk(s.compDetails.componentClass)),[s]);(0,_.useLayoutEffect)(()=>{if(!E.current)return;let{current:e}=j;e.toggleCss(`ag-cell-value`,!ce),e.toggleCss(`ag-cell-inline-editing`,!!l&&!l.popup),e.toggleCss(`ag-cell-popup-editing`,!!l&&!!l.popup),e.toggleCss(`ag-cell-not-inline-editing`,!l||!!l.popup)});let _e=()=>{let{compDetails:t,value:n}=s;if(!t)return n?.toString?.()??n;if(t.componentFromFramework){let n=t.componentClass;return _.createElement(_.Suspense,{fallback:_.createElement(VA,{cellCtrl:e,parent:E})},ge?_.createElement(n,{...t.params,key:d}):_.createElement(n,{...t.params,key:d,ref:D}))}},ve=()=>{let t=()=>s==null?null:ce?_.createElement(`span`,{role:`presentation`,id:`cell-${a}`,className:le,ref:A},_e()):_e(),n=t=>zA(t,ue,E.current,e,S);return l==null?t():l.popup?_.createElement(_.Fragment,null,t(),n(l)):n(l)},ye=()=>_.createElement(`div`,{ref:me,style:p,role:T,"col-id":i},ce?_.createElement(`div`,{className:`ag-cell-wrapper`,role:`presentation`,ref:fe},ve()):ve());return e.isCellSpanning()?_.createElement(`div`,{ref:he,className:`ag-spanned-cell-wrapper`,role:`presentation`},ye()):ye()}),UA=(0,_.memo)(({rowCtrl:e,containerType:t})=>{let{context:n,gos:r,editSvc:i}=(0,_.useContext)(Rk),a=(0,_.useContext)(zk)===`default`,o=(0,_.useRef)(),s=(0,_.useRef)(e.getDomOrder()),c=e.isFullWidth(),l=e.rowNode.displayed,[u,d]=(0,_.useState)(()=>l?e.rowNode.getRowIndexString():null),[f,p]=(0,_.useState)(()=>e.rowId),[m,h]=(0,_.useState)(()=>e.businessKey),[g,v]=(0,_.useState)(()=>e.rowStyles),y=(0,_.useRef)(null),[b,x]=(0,_.useState)(()=>null),[S,C]=(0,_.useState)(),[w,T]=(0,_.useState)(()=>l?e.getInitialRowTop(t):void 0),[E,ee]=(0,_.useState)(()=>l?e.getInitialTransform(t):void 0),D=(0,_.useRef)(null),te=(0,_.useRef)(),O=(0,_.useRef)(),ne=(0,_.useRef)(!1),[re,ie]=(0,_.useState)(0);(0,_.useEffect)(()=>{if(ne.current||!S||re>10)return;let t=D.current?.firstChild;t?(e.setupDetailRowAutoHeight(t),ne.current=!0):ie(e=>e+1)},[S,re]);let ae=(0,_.useRef)();ae.current||=new uc(()=>D.current);let oe=(0,_.useRef)(()=>{}),k=Qk((0,_.useCallback)(e=>(oe.current=e,()=>{oe.current=()=>{}}),[]),()=>y.current,[]),A=a?k:b,se=(0,_.useCallback)(r=>{if(D.current=r,o.current=r?n.createBean(new sc):n.destroyBean(o.current),!r){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;let i={setTop:T,setTransform:ee,toggleCss:(e,t)=>ae.current.toggleCss(e,t),setDomOrder:e=>s.current=e,setRowIndex:d,setRowId:p,setRowBusinessKey:h,setUserStyles:v,setCellCtrls:(e,t)=>{let n=y.current,r=$k(n,e,s.current);r!==n&&(y.current=r,a?oe.current():Xk(t,()=>x(r)))},showFullWidth:e=>{O.current=e.params,C(e)},getFullWidthCellRenderer:()=>te.current,getFullWidthCellRendererParams:()=>O.current,refreshFullWidth:e=>{let t=e();return O.current=t,M.current?(C(e=>({...e,params:t})),!0):!te.current||!te.current.refresh?!1:te.current.refresh(t)}};e.setComp(i,r,t,o.current)},[]);(0,_.useLayoutEffect)(()=>Bk(S,n,D.current,te),[S]);let ce=(0,_.useMemo)(()=>{let e={top:w,transform:E};return Object.assign(e,g),e},[w,E,g]),le=c&&S?.componentFromFramework,ue=!c&&A!=null,j=(0,_.useMemo)(()=>!!(S?.componentFromFramework&&Wk(S.componentClass)),[S]),M=(0,_.useRef)(!1);(0,_.useEffect)(()=>{M.current=j&&!!S&&!!r.get(`reactiveCustomComponents`)},[j,S]);let de=()=>A?.map(t=>_.createElement(HA,{cellCtrl:t,editingCell:i?.isEditing(t,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:t.instanceId})),fe=()=>{let e=S.componentClass;return j?_.createElement(e,{...S.params}):_.createElement(e,{...S.params,ref:te})};return _.createElement(`div`,{ref:se,role:`row`,style:ce,"row-index":u,"row-id":f,"row-business-key":m},ue?de():le?fe():null)}),WA=(0,_.memo)(({name:e})=>{let{context:t,gos:n}=(0,_.useContext)(Rk),r=(0,_.useMemo)(()=>Ip(e),[e]),i=(0,_.useRef)(null),a=(0,_.useRef)(null),o=(0,_.useRef)(null),s=(0,_.useRef)([]),c=(0,_.useRef)([]),[l,u]=(0,_.useState)(()=>[]),d=!!n.get(`enableCellSpan`)&&!!r.getSpannedRowCtrls,f=(0,_.useRef)([]),p=(0,_.useRef)([]),[m,h]=(0,_.useState)(()=>[]),g=(0,_.useRef)(!1),v=(0,_.useRef)(),y=(0,_.useMemo)(()=>Hk(`ag-viewport`,Np(e)),[e]),b=(0,_.useMemo)(()=>Hk(Pp(e)),[e]),x=(0,_.useMemo)(()=>Hk(`ag-spanning-container`,Fp(e)),[e]),S=r.type===`center`||d,C=S?i:a;NA(` AG Row Container `+e+` `,C);let w=(0,_.useCallback)(()=>{let e=!S||i.current!=null,t=a.current!=null,n=!d||o.current!=null;return e&&t&&n},[]),T=(0,_.useCallback)(()=>i.current==null&&a.current==null&&o.current==null,[]),E=(0,_.useCallback)(()=>{if(T()&&(v.current=t.destroyBean(v.current)),!t.isDestroyed()&&w()){let n=e=>{let t=$k(c.current,s.current,g.current);t!==c.current&&(c.current=t,Xk(e,()=>u(t)))},r=e=>{let t=$k(p.current,f.current,g.current);t!==p.current&&(p.current=t,Xk(e,()=>h(t)))};v.current=t.createBean(new Jp(e)),v.current.setComp({setHorizontalScroll:e=>{i.current&&(i.current.scrollLeft=e)},setViewportHeight:e=>{i.current&&(i.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{let r=!!t&&s.current.length>0&&e.length>0;s.current=e,n(r)},setSpannedRowCtrls:(e,t)=>{let n=!!t&&f.current.length>0&&e.length>0;f.current=e,r(n)},setDomOrder:e=>{g.current!=e&&(g.current=e,n(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)},setOffsetTop:e=>{a.current&&(a.current.style.transform=`translateY(${e})`)}},a.current,o.current??void 0,i.current)}},[w,T]),ee=(0,_.useCallback)(e=>{a.current=e,E()},[E]),D=(0,_.useCallback)(e=>{o.current=e,E()},[E]),te=(0,_.useCallback)(e=>{i.current=e,E()},[E]),O=()=>_.createElement(`div`,{className:b,ref:ee,role:S?`presentation`:`rowgroup`},l.map(e=>_.createElement(UA,{rowCtrl:e,containerType:r.type,key:e.instanceId})));return S?_.createElement(`div`,{className:y,ref:te,role:`rowgroup`},O(),d?(()=>_.createElement(`div`,{className:x,ref:D,role:`presentation`},m.map(e=>_.createElement(UA,{rowCtrl:e,containerType:r.type,key:e.instanceId}))))():null):O()}),GA=(0,_.memo)(()=>{let e=(0,_.useContext)(Rk),{context:t,overlays:n}=e,[r,i]=(0,_.useState)(``),[a,o]=(0,_.useState)(0),[s,c]=(0,_.useState)(0),[l,u]=(0,_.useState)(`0px`),[d,f]=(0,_.useState)(`0px`),[p,m]=(0,_.useState)(`100%`),[h,g]=(0,_.useState)(`0px`),[v,y]=(0,_.useState)(`0px`),[b,x]=(0,_.useState)(`100%`),[S,C]=(0,_.useState)(!0),[w,T]=(0,_.useState)(!0),[E,ee]=(0,_.useState)(null),[D,te]=(0,_.useState)(``),[O,ne]=(0,_.useState)(null),[re,ie]=(0,_.useState)(`ag-layout-normal`),ae=(0,_.useRef)();ae.current||=new uc(()=>oe.current);let oe=(0,_.useRef)(null),k=(0,_.useRef)(null),A=(0,_.useRef)(null),se=(0,_.useRef)(null),ce=(0,_.useRef)(null),le=(0,_.useRef)(null),ue=(0,_.useRef)(null),j=(0,_.useRef)([]),M=(0,_.useRef)([]);NA(` AG Grid Body `,oe),NA(` AG Pinned Top `,k),NA(` AG Sticky Top `,A),NA(` AG Middle `,le),NA(` AG Pinned Bottom `,ue);let de=(0,_.useCallback)(r=>{if(oe.current=r,!r||t.isDestroyed()){j.current=t.destroyBeans(j.current);for(let e of M.current)e();M.current=[];return}let a=(e,t)=>{e.appendChild(t),M.current.push(()=>t.remove())},s=e=>{let n=t.createBean(new e);return j.current.push(n),n},l=(e,t,n)=>{a(e,document.createComment(n)),a(e,s(t).getGui())};l(r,rm,` AG Fake Horizontal Scroll `);let d=n?.getOverlayWrapperCompClass();d&&l(r,d,` AG Overlay Wrapper `),ce.current&&l(ce.current,am,` AG Fake Vertical Scroll `);let p={setRowAnimationCssOnBodyViewport:i,setColumnCount:e=>{oe.current&&Ar(oe.current,e)},setRowCount:e=>{oe.current&&Dr(oe.current,e)},setTopHeight:o,setBottomHeight:c,setStickyTopHeight:u,setStickyTopTop:f,setStickyTopWidth:m,setTopInvisible:C,setBottomInvisible:T,setColumnMovingCss:(e,t)=>ae.current.toggleCss(e,t),updateLayoutClasses:ie,setAlwaysVerticalScrollClass:ee,setPinnedTopBottomOverflowY:te,setCellSelectableCss:(e,t)=>ne(t?e:null),setBodyViewportWidth:e=>{le.current&&(le.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(le.current){let n=mi(e,le.current,t);M.current.push(()=>n())}},setStickyBottomHeight:g,setStickyBottomBottom:y,setStickyBottomWidth:x,setGridRootRole:e=>r.setAttribute(`role`,e)},h=t.createBean(new Qp);j.current.push(h),h.setComp(p,r,le.current,k.current,ue.current,A.current,se.current)},[]),fe=(0,_.useMemo)(()=>Hk(`ag-root`,`ag-unselectable`,re),[re]),pe=(0,_.useMemo)(()=>Hk(`ag-body-viewport`,r,re,E,O),[r,re,E,O]),me=(0,_.useMemo)(()=>Hk(`ag-body`,re),[re]),he=(0,_.useMemo)(()=>Hk(`ag-floating-top`,S?`ag-invisible`:null,O),[O,S]),ge=(0,_.useMemo)(()=>Hk(`ag-sticky-top`,O),[O]),_e=(0,_.useMemo)(()=>Hk(`ag-sticky-bottom`,h===`0px`?`ag-invisible`:null,O),[O,h]),ve=(0,_.useMemo)(()=>Hk(`ag-floating-bottom`,w?`ag-invisible`:null,O),[O,w]),ye=(0,_.useMemo)(()=>({height:a,minHeight:a,overflowY:D}),[a,D]),be=(0,_.useMemo)(()=>({height:l,top:d,width:p}),[l,d,p]),xe=(0,_.useMemo)(()=>({height:h,bottom:v,width:b}),[h,v,b]),Se=(0,_.useMemo)(()=>({height:s,minHeight:s,overflowY:D}),[s,D]),Ce=e=>_.createElement(WA,{name:e,key:`${e}-container`}),we=({section:e,children:t,className:n,style:r})=>_.createElement(`div`,{ref:e,className:n,role:`presentation`,style:r},t.map(Ce));return _.createElement(`div`,{ref:de,className:fe},_.createElement(MA,null),we({section:k,className:he,style:ye,children:[`topLeft`,`topCenter`,`topRight`,`topFullWidth`]}),_.createElement(`div`,{className:me,ref:ce,role:`presentation`},we({section:le,className:pe,children:[`left`,`center`,`right`,`fullWidth`]})),we({section:A,className:ge,style:be,children:[`stickyTopLeft`,`stickyTopCenter`,`stickyTopRight`,`stickyTopFullWidth`]}),we({section:se,className:_e,style:xe,children:[`stickyBottomLeft`,`stickyBottomCenter`,`stickyBottomRight`,`stickyBottomFullWidth`]}),we({section:ue,className:ve,style:Se,children:[`bottomLeft`,`bottomCenter`,`bottomRight`,`bottomFullWidth`]}))}),KA=(0,_.memo)((0,_.forwardRef)((e,t)=>{let{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:s}=e,{context:c}=(0,_.useContext)(Rk),l=(0,_.useRef)(null),u=(0,_.useRef)(null),d=(0,_.useRef)(),f=e=>{let t=e==null?void 0:parseInt(e,10).toString();for(let e of[l,u])t===void 0?e.current?.removeAttribute(`tabindex`):e.current?.setAttribute(`tabindex`,t)};(0,_.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(e){d.current?.forceFocusOutOfContainer(e)}}));let p=(0,_.useCallback)(()=>{let e=l.current,t=u.current;if(!e&&!t||c.isDestroyed()){d.current=c.destroyBean(d.current);return}if(e&&t){let n={setTabIndex:f};d.current=c.createBean(new Zh({comp:n,eTopGuard:e,eBottomGuard:t,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:e=>a.focusInnerElement(e),isEmpty:s}))}},[]),m=(0,_.useCallback)(e=>{l.current=e,p()},[p]),h=(0,_.useCallback)(e=>{u.current=e,p()},[p]),g=e=>{let t=e===`top`?Rl.TAB_GUARD_TOP:Rl.TAB_GUARD_BOTTOM;return _.createElement(`div`,{className:`${Rl.TAB_GUARD} ${t}`,role:`presentation`,ref:e===`top`?m:h})};return _.createElement(_.Fragment,null,g(`top`),n,g(`bottom`))})),qA=(0,_.memo)(({context:e})=>{let[t,n]=(0,_.useState)(``),[r,i]=(0,_.useState)(``),[a,o]=(0,_.useState)(null),[s,c]=(0,_.useState)(null),[l,u]=(0,_.useState)(!1),[d,f]=(0,_.useState)(),p=(0,_.useRef)(),m=(0,_.useRef)(null),h=(0,_.useRef)(),[g,v]=(0,_.useState)(null),y=(0,_.useRef)(()=>void 0),b=(0,_.useRef)(),x=(0,_.useRef)([]),S=(0,_.useCallback)(()=>void 0,[]);NA(` AG Grid `,m);let C=(0,_.useCallback)(t=>{if(m.current=t,p.current=t?e.createBean(new cg):e.destroyBean(p.current),!t||e.isDestroyed())return;let r=p.current;y.current=r.focusInnerElement.bind(r);let a={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:e=>{if(!e&&b.current?.isDisplayed()){b.current.forceFocusOutOfContainer(e);return}h.current?.forceFocusOutOfContainer(e)},updateLayoutClasses:i,getFocusableContainers:()=>{let e=[],t=m.current?.querySelector(`.ag-root`);t&&e.push({getGui:()=>t});for(let t of x.current)t.isDisplayed()&&e.push(t);return e},setCursor:o,setUserSelect:c};r.setComp(a,t,t),u(!0)},[]);(0,_.useEffect)(()=>{let t=p.current,n=m.current;if(!d||!t||!g||!n||e.isDestroyed())return;let r=[],{watermarkSelector:i,paginationSelector:a,sideBarSelector:o,statusBarSelector:s,gridHeaderDropZonesSelector:c}=t.getOptionalSelectors(),l=[];if(c){let t=e.createBean(new c.component),i=t.getGui();n.insertAdjacentElement(`afterbegin`,i),l.push(i),r.push(t)}if(o){let t=e.createBean(new o.component),n=t.getGui(),i=g.querySelector(`.ag-tab-guard-bottom`);i&&(i.insertAdjacentElement(`beforebegin`,n),l.push(n)),r.push(t),x.current.push(t)}let u=t=>{let i=e.createBean(new t),a=i.getGui();return n.insertAdjacentElement(`beforeend`,a),l.push(a),r.push(i),i};if(s&&u(s.component),a){let e=u(a.component);b.current=e,x.current.push(e)}return i&&u(i.component),()=>{e.destroyBeans(r);for(let e of l)e.remove()}},[d,g,e]);let w=(0,_.useMemo)(()=>Hk(`ag-root-wrapper`,t,r),[t,r]),T=(0,_.useMemo)(()=>Hk(`ag-root-wrapper-body`,`ag-focus-managed`,r),[r]),E=(0,_.useMemo)(()=>({userSelect:s??``,WebkitUserSelect:s??``,cursor:a??``}),[s,a]),ee=(0,_.useCallback)(e=>{h.current=e,f(e!==null)},[]),D=(0,_.useCallback)(()=>!p.current?.isFocusable(),[]);return _.createElement(`div`,{ref:C,className:w,style:E,role:`presentation`},_.createElement(`div`,{className:T,ref:v,role:`presentation`},l&&g&&!e.isDestroyed()&&_.createElement(Rk.Provider,{value:e.getBeans()},_.createElement(KA,{ref:ee,eFocusableElement:g,onTabKeyDown:S,gridCtrl:p.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:D},_.createElement(GA,null)))))}),JA=class extends L{postConstruct(){if(this.beans.colAutosize){let e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){let e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(e=>e.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(e=>!!e.eGui))}},YA={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},XA={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...YA},ZA=new Set(Object.keys(XA)),QA=new Set(Object.keys(YA)),$A=e=>{let t=(0,_.useRef)(),n=(0,_.useRef)(null),r=(0,_.useRef)(null),i=(0,_.useRef)([]),a=(0,_.useRef)([]),o=(0,_.useRef)(e),s=(0,_.useRef)(),c=(0,_.useRef)(),l=(0,_.useRef)(!1),[u,d]=(0,_.useState)(void 0),[,f]=(0,_.useState)(0),p=(0,_.useRef)(),m=e=>{let t=n.current?.classList,r=(e=``)=>e.trim().split(/\s+/g).filter(Boolean);if(p.current!==e){for(let e of r(p.current))t?.contains(e)&&t.remove(e);for(let n of r(e))t?.contains(n)||t?.add(n);p.current=e}};(0,_.useLayoutEffect)(()=>{m(e.className)},[e.className]);let h=(0,_.useCallback)(o=>{if(n.current=o,m(e.className),!o){for(let e of i.current)e();i.current.length=0;return}let u=e.modules||[];r.current||(r.current=new TA(()=>f(e=>e+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));let p=Bo(e.gridOptions,e,Object.keys(e).filter(e=>!ZA.has(e))),h=new rj(()=>{if(l.current){let e=()=>s.current?.shouldQueueUpdates()?void 0:a.current.shift(),t=e();for(;t;)t(),t=e()}});s.current=h;let g=new JA,_={providedBeanInstances:{frameworkCompWrapper:new tj(r.current,p),renderStatus:g},modules:u,frameworkOverrides:h,setThemeOnGridDiv:!0},v=n=>{d(n),n.createBean(g),i.current.push(()=>{n.destroy()}),n.getBean(`ctrlsSvc`).whenReady({addDestroyFunc:e=>{i.current.push(e)}},()=>{if(n.isDestroyed())return;let r=t.current;r&&e.passGridApi?.(r)})},y=e=>{e.getBean(`ctrlsSvc`).whenReady({addDestroyFunc:e=>{i.current.push(e)}},()=>{for(let e of a.current)e();a.current.length=0,l.current=!0})},b=new qS;p.gridId??=c.current,t.current=b.create(o,p,v,y,_),i.current.push(()=>{t.current=void 0}),t.current&&(c.current=t.current.getGridId())},[]),g=(0,_.useMemo)(()=>({height:`100%`,...e.containerStyle||{}}),[e.containerStyle]),v=(0,_.useCallback)(e=>{l.current&&!s.current?.shouldQueueUpdates()?e():a.current.push(e)},[]);(0,_.useEffect)(()=>{let n=ej(o.current,e);o.current=e,v(()=>{t.current&&Vo(n,t.current)})},[e]);let y=!_.useSyncExternalStore||Ho(e,`renderingMode`)===`legacy`?`legacy`:`default`;return _.createElement(`div`,{style:g,ref:h},_.createElement(zk.Provider,{value:y},u&&!u.isDestroyed()?_.createElement(qA,{key:u.instanceId,context:u}):null,r.current?.getPortals()??null))};function ej(e,t){let n={};for(let r of Object.keys(t)){if(ZA.has(r)){QA.has(r)&&z(274,{prop:r});continue}let i=t[r];e[r]!==i&&(n[r]=i)}return n}var tj=class extends nC{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){let n=this.gridOptions;if(Ho(n,`reactiveCustomComponents`)){let r=(e=>{switch(e){case`filter`:return Ho(n,`enableFilterHandlers`)?mA:pA;case`floatingFilterComponent`:return Ho(n,`enableFilterHandlers`)?vA:_A;case`dateComponent`:return dA;case`dragAndDropImageComponent`:return fA;case`loadingOverlayComponent`:case`noRowsOverlayComponent`:case`activeOverlay`:return uA;case`statusPanel`:return xA;case`toolPanel`:return SA;case`menuItem`:return bA;case`cellRenderer`:return lA;case`innerHeaderComponent`:return yA}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case`filter`:case`floatingFilterComponent`:case`dateComponent`:case`dragAndDropImageComponent`:case`loadingOverlayComponent`:case`noRowsOverlayComponent`:case`activeOverlay`:case`statusPanel`:case`toolPanel`:case`menuItem`:case`cellRenderer`:CA();break}let r=!t.cellRenderer&&t.name!==`toolPanel`;return new oA(e,this.parent,t,r)}},nj=(0,_.forwardRef)((e,t)=>{let n=(0,_.useContext)(Rk),{registry:r,context:i,gos:a,rowModel:o}=n,[s,c]=(0,_.useState)(()=>new Uk),[l,u]=(0,_.useState)(()=>new Uk),[d,f]=(0,_.useState)(),[p,m]=(0,_.useState)(),h=(0,_.useRef)(),g=(0,_.useRef)(null),v=(0,_.useRef)(),y=(0,_.useMemo)(()=>wa(e.api.getGridId(),d?.rowModelType??`clientSide`),[e]),b=(0,_.useMemo)(()=>s.toString()+` ag-details-row`,[s]),x=(0,_.useMemo)(()=>l.toString()+` ag-details-grid`,[l]);t&&(0,_.useImperativeHandle)(t,()=>({refresh(){return h.current?.refresh()??!1}})),e.template&&z(230);let S=(0,_.useCallback)(t=>{if(g.current=t,!t||i.isDestroyed()){h.current=i.destroyBean(h.current),v.current?.();return}let s={toggleCss:(e,t)=>c(n=>n.setClass(e,t)),toggleDetailGridCss:(e,t)=>u(n=>n.setClass(e,t)),setDetailGrid:e=>f(e),setRowData:e=>m(e),getGui:()=>g.current},l=r.createDynamicBean(`detailCellRendererCtrl`,!0);if(l&&(i.createBean(l),l.init(s,e),h.current=l,a.get(`detailRowAutoHeight`))){let r=()=>{if(g.current==null)return;let t=g.current.clientHeight;t!=null&&t>0&&setTimeout(()=>{e.node.setRowHeight(t),(Ja(a,o)||Ya(a,o))&&o.onRowHeightChanged()},0)};v.current=mi(n,t,r),r()}},[]),C=(0,_.useCallback)(e=>{h.current?.registerDetailWithMaster(e)},[]);return _.createElement(`div`,{className:b,ref:S},d&&_.createElement($A,{className:x,...d,modules:y,rowData:p,passGridApi:C}))}),rj=class extends rg{constructor(e){super(`react`),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine=`react`,this.frameworkComponents={agGroupCellRenderer:tA,agGroupRowRenderer:tA,agDetailCellRenderer:nj},this.wrapIncoming=(e,t)=>t===`ensureVisible`?Yk(e):e()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;let t=e.prototype;return!(t&&`getGui`in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return qk()}},ij=class extends _.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(let t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return _.createElement($A,{...this.props,passGridApi:this.setGridApi})}},aj=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),oj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),sj=e=>{let t=oj(e);return t.charAt(0).toUpperCase()+t.slice(1)},cj=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),lj=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},uj={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},dj=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...uj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cj(`lucide`,i),...!a&&!lj(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),fj=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(dj,{ref:i,iconNode:t,className:cj(`lucide-${aj(sj(e))}`,`lucide-${e}`,n),...r}));return n.displayName=sj(e),n},pj=fj(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),mj=fj(`arrow-up-right`,[[`path`,{d:`M7 7h10v10`,key:`1tivn9`}],[`path`,{d:`M7 17 17 7`,key:`1vkiza`}]]),hj=fj(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),gj=fj(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),_j=fj(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),vj=fj(`external-link`,[[`path`,{d:`M15 3h6v6`,key:`1q9fwt`}],[`path`,{d:`M10 14 21 3`,key:`gplh6r`}],[`path`,{d:`M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6`,key:`a6xqqp`}]]),yj=fj(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),bj=fj(`panels-top-left`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M3 9h18`,key:`1pudct`}],[`path`,{d:`M9 21V9`,key:`1oto5p`}]]),xj=fj(`pencil`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}],[`path`,{d:`m15 5 4 4`,key:`1mk7zo`}]]),Sj=fj(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Cj=fj(`shield-check`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),wj=fj(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),Tj=fj(`user-check`,[[`path`,{d:`m16 11 2 2 4-4`,key:`9rsbq5`}],[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Ej=fj(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]);Da.registerModules([Pk]);var Dj=({data:e,onEdit:t,onDelete:n})=>{let[r,i]=(0,_.useState)(!1),a=(0,_.useRef)(null);return(0,_.useEffect)(()=>{let e=e=>{a.current&&!a.current.contains(e.target)&&i(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]),(0,N.jsxs)(`div`,{style:{position:`relative`,display:`flex`,justifyContent:`center`},ref:a,children:[(0,N.jsx)(`button`,{onClick:()=>i(!r),style:{background:`transparent`,border:`none`,cursor:`pointer`,fontSize:`1.2rem`,color:`#64748b`,padding:`4px 8px`,borderRadius:`4px`,display:`flex`,alignItems:`center`,justifyContent:`center`},onMouseEnter:e=>e.target.style.backgroundColor=`#f1f5f9`,onMouseLeave:e=>e.target.style.backgroundColor=`transparent`,children:``}),r&&(0,N.jsxs)(`div`,{style:{position:`absolute`,top:`80%`,right:`10px`,backgroundColor:`white`,border:`1px solid #e2e8f0`,borderRadius:`8px`,boxShadow:`0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)`,zIndex:9999,minWidth:`140px`,overflow:`hidden`},children:[(0,N.jsx)(`button`,{onClick:()=>{t(e),i(!1)},style:{display:`block`,width:`100%`,textAlign:`left`,padding:`0.75rem 1rem`,background:`white`,border:`none`,borderBottom:`1px solid #f1f5f9`,cursor:`pointer`,fontSize:`0.9rem`,color:`#0f172a`,fontWeight:500},onMouseEnter:e=>e.target.style.backgroundColor=`#f8fafc`,onMouseLeave:e=>e.target.style.backgroundColor=`white`,children:`View Details`}),(0,N.jsx)(`button`,{onClick:()=>{n(e.recordId),i(!1)},style:{display:`block`,width:`100%`,textAlign:`left`,padding:`0.75rem 1rem`,background:`white`,border:`none`,cursor:`pointer`,fontSize:`0.9rem`,color:`#ef4444`,fontWeight:500},onMouseEnter:e=>e.target.style.backgroundColor=`#fef2f2`,onMouseLeave:e=>e.target.style.backgroundColor=`white`,children:`Remove`})]})]})},Oj=({sessions:e,onEdit:t,onDelete:n,historyDate:r,setHistoryDate:i,onBack:a})=>{let o=(0,_.useMemo)(()=>{if(!e)return[];let t=[...e].sort((e,t)=>{let n=new Date(e.date).getTime(),r=new Date(t.date).getTime();return n===r?(parseInt(e.sessionNo)||0)-(parseInt(t.sessionNo)||0):r-n}),n=[],r=null;return t.forEach(e=>{let t=e.date?String(e.date).split(`T`)[0]:`Unknown Date`;if(t!==r){let e=new Date(t),i={month:`short`,day:`numeric`},a=e.toLocaleDateString(`en-US`,{weekday:`long`}),o=e.toLocaleDateString(`en-US`,i),s=isNaN(e.getTime())?t:`${o} - ${a}`;n.push({isHeader:!0,dateLabel:s}),r=t}n.push(e)}),n},[e]),s=e=>e.rowNode.data&&e.rowNode.data.isHeader,c=e=>(0,N.jsx)(`div`,{style:{width:`100%`,height:`100%`,display:`flex`,alignItems:`center`,padding:`0 1rem`,background:`#fff`,borderBottom:`1px solid var(--border-subtle)`},children:(0,N.jsxs)(`div`,{style:{fontSize:`0.85rem`,fontWeight:700,color:`var(--primary-color)`,textTransform:`uppercase`,letterSpacing:`1px`,display:`flex`,alignItems:`center`,gap:`1rem`,width:`100%`},children:[e.data.dateLabel,(0,N.jsx)(`div`,{style:{height:`1px`,flex:1,background:`var(--border-subtle)`,opacity:.5}})]})}),l=(0,_.useMemo)(()=>[{field:`sessionNo`,headerName:`No`,width:100,sortable:!1,suppressSizeToFit:!0,cellStyle:{display:`flex`,alignItems:`center`,justifyContent:`center`},cellRenderer:e=>(0,N.jsxs)(`span`,{style:{fontWeight:700,color:`#64748b`},children:[`#`,String(e.value).padStart(2,`0`)]})},{field:`startTime`,headerName:`Start Time`,width:150,suppressSizeToFit:!0,cellStyle:{display:`flex`,alignItems:`center`,justifyContent:`center`},valueFormatter:e=>{if(!e.value)return`-`;let t;if(String(e.value).includes(`T`))t=new Date(e.value);else{let[n,r]=String(e.value).split(`:`);t=new Date,t.setHours(n||0,r||0)}return isNaN(t.getTime())?e.value:t.toLocaleTimeString([],{hour:`numeric`,minute:`2-digit`,hour12:!0})}},{field:`endTime`,headerName:`End Time`,width:150,suppressSizeToFit:!0,cellStyle:{display:`flex`,alignItems:`center`,justifyContent:`center`},valueFormatter:e=>{if(!e.value)return`...`;let t;if(String(e.value).includes(`T`))t=new Date(e.value);else{let[n,r]=String(e.value).split(`:`);t=new Date,t.setHours(n||0,r||0)}return isNaN(t.getTime())?e.value:t.toLocaleTimeString([],{hour:`numeric`,minute:`2-digit`,hour12:!0})}},{field:`duration`,headerName:`Duration`,width:220,suppressSizeToFit:!0,cellStyle:{display:`flex`,alignItems:`center`,justifyContent:`center`,fontWeight:`bold`},valueFormatter:e=>e.value?e.value:`-`},{field:`workDescription`,headerName:`Description`,flex:2,minWidth:300,wrapText:!0,autoHeight:!0,cellStyle:{display:`flex`,alignItems:`center`},cellRenderer:e=>(0,N.jsx)(`div`,{style:{lineHeight:`1.4`,padding:`8px 0`},children:e.value})},{field:`status`,headerName:`Status`,width:160,suppressSizeToFit:!0,cellStyle:{display:`flex`,alignItems:`center`,justifyContent:`center`},cellRenderer:e=>{let t=String(e.value).toLowerCase(),n=`#e2e8f0`,r=`#475569`;return t===`completed`?(n=`#dcfce7`,r=`#166534`):t===`in progress`&&(n=`#dbeafe`,r=`#1e40af`),(0,N.jsx)(`span`,{style:{backgroundColor:n,color:r,padding:`4px 12px`,borderRadius:`9999px`,fontWeight:600,fontSize:`0.85rem`,textTransform:`capitalize`,display:`inline-block`,lineHeight:1},children:e.value})}},{headerName:``,width:60,pinned:`right`,suppressSizeToFit:!0,cellStyle:{display:`flex`,alignItems:`center`,justifyContent:`center`,overflow:`visible`},cellRenderer:e=>(0,N.jsx)(Dj,{data:e.data,onEdit:e.context.onEdit,onDelete:e.context.onDelete}),sortable:!1}],[]),u=(0,_.useMemo)(()=>({resizable:!0,sortable:!1,filter:!1,cellStyle:{display:`flex`,alignItems:`center`}}),[]);return(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden bg-white rounded-[24px] border border-border-main shadow-sm`,style:{height:`calc(100vh - 120px)`,marginTop:`-1rem`},children:[(0,N.jsxs)(`div`,{className:`p-6 flex justify-between items-center border-b border-border-main bg-white shrink-0`,children:[(0,N.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,N.jsxs)(`button`,{onClick:a,className:`flex items-center gap-2 text-sm font-bold text-text-secondary hover:text-primary transition-colors`,style:{background:`none`,border:`none`,cursor:`pointer`},children:[(0,N.jsx)(`span`,{children:``}),` BACK`]}),(0,N.jsx)(`div`,{className:`h-6 w-px bg-border-main`}),(0,N.jsx)(`h2`,{className:`m-0 text-xl font-semibold text-text-main`,children:`Record History`})]}),(0,N.jsx)(`div`,{className:`flex gap-4 items-center`,children:(0,N.jsxs)(`div`,{className:`relative flex items-center`,children:[(0,N.jsx)(hj,{size:18,className:`absolute left-3 text-text-dim pointer-events-none`}),(0,N.jsx)(`input`,{type:`date`,value:r,onChange:e=>i(e.target.value),className:`bg-bg-main pl-10 pr-4 py-2 rounded-full border border-border-main text-[0.9rem] text-text-main outline-none focus:ring-1 focus:ring-primary shadow-sm appearance-none`})]})})]}),(0,N.jsx)(`div`,{className:`ag-theme-alpine h-full w-full`,children:(0,N.jsx)(ij,{rowData:o,columnDefs:l,defaultColDef:u,rowHeight:60,headerHeight:50,theme:`legacy`,animateRows:!0,pagination:!0,paginationPageSize:20,context:{onEdit:t,onDelete:n},isFullWidthRow:s,fullWidthCellRenderer:c,overlayNoRowsTemplate:`<span style='padding: 1rem;'>No records found for this date</span>`})})]})},kj=({isOpen:e,onClose:t,onSubmit:n,sessionData:r})=>{let[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(`Normal`),[u,d]=(0,_.useState)(`Completed`),[f,p]=(0,_.useState)(`Pending`);return e?(0,N.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(15, 23, 42, 0.65)`,backdropFilter:`blur(8px)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,fontFamily:`'Inter', sans-serif`},children:(0,N.jsxs)(`div`,{className:`fade-in-up`,style:{backgroundColor:`white`,background:`linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)`,padding:`2.5rem`,borderRadius:`24px`,boxShadow:`0 25px 50px -12px rgba(0, 0, 0, 0.25)`,width:`100%`,maxWidth:`550px`,border:`1px solid rgba(255,255,255,0.2)`,position:`relative`,overflow:`hidden`},children:[(0,N.jsx)(`div`,{style:{position:`absolute`,top:0,left:0,right:0,height:`6px`,background:`linear-gradient(90deg, #3b82f6, #06b6d4)`}}),(0,N.jsx)(`h2`,{style:{marginTop:0,marginBottom:`0.5rem`,color:`#0f172a`,fontSize:`1.75rem`,fontWeight:700},children:`Session Complete`}),(0,N.jsx)(`p`,{style:{color:`#64748b`,marginBottom:`2rem`,fontSize:`1rem`,lineHeight:`1.5`},children:`Great work! Please categorize your session details below.`}),(0,N.jsxs)(`form`,{onSubmit:e=>{e.preventDefault(),n({workDescription:i,project:o,category:c,status:u,approvedState:f}),a(``),s(``),l(`Normal`),d(`Completed`),p(`Pending`)},style:{display:`flex`,flexDirection:`column`,gap:`1.5rem`},children:[(0,N.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`1.25rem`},children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:Aj,children:`Project Name`}),(0,N.jsx)(`input`,{type:`text`,placeholder:`e.g. Cab Admin`,value:o,onChange:e=>s(e.target.value),style:jj,required:!0})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:Aj,children:`Category`}),(0,N.jsxs)(`select`,{value:c,onChange:e=>l(e.target.value),style:jj,children:[(0,N.jsx)(`option`,{value:`Critical`,children:`Critical`}),(0,N.jsx)(`option`,{value:`Good to have`,children:`Good to have`}),(0,N.jsx)(`option`,{value:`Normal`,children:`Normal`}),(0,N.jsx)(`option`,{value:`Not Required`,children:`Not Required`})]})]})]}),(0,N.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`1.25rem`},children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:Aj,children:`Status`}),(0,N.jsxs)(`select`,{value:u,onChange:e=>d(e.target.value),style:jj,children:[(0,N.jsx)(`option`,{value:`Completed`,children:`Completed`}),(0,N.jsx)(`option`,{value:`In Progress`,children:`In Progress`}),(0,N.jsx)(`option`,{value:`Blocked`,children:`Blocked`})]})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:Aj,children:`Approval State`}),(0,N.jsxs)(`select`,{value:f,onChange:e=>p(e.target.value),style:jj,children:[(0,N.jsx)(`option`,{value:`Approved`,children:`Approved`}),(0,N.jsx)(`option`,{value:`Rework Needed`,children:`Rework Needed`}),(0,N.jsx)(`option`,{value:`In Reviewing`,children:`In Reviewing`}),(0,N.jsx)(`option`,{value:`Pending`,children:`Pending`})]})]})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:Aj,children:`What did you modify?`}),(0,N.jsx)(`textarea`,{required:!0,value:i,onChange:e=>a(e.target.value),rows:4,placeholder:`Briefly describe your work...`,style:{...jj,minHeight:`100px`,resize:`vertical`}})]}),(0,N.jsxs)(`div`,{style:{display:`flex`,justifyContent:`flex-end`,gap:`1rem`,marginTop:`1.5rem`},children:[(0,N.jsx)(`button`,{type:`button`,onClick:t,style:{backgroundColor:`transparent`,color:`#64748b`,border:`none`,padding:`0.875rem 1.5rem`,fontWeight:600,cursor:`pointer`,fontSize:`1rem`,transition:`color 0.2s`},onMouseOver:e=>e.target.style.color=`#0f172a`,onMouseOut:e=>e.target.style.color=`#64748b`,children:`Cancel`}),(0,N.jsx)(`button`,{type:`submit`,style:{background:`linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`,color:`white`,border:`none`,padding:`0.875rem 2.5rem`,borderRadius:`12px`,fontWeight:600,fontSize:`1rem`,cursor:`pointer`,boxShadow:`0 4px 12px rgba(37, 99, 235, 0.3)`,transition:`transform 0.1s, box-shadow 0.2s`},onMouseOver:e=>{e.target.style.transform=`translateY(-1px)`,e.target.style.boxShadow=`0 6px 16px rgba(37, 99, 235, 0.4)`},onMouseOut:e=>{e.target.style.transform=`translateY(0)`,e.target.style.boxShadow=`0 4px 12px rgba(37, 99, 235, 0.3)`},children:`Save & Finish`})]})]})]})}):null},Aj={display:`block`,marginBottom:`0.5rem`,fontWeight:600,color:`#334155`,fontSize:`0.85rem`,textTransform:`uppercase`,letterSpacing:`0.5px`},jj={width:`100%`,padding:`0.875rem 1rem`,borderRadius:`12px`,border:`1px solid #cbd5e1`,backgroundColor:`#fff`,fontSize:`0.95rem`,boxSizing:`border-box`,color:`#0f172a`,transition:`border-color 0.2s, box-shadow 0.2s`,outline:`none`},Mj=kj,Nj=(e,t)=>{if(!e||!t)return`00 HRS : 00 MIN : 00 SEC`;let n=new Date().toISOString().slice(0,10),r=new Date(`${n}T${e}:00`),i=new Date(`${n}T${t}:00`);i<r&&i.setDate(i.getDate()+1);let a=Math.floor((i-r)/1e3);a<0&&(a=0);let o=Math.floor(a/3600),s=Math.floor(a%3600/60),c=Math.floor(a%60);return`${o<10?`0`+o:o} HRS : ${s<10?`0`+s:s} MIN : ${c<10?`0`+c:c} SEC`},Pj=({isOpen:e,onClose:t,session:n,onSave:r,onDelete:i})=>{let[a,o]=(0,_.useState)({workDescription:``,project:``,category:``,startTime:``,endTime:``,duration:``,date:``,status:``,approvedState:``});if((0,_.useEffect)(()=>{if(n){let e=e=>{if(!e)return``;if(e.includes(`T`)){let t=new Date(e);return isNaN(t.getTime())?``:t.toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`,hour12:!1})}return e.substring(0,5)};o({workDescription:n.workDescription||``,project:n.project||``,category:n.category||``,startTime:e(n.startTime),endTime:e(n.endTime),duration:n.duration||``,date:(e=>{if(!e)return``;if(String(e).includes(`T`)){let t=new Date(e);if(!isNaN(t.getTime()))return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`}return String(e).slice(0,10)})(n.date),status:n.status||`Completed`,approvedState:n.approvedState||`Pending`})}},[n]),!e||!n)return null;let s=e=>{e.preventDefault(),r({...n,...a})},c=()=>{i(n.recordId)},l=!n?.recordId,u={position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(15, 23, 42, 0.6)`,backdropFilter:`blur(8px)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`1rem`},d={backgroundColor:`#ffffff`,width:`100%`,maxWidth:`550px`,borderRadius:`24px`,boxShadow:`0 25px 50px -12px rgba(0, 0, 0, 0.25)`,display:`flex`,flexDirection:`column`,maxHeight:`90vh`,overflowY:`auto`,border:`1px solid #f1f5f9`},f={padding:`24px 32px 16px`,borderBottom:`1px solid #f1f5f9`,display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`},p={padding:`32px`,display:`flex`,flexDirection:`column`,gap:`24px`},m={padding:`20px 32px`,backgroundColor:`#f8fafc`,borderTop:`1px solid #f1f5f9`,display:`flex`,justifyContent:`flex-end`,gap:`12px`,borderRadius:`0 0 24px 24px`},h={display:`block`,marginBottom:`6px`,fontWeight:600,fontSize:`0.8rem`,color:`#64748b`,textTransform:`uppercase`,letterSpacing:`0.05em`},g={width:`100%`,padding:`10px 12px`,borderRadius:`10px`,border:`1px solid #cbd5e1`,fontSize:`0.95rem`,color:`#0f172a`,backgroundColor:`white`,transition:`all 0.2s`},v=a.date?new Date(a.date+`T00:00:00`).toLocaleDateString(void 0,{weekday:`long`,month:`long`,day:`numeric`}):`Select Date`;return(0,N.jsx)(`div`,{style:u,children:(0,N.jsxs)(`form`,{onSubmit:s,style:d,children:[(0,N.jsxs)(`div`,{style:f,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`h2`,{style:{margin:`0 0 4px 0`,fontSize:`1.5rem`,color:`#0f172a`,fontWeight:700,letterSpacing:`-0.02em`},children:l?`New Session`:`Session #${n.sessionNo}`}),(0,N.jsx)(`div`,{style:{fontSize:`0.95rem`,color:`#64748b`,fontWeight:500},children:v})]}),!l&&(0,N.jsxs)(`div`,{style:{position:`relative`},children:[(0,N.jsx)(`input`,{type:`date`,value:a.date,onChange:e=>o({...a,date:e.target.value}),style:{opacity:0,position:`absolute`,right:0,top:0,bottom:0,width:`100%`,cursor:`pointer`}}),(0,N.jsx)(`button`,{type:`button`,style:{padding:`6px 12px`,fontSize:`0.8rem`,color:`#3b82f6`,background:`#eff6ff`,border:`none`,borderRadius:`6px`,fontWeight:600},children:`Change Date`})]})]}),(0,N.jsxs)(`div`,{style:p,children:[(0,N.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`20px`},children:[(0,N.jsxs)(`div`,{style:{gridColumn:`span 2`,display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`Start Time`}),(0,N.jsx)(`input`,{type:`time`,value:a.startTime,onChange:e=>{let t={...a,startTime:e.target.value},n=Nj(t.startTime,t.endTime);o({...t,duration:n})},style:g})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`End Time`}),(0,N.jsx)(`input`,{type:`time`,value:a.endTime,onChange:e=>{let t={...a,endTime:e.target.value},n=Nj(t.startTime,t.endTime);o({...t,duration:n})},style:g})]})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`Project`}),(0,N.jsx)(`input`,{type:`text`,value:a.project,onChange:e=>o({...a,project:e.target.value}),style:g,placeholder:`Project Name`})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`Category`}),(0,N.jsxs)(`select`,{value:a.category,onChange:e=>o({...a,category:e.target.value}),style:g,children:[(0,N.jsx)(`option`,{value:``,children:`Select...`}),(0,N.jsx)(`option`,{value:`Critical`,children:`Critical`}),(0,N.jsx)(`option`,{value:`Good to have`,children:`Good to have`}),(0,N.jsx)(`option`,{value:`Normal`,children:`Normal`}),(0,N.jsx)(`option`,{value:`Not Required`,children:`Not Required`})]})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`Status`}),(0,N.jsxs)(`select`,{value:a.status,onChange:e=>o({...a,status:e.target.value}),style:g,children:[(0,N.jsx)(`option`,{value:`Completed`,children:`Completed`}),(0,N.jsx)(`option`,{value:`In Progress`,children:`In Progress`}),(0,N.jsx)(`option`,{value:`Blocked`,children:`Blocked`})]})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`Approval`}),(0,N.jsxs)(`select`,{value:a.approvedState,onChange:e=>o({...a,approvedState:e.target.value}),style:g,children:[(0,N.jsx)(`option`,{value:`Approved`,children:`Approved`}),(0,N.jsx)(`option`,{value:`Rework Needed`,children:`Rework Needed`}),(0,N.jsx)(`option`,{value:`In Reviewing`,children:`In Reviewing`}),(0,N.jsx)(`option`,{value:`Pending`,children:`Pending`})]})]})]}),(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`label`,{style:h,children:`Work Description`}),(0,N.jsx)(`textarea`,{value:a.workDescription,onChange:e=>o({...a,workDescription:e.target.value}),style:{...g,minHeight:`120px`,lineHeight:`1.5`,resize:`vertical`},placeholder:`What did you work on during this period?`,required:!0})]})]}),(0,N.jsxs)(`div`,{style:m,children:[!l&&(0,N.jsx)(`button`,{type:`button`,onClick:c,style:{marginRight:`auto`,padding:`10px 16px`,borderRadius:`10px`,border:`none`,background:`#fee2e2`,color:`#ef4444`,fontWeight:600,cursor:`pointer`,fontSize:`0.9rem`},children:`Delete`}),(0,N.jsx)(`button`,{type:`button`,onClick:t,style:{padding:`10px 20px`,borderRadius:`10px`,border:`1px solid #e2e8f0`,background:`white`,color:`#64748b`,fontWeight:600,cursor:`pointer`,fontSize:`0.9rem`},children:`Cancel`}),(0,N.jsx)(`button`,{type:`submit`,style:{padding:`10px 24px`,borderRadius:`10px`,border:`none`,background:`#0ea5e9`,color:`white`,fontWeight:600,cursor:`pointer`,fontSize:`0.9rem`,boxShadow:`0 4px 6px -1px rgba(14, 165, 233, 0.3)`},children:l?`Create Record`:`Save Changes`})]})]})})},Fj=({value:e,label:t})=>(0,N.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,N.jsxs)(`div`,{className:`relative bg-white border border-slate-200 rounded-lg w-[80px] h-[90px] flex items-center justify-center shadow-lg`,children:[(0,N.jsx)(`div`,{className:`absolute w-full h-px bg-slate-100 top-1/2 -translate-y-1/2`}),(0,N.jsx)(`div`,{className:`absolute left-[-2px] top-1/2 -translate-y-1/2 w-[4px] h-[12px] bg-slate-400 rounded-sm`}),(0,N.jsx)(`div`,{className:`absolute right-[-2px] top-1/2 -translate-y-1/2 w-[4px] h-[12px] bg-slate-400 rounded-sm`}),(0,N.jsx)(`span`,{className:`text-5xl font-bold text-slate-800 font-sans z-10`,children:e.toString().padStart(2,`0`)})]}),(0,N.jsx)(`span`,{className:`text-[0.7rem] font-bold text-slate-500 tracking-widest uppercase`,children:t})]}),Ij=({totalSeconds:e,sessionCount:t})=>{let{h:n,m:r,s:i}=(e=>(isNaN(e)&&(e=0),{h:Math.floor(e/3600),m:Math.floor(e%3600/60),s:Math.floor(e%60)}))(e);return(0,N.jsxs)(`div`,{className:`rounded-3xl py-8 px-6 flex flex-col justify-center items-center w-full h-auto min-h-[50%] box-border bg-white border border-slate-200 shadow-[0_10px_15px_-3px_rgba(0,0,0,0.1),0_4px_6px_-2px_rgba(0,0,0,0.05)] relative`,children:[(0,N.jsx)(`h3`,{className:`mb-6 text-sm text-slate-500 uppercase tracking-widest font-bold text-center`,children:`Daily Progress`}),(0,N.jsxs)(`div`,{className:`flex items-center justify-center gap-6`,children:[(0,N.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,N.jsxs)(`div`,{className:`w-[90px] h-[90px] rounded-full bg-white border border-slate-200 flex items-center justify-center relative shadow-sm`,children:[(0,N.jsx)(`div`,{className:`absolute inset-[4px] rounded-full border border-dashed border-slate-300 opacity-50`}),(0,N.jsx)(`span`,{className:`text-[2.5rem] font-extrabold text-slate-800 font-sans`,children:t})]}),(0,N.jsx)(`span`,{className:`text-xs font-bold text-slate-500 tracking-wide uppercase`,children:`SECTION`})]}),(0,N.jsx)(`div`,{className:`w-px h-[100px] bg-slate-100 mx-2`}),(0,N.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,N.jsx)(Fj,{value:n,label:`HRS`}),(0,N.jsx)(`div`,{className:`text-2xl font-bold text-slate-300 -mt-8`,children:`:`}),(0,N.jsx)(Fj,{value:r,label:`MIN`}),(0,N.jsx)(`div`,{className:`text-2xl font-bold text-slate-300 -mt-8`,children:`:`}),(0,N.jsx)(Fj,{value:i,label:`SEC`})]})]})]})},Lj=`https://script.google.com/macros/s/AKfycbx7lWRRftrQmwvSY85kVCeMV6D_Iqkuooyd0iIMLyNHUc2V4V9qzksB916xf7knZhIz/exec`,Rj=async e=>{let t=await e.text();try{let e=JSON.parse(t);if(e.status===`error`)throw Error(e.message||`Unknown API Error`);return e}catch(e){throw e.message.startsWith(`API Error`)||e.message===`Unknown API Error`||e.message.includes(`API returned invalid`)?e:(console.error(`API Error: Response was not JSON`,t),Error(`API returned invalid format. Check console. URL might be wrong. Response: ${t.substring(0,100)}...`))}},zj=e=>(e.status===`success`&&Array.isArray(e.data)&&(e=e.data),Array.isArray(e)?e.map(e=>({recordId:e.recordId||e[`Record ID`]||e[`record id`],date:e.date||e.Date||e.date||``,userName:e.userName||e[`User Name`]||e.Name||e[`user name`]||``,sessionNo:e.sessionNo||e[`Session No`]||e.Session||e[`session no`]||``,startTime:e.startTime||e[`Start Time`]||e[`start time`]||``,endTime:e.endTime||e[`End Time`]||e[`end time`]||``,duration:e.duration||e.Duration||e.duration||``,workDescription:e.workDescription||e[`Work Description`]||e[`work description`]||``,status:e.status||e.Status||e.status||`Pending`,project:e.project||e.Project||e.project||``,category:e.category||e.category||e.Category||``,approvedState:e.approvedState||e[`Approved State`]||e.Approved||e[`approved state`]||`Pending`,approvedBy:e.approvedBy||e[`Approved By`]||e[`approved by`]||``})):[]),Bj=e=>{let t=new URLSearchParams;for(let n in e)e[n]!==void 0&&e[n]!==null&&e[n]!==``&&t.append(n,e[n]);return t};const Vj=async(e={})=>{try{let t=Bj({action:`read`,...e}),n=`${Lj}${Lj.includes(`?`)?`&`:`?`}${t.toString()}`,r=await fetch(n);if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return zj(await Rj(r))}catch(e){throw console.error(`Error fetching data:`,e),e}};var Hj=e=>{let t={};for(let n in e)e[n]!==void 0&&e[n]!==null&&(t[n]=e[n]);return t};const Uj=async e=>{try{let t=new URLSearchParams({...Hj(e),action:`create`}),n=`${Lj}${Lj.includes(`?`)?`&`:`?`}${t.toString()}`;return await Rj(await fetch(n,{method:`POST`,headers:{"Content-Type":`text/plain;charset=utf-8`}}))}catch(e){throw console.error(`Error creating record:`,e),e}},Wj=async e=>{try{let t=new URLSearchParams({...Hj(e),action:`update`}),n=`${Lj}${Lj.includes(`?`)?`&`:`?`}${t.toString()}`;return await Rj(await fetch(n,{method:`POST`,headers:{"Content-Type":`text/plain;charset=utf-8`}}))}catch(e){throw console.error(`Error updating record:`,e),e}},Gj=async e=>{try{let t=new URLSearchParams({recordId:e,action:`delete`}),n=`${Lj}${Lj.includes(`?`)?`&`:`?`}${t.toString()}`;return await Rj(await fetch(n,{method:`POST`,headers:{"Content-Type":`text/plain;charset=utf-8`}}))}catch(e){throw console.error(`Error deleting record:`,e),e}};var Kj=`https://script.google.com/macros/s/AKfycbwLk-SMmvFiXwmdmX8JwQ1vQRnu8IuAWA8Gdgqdlp8Z6Pf9Ino0-T5vd8MQaklQdKtnJA/exec`,qj=async e=>{if(Kj.includes(`ADD_YOUR_AUTH_SCRIPT_URL_HERE`))throw Error(`Auth API URL not configured. Please deploy the Auth Script and update .env`);try{let t=await(await fetch(Kj,{method:`POST`,headers:{"Content-Type":`text/plain;charset=utf-8`},body:JSON.stringify(e)})).text(),n=JSON.parse(t);if(n.status===`error`)throw Error(n.message);return n}catch(e){throw console.error(`Auth Request Error:`,e),e}};const Jj=async(e,t,n,r=`user`)=>await qj({action:`register`,email:e,password:t,name:n,role:r}),Yj=async(e,t)=>await qj({action:`login`,email:e,password:t}),Xj=async(e,t,n,r,i)=>await qj({action:`update`,recordId:e,email:t,name:n,role:r,password:i}),Zj=async e=>{try{let t=new URLSearchParams({...Hj(e),action:`create`}),n=`${Kj}${Kj.includes(`?`)?`&`:`?`}${t.toString()}`,r=await(await fetch(n,{method:`POST`,headers:{"Content-Type":`text/plain;charset=utf-8`}})).text(),i=JSON.parse(r);if(i.status===`error`)throw Error(i.message);return i}catch(e){throw console.error(`Error creating auth record:`,e),e}},Qj=async(e,t=`Requests`)=>{try{let n=new URLSearchParams({action:`delete`,recordId:e,sheetName:t}),r=`${Kj}${Kj.includes(`?`)?`&`:`?`}${n.toString()}`,i=await(await fetch(r,{method:`POST`,headers:{"Content-Type":`text/plain;charset=utf-8`}})).text(),a=JSON.parse(i);if(a.status===`error`)throw Error(a.message);return a}catch(e){throw console.error(`Error deleting auth record:`,e),e}},$j=async()=>{try{let e=await(await fetch(Kj)).text(),t=JSON.parse(e);if(t.status===`error`)throw Error(t.message);return t}catch(e){throw console.error(`Fetch Auth Data Error:`,e),e}},eM=async(e,t,n)=>{try{let r=new URLSearchParams({action:`set_daily_total`,date:e,userName:t,totalDuration:n}),i=`${Kj}${Kj.includes(`?`)?`&`:`?`}${r.toString()}`;return await fetch(i,{method:`POST`}),{status:`success`,message:`Daily total updated`}}catch(e){throw console.error(`Error setting daily total:`,e),e}};var tM=({onLogin:e})=>{let[t,n]=(0,_.useState)(``),[r,i]=(0,_.useState)(``),[a,o]=(0,_.useState)(``),[s,c]=(0,_.useState)(!1);return(0,N.jsx)(`div`,{className:`h-screen w-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-200 font-sans`,children:(0,N.jsxs)(`div`,{className:`bg-white p-12 rounded-2xl shadow-xl w-full max-w-[400px] text-center border border-slate-100`,children:[(0,N.jsxs)(`div`,{className:`mb-8`,children:[(0,N.jsx)(`div`,{className:`w-[60px] h-[60px] bg-slate-900 rounded-xl mx-auto mb-6 flex items-center justify-center text-3xl text-white shadow-lg`,children:``}),(0,N.jsx)(`h1`,{className:`text-[1.75rem] font-extrabold text-slate-900 mb-2 leading-tight`,children:`Welcome Back`}),(0,N.jsx)(`p`,{className:`m-0 text-slate-500 text-[0.95rem]`,children:`Enter your credentials to access`})]}),(0,N.jsxs)(`form`,{onSubmit:async n=>{if(n.preventDefault(),o(``),!t||!r){o(`Please fill in all credentials`);return}c(!0);try{let n=await Yj(t,r);n&&n.status===`success`?e({name:n.user.name,email:n.user.email,role:n.user.role}):o(n?.message||`Authentication failed`)}catch(e){o(e.message||`Network error. Please try again.`)}finally{c(!1)}},children:[(0,N.jsxs)(`div`,{className:`mb-4 text-left`,children:[(0,N.jsx)(`label`,{className:`block text-[0.85rem] font-semibold text-slate-700 mb-2`,children:`Email Address`}),(0,N.jsx)(`input`,{type:`email`,value:t,onChange:e=>n(e.target.value),placeholder:`name@company.com`,className:`w-full px-4 py-3 rounded-lg border border-slate-300 text-base outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900 transition-all box-border placeholder:text-slate-400`})]}),(0,N.jsxs)(`div`,{className:`mb-6 text-left`,children:[(0,N.jsx)(`label`,{className:`block text-[0.85rem] font-semibold text-slate-700 mb-2`,children:`Password`}),(0,N.jsx)(`input`,{type:`password`,value:r,onChange:e=>i(e.target.value),placeholder:``,className:`w-full px-4 py-3 rounded-lg border border-slate-300 text-base outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900 transition-all box-border placeholder:text-slate-400`})]}),a&&(0,N.jsx)(`div`,{className:`text-red-500 text-[0.85rem] mb-4 bg-red-50 p-3 rounded-lg border border-red-100 animate-pulse`,children:a}),(0,N.jsx)(`button`,{type:`submit`,disabled:s,className:`w-full py-3.5 rounded-lg text-white text-base font-bold shadow-md transition-all border-none
                            ${s?`bg-slate-400 cursor-wait`:`bg-slate-900 hover:bg-slate-800 cursor-pointer hover:-translate-y-0.5 active:translate-y-0 shadow-slate-900/20`}`,children:s?`Processing...`:`Sign In`})]}),(0,N.jsx)(`div`,{className:`mt-8 text-[0.8rem] text-slate-400 font-medium tracking-wide uppercase`,children:`Authorized Personnel Only`})]})})},nM=({isOpen:e,onClose:t,onConfirm:n})=>e?(0,N.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(15, 23, 42, 0.65)`,backdropFilter:`blur(4px)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1100,fontFamily:`'Inter', sans-serif`},children:(0,N.jsxs)(`div`,{className:`fade-in-up`,style:{backgroundColor:`white`,padding:`2rem`,borderRadius:`16px`,boxShadow:`0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)`,width:`100%`,maxWidth:`400px`,textAlign:`center`,border:`1px solid #e2e8f0`},children:[(0,N.jsx)(`div`,{style:{width:`60px`,height:`60px`,borderRadius:`50%`,backgroundColor:`#fee2e2`,color:`#ef4444`,display:`flex`,alignItems:`center`,justifyContent:`center`,fontSize:`1.75rem`,margin:`0 auto 1.5rem auto`},children:``}),(0,N.jsx)(`h3`,{style:{margin:`0 0 0.5rem 0`,color:`#0f172a`,fontSize:`1.25rem`},children:`Are you sure?`}),(0,N.jsx)(`p`,{style:{margin:`0 0 2rem 0`,color:`#64748b`,lineHeight:`1.5`},children:`Do you really want to delete this session? This process cannot be undone.`}),(0,N.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`,justifyContent:`center`},children:[(0,N.jsx)(`button`,{onClick:t,style:{padding:`0.75rem 1.5rem`,borderRadius:`8px`,border:`1px solid #cbd5e1`,backgroundColor:`white`,color:`#475569`,fontWeight:600,cursor:`pointer`,fontSize:`0.95rem`},children:`Cancel`}),(0,N.jsx)(`button`,{onClick:n,style:{padding:`0.75rem 1.5rem`,borderRadius:`8px`,border:`none`,backgroundColor:`#ef4444`,color:`white`,fontWeight:600,cursor:`pointer`,fontSize:`0.95rem`,boxShadow:`0 4px 6px -1px rgba(239, 68, 68, 0.3)`},children:`Delete It`})]})]})}):null,rM=({isOpen:e,onClose:t,onConfirm:n})=>e?(0,N.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(15, 23, 42, 0.65)`,backdropFilter:`blur(4px)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1100,fontFamily:`'Inter', sans-serif`},children:(0,N.jsxs)(`div`,{className:`fade-in-up`,style:{backgroundColor:`white`,padding:`2rem`,borderRadius:`16px`,boxShadow:`0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)`,width:`100%`,maxWidth:`400px`,textAlign:`center`,border:`1px solid #e2e8f0`},children:[(0,N.jsx)(`div`,{style:{width:`60px`,height:`60px`,borderRadius:`50%`,backgroundColor:`#e0f2fe`,color:`#0ea5e9`,display:`flex`,alignItems:`center`,justifyContent:`center`,fontSize:`1.75rem`,margin:`0 auto 1.5rem auto`},children:``}),(0,N.jsx)(`h3`,{style:{margin:`0 0 0.5rem 0`,color:`#0f172a`,fontSize:`1.25rem`},children:`Signing Out?`}),(0,N.jsx)(`p`,{style:{margin:`0 0 2rem 0`,color:`#64748b`,lineHeight:`1.5`},children:`Are you sure you want to log out? Your current session data is saved locally.`}),(0,N.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`,justifyContent:`center`},children:[(0,N.jsx)(`button`,{onClick:t,style:{padding:`0.75rem 1.5rem`,borderRadius:`8px`,border:`1px solid #cbd5e1`,backgroundColor:`white`,color:`#475569`,fontWeight:600,cursor:`pointer`,fontSize:`0.95rem`},children:`Cancel`}),(0,N.jsx)(`button`,{onClick:n,style:{padding:`0.75rem 1.5rem`,borderRadius:`8px`,border:`none`,backgroundColor:`#0f172a`,color:`white`,fontWeight:600,cursor:`pointer`,fontSize:`0.95rem`,boxShadow:`0 4px 6px -1px rgba(15, 23, 42, 0.3)`},children:`Sign Out`})]})]})}):null,iM=({isOpen:e,onClose:t,onContinue:n,onStop:r})=>e?(0,N.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,backdropFilter:`blur(4px)`},children:(0,N.jsxs)(`div`,{style:{backgroundColor:`white`,borderRadius:`16px`,padding:`2rem`,width:`90%`,maxWidth:`400px`,boxShadow:`0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)`,textAlign:`center`},children:[(0,N.jsx)(`h2`,{style:{marginTop:0,marginBottom:`1rem`,color:`var(--text-primary)`,fontSize:`1.5rem`},children:`Still Working?`}),(0,N.jsx)(`p`,{style:{color:`var(--text-secondary)`,marginBottom:`2rem`,lineHeight:`1.5`},children:`Your session has been running for a while. Just checking in to see if you are still active.`}),(0,N.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`0.8rem`},children:[(0,N.jsx)(`button`,{onClick:n,style:{padding:`0.9rem`,backgroundColor:`var(--primary-color)`,color:`white`,border:`none`,borderRadius:`8px`,fontWeight:600,fontSize:`1rem`,cursor:`pointer`,transition:`background-color 0.2s`},children:`Yes, I'm Still Working`}),(0,N.jsx)(`button`,{onClick:r,style:{padding:`0.9rem`,backgroundColor:`white`,color:`#ef4444`,border:`1px solid #ef4444`,borderRadius:`8px`,fontWeight:600,fontSize:`1rem`,cursor:`pointer`,transition:`background-color 0.2s`},children:`No, Stop Session`})]})]})}):null,aM=({onLogout:e})=>{rt(),et();let t=(0,_.useRef)(null),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)(!0),[u,d]=(0,_.useState)(!1);(0,_.useEffect)(()=>{let e=e=>{t.current&&!t.current.contains(e.target)&&d(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let f=async()=>{l(!0);try{let e=await $j();r(e.sessions||[]),a(e.users||[]),s(e.attendance||[])}catch(e){console.error(`Failed to load admin data:`,e)}finally{l(!1)}};(0,_.useEffect)(()=>{f()},[]);let p=()=>{f()},m=e=>r(e),h=e=>a(e),g={pendingRequests:n.filter(e=>e.approvedState?.toLowerCase()===`pending`).length};return(0,N.jsxs)(`div`,{className:`h-screen bg-bg-main font-sans flex flex-col overflow-hidden`,children:[(0,N.jsxs)(`header`,{className:`bg-transparent px-8 py-4 grid grid-cols-[1fr_auto_1fr] items-center z-50 shrink-0`,children:[(0,N.jsxs)(`nav`,{className:`flex gap-1 items-center`,children:[(0,N.jsx)(Cn,{to:`/admin/requests`,className:({isActive:e})=>`inline-flex items-center px-5 py-2.5 rounded-full text-[0.95rem] font-montserrat transition-all duration-200 no-underline
                            ${e?`text-primary border border-primary font-bold`:`text-primary border border-transparent hover:border-slate-300 font-normal`}`,children:(0,N.jsxs)(`div`,{className:`flex items-center gap-1.5 no-underline text-inherit`,children:[(0,N.jsx)(`span`,{children:`Requests`}),g.pendingRequests>0&&(0,N.jsx)(`span`,{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-[0.7rem] font-semibold leading-none bg-warning-bg text-amber-700`,children:g.pendingRequests})]})}),(0,N.jsx)(Cn,{to:`/admin/users`,className:({isActive:e})=>`inline-flex items-center px-5 py-2.5 rounded-full text-[0.95rem] font-montserrat transition-all duration-200 no-underline
                            ${e?`text-primary border border-primary font-bold`:`text-primary border border-transparent hover:border-slate-300 font-normal`}`,children:(0,N.jsx)(`div`,{className:`flex items-center gap-1.5 no-underline text-inherit`,children:(0,N.jsx)(`span`,{children:`Users`})})}),(0,N.jsx)(Cn,{to:`/admin/attendance`,className:({isActive:e})=>`inline-flex items-center px-5 py-2.5 rounded-full text-[0.95rem] font-montserrat transition-all duration-200 no-underline
                            ${e?`text-primary border border-primary font-bold`:`text-primary border border-transparent hover:border-slate-300 font-normal`}`,children:(0,N.jsx)(`div`,{className:`flex items-center gap-1.5 no-underline text-inherit`,children:(0,N.jsx)(`span`,{children:`Attendance`})})}),(0,N.jsx)(Cn,{to:`/admin/history`,className:({isActive:e})=>`inline-flex items-center px-5 py-2.5 rounded-full text-[0.95rem] font-montserrat transition-all duration-200 no-underline
                            ${e?`text-primary border border-primary font-bold`:`text-primary border border-transparent hover:border-slate-300 font-normal`}`,children:(0,N.jsx)(`div`,{className:`flex items-center gap-1.5 no-underline text-inherit`,children:(0,N.jsx)(`span`,{children:`History`})})})]}),(0,N.jsx)(`div`,{className:`flex items-center gap-4 justify-center whitespace-nowrap`,children:(0,N.jsx)(Cn,{to:`/admin`,end:!0,className:`no-underline text-inherit flex items-center`,children:(0,N.jsx)(`span`,{className:`font-['Croissant_One'] font-bold text-2xl`,children:`Hope3-Services`})})}),(0,N.jsxs)(`div`,{className:`flex justify-end relative`,ref:t,children:[(0,N.jsx)(`button`,{onClick:()=>d(!u),className:`w-10 h-10 rounded-full overflow-hidden border-2 transition-all cursor-pointer bg-white shadow-sm flex items-center justify-center p-0
                            ${u?`border-primary ring-4 ring-primary/5 scale-95`:`border-primary/10 hover:border-primary/30`}`}),u&&(0,N.jsxs)(`div`,{className:`absolute top-12 right-0 bg-white rounded-xl shadow-xl border border-border-main p-1 z-[100] animate-in fade-in zoom-in-95 slide-in-from-right-4 duration-300 min-w-[160px]`,children:[(0,N.jsx)(`div`,{className:`px-3 py-2 border-b border-slate-50 mb-1`,children:(0,N.jsx)(`span`,{className:`text-[0.65rem] font-bold text-slate-400 uppercase tracking-widest`,children:`Account`})}),(0,N.jsxs)(`button`,{onClick:()=>{d(!1),e()},className:`w-full inline-flex items-center gap-3 px-3 py-2.5 text-danger hover:bg-red-50 text-[0.85rem] font-bold rounded-lg transition-all cursor-pointer border-none bg-transparent`,children:[(0,N.jsx)(`div`,{className:`w-8 h-8 rounded-lg bg-red-50 flex items-center justify-center`,children:(0,N.jsx)(yj,{size:16})}),`Logout`]})]})]})]}),(0,N.jsx)(`main`,{className:`flex-1 w-full m-0 px-8 pb-8 pt-4 flex flex-col gap-4 overflow-hidden`,children:(0,N.jsx)(`div`,{className:`flex-1 flex flex-col overflow-hidden bg-transparent rounded-none border-none shadow-none`,children:(0,N.jsx)(Mt,{context:{requests:n,users:i,attendance:o,loading:c,refreshData:p,updateRequests:m,updateUsers:h}})})})]})},oM=()=>{let{requests:e,users:t,attendance:n}=ot(),r=new Date,i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,`0`)}-${String(r.getDate()).padStart(2,`0`)}`,a=(n||[]).filter(e=>{if(!e.date)return!1;let t=e.date;return t.includes(`T`)&&(t=t.split(`T`)[0]),t===i}),o={pendingRequests:e.filter(e=>e.approvedState?.toLowerCase()===`pending`).length,totalUsers:t.length,adminUsers:t.filter(e=>e.role?.toLowerCase()===`admin`).length,regularUsers:t.filter(e=>e.role?.toLowerCase()!==`admin`).length,todayPresent:a.length};return(0,N.jsxs)(`div`,{className:`flex h-full bg-[#fcfcfd] text-[#1a1a1a] overflow-hidden rounded-3xl shadow-[0_10px_30px_-5px_rgba(0,0,0,0.1),0_4px_6px_-2px_rgba(0,0,0,0.05)] border border-[#f0f0f5]`,children:[(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col p-6 overflow-y-auto gap-6`,children:[(0,N.jsxs)(`div`,{className:`bg-gradient-to-br from-[#0a0a0b] to-[#1e1e2d] rounded-3xl py-6 px-8 text-white flex justify-between items-center relative overflow-hidden shadow-xl shrink-0`,children:[(0,N.jsx)(`div`,{className:`absolute inset-0 bg-[radial-gradient(circle,rgba(99,102,241,0.15)_0%,transparent_70%)] pointer-events-none -top-1/2 -left-[20%] w-full h-[200%]`}),(0,N.jsxs)(`div`,{className:`relative z-10 flex flex-col gap-2`,children:[(0,N.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,N.jsx)(`span`,{className:`bg-white/10 px-3 py-1 rounded-full text-[0.75rem] font-bold uppercase tracking-widest backdrop-blur-md border border-white/10`,children:`Management Control`}),(0,N.jsx)(`span`,{className:`text-[0.85rem] opacity-60 font-medium`,children:r.toLocaleDateString(`en-US`,{weekday:`long`,month:`long`,day:`numeric`})})]}),(0,N.jsx)(`h1`,{className:`text-4xl font-extrabold tracking-tight`,children:`System Intelligence Dashboard`}),(0,N.jsx)(`p`,{className:`text-base opacity-70 max-w-[450px] leading-relaxed`,children:`Efficiency tracking and administrative control at your fingertips.`})]}),(0,N.jsx)(`div`,{className:`relative opacity-20 hidden md:block`,children:(0,N.jsx)(pj,{size:120,className:`animate-float`})})]}),(0,N.jsxs)(`div`,{className:`grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] gap-5 shrink-0`,children:[(0,N.jsxs)(`div`,{className:`bg-white rounded-[24px] p-5 shadow-sm flex flex-col gap-4 border border-[#f0f0f5] transition-all duration-300 hover:-translate-y-1 hover:shadow-lg group`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,N.jsx)(`div`,{className:`w-10 h-10 rounded-xl flex items-center justify-center bg-amber-50 text-amber-500`,children:(0,N.jsx)(_j,{size:20})}),(0,N.jsx)(Cn,{to:`/admin/requests`,className:`text-slate-400 hover:text-slate-800 transition-colors`,children:(0,N.jsx)(mj,{size:16})})]}),(0,N.jsxs)(`div`,{className:`flex flex-col`,children:[(0,N.jsx)(`span`,{className:`text-[0.85rem] font-semibold text-slate-500 mb-1`,children:`Pending Approval`}),(0,N.jsx)(`span`,{className:`text-3xl font-extrabold text-slate-900 leading-none`,children:o.pendingRequests})]}),(0,N.jsx)(`div`,{className:`mt-2`,children:(0,N.jsx)(`div`,{className:`h-1.5 bg-slate-100 rounded-full overflow-hidden`,children:(0,N.jsx)(`div`,{className:`h-full rounded-full bg-amber-500`,style:{width:`40%`}})})})]}),(0,N.jsxs)(`div`,{className:`bg-white rounded-[24px] p-5 shadow-sm flex flex-col gap-4 border border-[#f0f0f5] transition-all duration-300 hover:-translate-y-1 hover:shadow-lg group`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,N.jsx)(`div`,{className:`w-10 h-10 rounded-xl flex items-center justify-center bg-emerald-50 text-emerald-500`,children:(0,N.jsx)(Ej,{size:20})}),(0,N.jsx)(Cn,{to:`/admin/users`,className:`text-slate-400 hover:text-slate-800 transition-colors`,children:(0,N.jsx)(mj,{size:16})})]}),(0,N.jsxs)(`div`,{className:`flex flex-col`,children:[(0,N.jsx)(`span`,{className:`text-[0.85rem] font-semibold text-slate-500 mb-1`,children:`Active Directory`}),(0,N.jsx)(`span`,{className:`text-3xl font-extrabold text-slate-900 leading-none`,children:o.totalUsers})]}),(0,N.jsx)(`div`,{className:`mt-2`,children:(0,N.jsxs)(`span`,{className:`text-[0.75rem] text-slate-400 font-medium`,children:[o.adminUsers,` Privileged  `,o.regularUsers,` Standard`]})})]}),(0,N.jsxs)(`div`,{className:`bg-white rounded-[24px] p-5 shadow-sm flex flex-col gap-4 border border-[#f0f0f5] transition-all duration-300 hover:-translate-y-1 hover:shadow-lg group`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,N.jsx)(`div`,{className:`w-10 h-10 rounded-xl flex items-center justify-center bg-blue-50 text-blue-500`,children:(0,N.jsx)(Tj,{size:20})}),(0,N.jsx)(Cn,{to:`/admin/attendance`,className:`text-slate-400 hover:text-slate-800 transition-colors`,children:(0,N.jsx)(mj,{size:16})})]}),(0,N.jsxs)(`div`,{className:`flex flex-col`,children:[(0,N.jsx)(`span`,{className:`text-[0.85rem] font-semibold text-slate-500 mb-1`,children:`Deployment Today`}),(0,N.jsx)(`span`,{className:`text-3xl font-extrabold text-slate-900 leading-none`,children:o.todayPresent})]}),(0,N.jsx)(`div`,{className:`mt-2`,children:(0,N.jsx)(`span`,{className:`text-[0.85rem] font-semibold text-blue-500 uppercase tracking-wider`,children:`Real-time Syncing`})})]})]}),(0,N.jsx)(`div`,{className:`flex-1 flex min-h-0`,children:(0,N.jsxs)(`div`,{className:`bg-white/70 backdrop-blur-md rounded-[24px] flex-1 flex flex-col overflow-hidden border border-[#f0f0f5]`,children:[(0,N.jsx)(`div`,{className:`px-6 py-3 border-b border-slate-100 flex items-center`,children:(0,N.jsxs)(`h3`,{className:`m-0 text-sm font-bold text-slate-900 flex items-center gap-2`,children:[(0,N.jsx)(bj,{size:16}),` Administrative Quick-Access`]})}),(0,N.jsx)(`div`,{className:`p-4`,children:(0,N.jsxs)(`div`,{className:`grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-4`,children:[(0,N.jsxs)(`a`,{href:`#`,target:`_blank`,rel:`noopener noreferrer`,className:`flex flex-col items-start p-4 bg-white border border-slate-100 rounded-2xl text-slate-700 no-underline gap-2 transition-all duration-200 hover:border-slate-300 hover:bg-slate-50 hover:-translate-y-0.5 shadow-sm`,children:[(0,N.jsx)(vj,{size:18,className:`text-blue-500`}),(0,N.jsx)(`span`,{className:`font-semibold text-[0.85rem]`,children:`Data Sheet`})]}),(0,N.jsxs)(`a`,{href:`#`,target:`_blank`,rel:`noopener noreferrer`,className:`flex flex-col items-start p-4 bg-white border border-slate-100 rounded-2xl text-slate-700 no-underline gap-2 transition-all duration-200 hover:border-slate-300 hover:bg-slate-50 hover:-translate-y-0.5 shadow-sm`,children:[(0,N.jsx)(vj,{size:18,className:`text-blue-500`}),(0,N.jsx)(`span`,{className:`font-semibold text-[0.85rem]`,children:`Auth Sheet`})]})]})})]})})]}),(0,N.jsx)(`div`,{className:`w-72 bg-white border-l border-[#f0f0f5] flex flex-col p-4 shrink-0`,children:(0,N.jsxs)(`div`,{className:`bg-white rounded-[24px] flex-1 flex flex-col overflow-hidden border border-[#f0f0f5] shadow-sm`,children:[(0,N.jsxs)(`div`,{className:`px-5 py-3 border-b border-slate-100 flex items-center justify-between`,children:[(0,N.jsxs)(`h3`,{className:`m-0 text-sm font-bold text-slate-900 flex items-center gap-2`,children:[(0,N.jsx)(hj,{size:16}),` Live Feed`]}),(0,N.jsx)(`span`,{className:`bg-red-100 text-red-500 text-[0.6rem] font-extrabold px-2 py-0.5 rounded uppercase tracking-widest`,children:`LIVE`})]}),(0,N.jsx)(`div`,{className:`flex-1 overflow-y-auto p-2 flex flex-col gap-1`,children:a.length===0?(0,N.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-full text-slate-400 gap-3 text-center p-6`,children:[(0,N.jsx)(pj,{size:24,opacity:.3}),(0,N.jsx)(`p`,{className:`m-0 text-[0.8rem]`,children:`No active sessions.`})]}):a.map((e,t)=>(0,N.jsxs)(`div`,{className:`flex items-center gap-3 p-3 rounded-2xl transition-colors hover:bg-slate-50`,children:[(0,N.jsx)(`div`,{className:`w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 text-white flex items-center justify-center font-bold text-base shrink-0`,children:(e.user||e.userName||`U`).charAt(0).toUpperCase()}),(0,N.jsxs)(`div`,{className:`flex flex-col overflow-hidden`,children:[(0,N.jsx)(`span`,{className:`font-semibold text-[0.85rem] text-slate-800 truncate`,children:e.user||e.userName}),(0,N.jsx)(`span`,{className:`text-[0.7rem] text-slate-400`,children:e.totalDuration||`Pending...`})]})]},t))})]})})]})},sM=()=>(0,N.jsxs)(`div`,{className:`car-loader-container`,children:[(0,N.jsxs)(`div`,{className:`road`,children:[(0,N.jsxs)(`div`,{className:`car`,children:[(0,N.jsxs)(`div`,{className:`car-body`,children:[(0,N.jsx)(`div`,{className:`car-top`}),(0,N.jsx)(`div`,{className:`headlight left`}),(0,N.jsx)(`div`,{className:`headlight right`})]}),(0,N.jsx)(`div`,{className:`wheel front`}),(0,N.jsx)(`div`,{className:`wheel back`})]}),(0,N.jsxs)(`div`,{className:`speed-lines`,children:[(0,N.jsx)(`div`,{className:`line`}),(0,N.jsx)(`div`,{className:`line`}),(0,N.jsx)(`div`,{className:`line`})]})]}),(0,N.jsx)(`div`,{className:`flying-text`,children:` provided by Hope3-Services `}),(0,N.jsx)(`style`,{children:`
        .car-loader-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 3rem;
          height: 100%;
          width: 100%;
          min-height: 300px;
          position: relative;
          overflow: hidden;
        }
        
        .road {
          position: relative;
          width: 300px;
          height: 120px;
        }
        
        .car {
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          animation: bounce 0.3s ease-in-out infinite alternate;
        }
        
        .car-body {
          width: 100px;
          height: 35px;
          background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
          border-radius: 5px 20px 5px 5px;
          position: relative;
          box-shadow: 0 5px 15px rgba(15, 23, 42, 0.3);
        }
        
        .car-top {
          position: absolute;
          width: 50px;
          height: 25px;
          background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
          border-radius: 3px 10px 3px 3px;
          top: -20px;
          left: 25px;
        }
        
        .headlight {
          position: absolute;
          width: 8px;
          height: 8px;
          background: #fbbf24;
          border-radius: 50%;
          right: -2px;
          box-shadow: 0 0 10px #fbbf24, 0 0 20px #fbbf24;
          animation: glow 0.5s ease-in-out infinite alternate;
        }
        
        .headlight.left { top: 8px; }
        .headlight.right { top: 20px; }
        
        .wheel {
          position: absolute;
          width: 22px;
          height: 22px;
          background: #374151;
          border-radius: 50%;
          bottom: -10px;
          border: 3px solid #1f2937;
          animation: spin 0.2s linear infinite;
        }
        
        .wheel::after {
          content: '';
          position: absolute;
          width: 8px;
          height: 8px;
          background: #6b7280;
          border-radius: 50%;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }
        
        .wheel.front { right: 10px; }
        .wheel.back { left: 10px; }
        
        .speed-lines {
          position: absolute;
          left: -30px;
          top: 50%;
          transform: translateY(-50%);
        }
        
        .line {
          width: 40px;
          height: 3px;
          background: linear-gradient(90deg, transparent 0%, #94a3b8 50%, transparent 100%);
          margin: 8px 0;
          animation: speed 0.4s linear infinite;
          opacity: 0.6;
        }
        
        .line:nth-child(1) { animation-delay: 0s; width: 30px; }
        .line:nth-child(2) { animation-delay: 0.15s; width: 45px; }
        .line:nth-child(3) { animation-delay: 0.3s; width: 35px; }
        
        .flying-text {
          margin-top: 2rem;
          font-family: 'Croissant One', serif;
          font-weight: bold;
          font-size: 1.3rem;
          background: linear-gradient(90deg, #0f172a, #3b82f6, #0f172a);
          background-size: 200% auto;
          -webkit-background-clip: text;
          background-clip: text;
          -webkit-text-fill-color: transparent;
          animation: shimmer 2s linear infinite, wave 1s ease-in-out infinite;
        }
        
        @keyframes bounce {
          from { transform: translate(-50%, -50%) translateY(0); }
          to { transform: translate(-50%, -50%) translateY(-3px); }
        }
        
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        
        @keyframes speed {
          0% { transform: translateX(0); opacity: 0; }
          50% { opacity: 0.6; }
          100% { transform: translateX(-30px); opacity: 0; }
        }
        
        @keyframes glow {
          from { box-shadow: 0 0 5px #fbbf24, 0 0 10px #fbbf24; }
          to { box-shadow: 0 0 15px #fbbf24, 0 0 25px #fbbf24; }
        }
        
        @keyframes shimmer {
          0% { background-position: 200% center; }
          100% { background-position: -200% center; }
        }
        
        @keyframes wave {
          0%, 100% { transform: translateY(0) rotate(-2deg); }
          50% { transform: translateY(-5px) rotate(2deg); }
        }
      `})]}),cM=()=>(0,N.jsx)(sM,{});Da.registerModules([Pk]);var lM=()=>{let{requests:e,loading:t,updateRequests:n}=ot(),[r,i]=(0,_.useState)(null),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(null),[l,u]=(0,_.useState)(null),d=async t=>{i(t.recordId);try{let r=(await Vj({userName:t.userName})).filter(e=>e.date===t.date).reduce((e,t)=>Math.max(e,parseInt(t.sessionNo)||0),0);await Uj({...t,sessionNo:(r+1).toString(),status:t.status||`Completed`,approvedState:`Completed`,approvedBy:`Admin`}),await Qj(t.recordId),n(e.filter(e=>e.recordId!==t.recordId))}catch(e){console.error(`Approve failed:`,e)}finally{i(null)}},f=e=>{c(e),o(!0)},p=async()=>{if(s){u(s);try{await Qj(s,`Requests`),n(e.filter(e=>e.recordId!==s)),o(!1)}catch(e){console.error(`Delete failed:`,e)}finally{u(null),c(null)}}},m=(0,_.useMemo)(()=>[{field:`date`,headerName:`Date`,width:120,valueFormatter:e=>{if(!e.value)return``;let t=new Date(e.value);return isNaN(t.getTime())?e.value:t.toLocaleDateString(`en-US`,{month:`2-digit`,day:`2-digit`,year:`numeric`})}},{field:`userName`,headerName:`User`,width:150},{field:`startTime`,headerName:`Start`,width:120},{field:`endTime`,headerName:`End`,width:120},{field:`duration`,headerName:`Duration`,width:160,valueFormatter:e=>{if(!e.value)return``;let t=String(e.value).split(`:`);if(t.length<2)return e.value;let n=parseInt(t[0],10),r=parseInt(t[1],10),i=t[2]?parseInt(t[2],10):0,a=[];return n>0&&a.push(`${n} hr`),r>0&&a.push(`${r} min`),i>0&&a.push(`${i} sec`),a.join(` `)||`0 sec`}},{field:`workDescription`,headerName:`Description`,flex:2,cellRenderer:e=>(0,N.jsxs)(`span`,{title:e.value,children:[e.value?.substring(0,30),e.value?.length>30?`...`:``]})},{headerName:`Actions`,width:160,pinned:`right`,headerClass:`ag-header-cell-center`,cellClass:`ag-cell-center`,cellRenderer:e=>{let t=e.data,n=r===t.recordId;return(0,N.jsxs)(`div`,{className:`flex gap-2 items-center h-full justify-center w-full`,children:[(0,N.jsx)(`button`,{onClick:()=>d(t),disabled:n,title:`Approve Request`,className:`w-8 h-8 rounded-full border-none flex items-center justify-center bg-success text-white transition-all duration-200 hover:bg-emerald-600 cursor-pointer disabled:opacity-50`,children:n?(0,N.jsx)(`div`,{className:`w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin`}):(0,N.jsx)(gj,{size:16})}),(0,N.jsx)(`button`,{onClick:()=>f(t.recordId),title:`Reject Request`,className:`w-8 h-8 rounded-full border-none flex items-center justify-center bg-danger text-white transition-all duration-200 hover:bg-red-600 cursor-pointer`,children:(0,N.jsx)(wj,{size:16})})]})}}],[r]),h=(0,_.useMemo)(()=>({sortable:!0,filter:!1,resizable:!0}),[]);return t?(0,N.jsx)(cM,{}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden bg-white rounded-[24px] border border-border-main shadow-sm`,children:[(0,N.jsxs)(`div`,{className:`p-6 flex justify-between items-center border-b border-border-main bg-white shrink-0`,children:[(0,N.jsx)(`h2`,{className:`m-0 text-xl font-semibold text-text-main`,children:`Request Management`}),(0,N.jsxs)(`div`,{className:`text-text-dim text-[0.9rem]`,children:[e.length,` Pending Request`,e.length===1?``:`s`]})]}),(0,N.jsx)(`div`,{className:`flex-1 w-full overflow-hidden mt-0`,children:(0,N.jsx)(`div`,{className:`ag-theme-alpine h-full w-full`,children:(0,N.jsx)(ij,{rowData:e,columnDefs:m,defaultColDef:h,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50],animateRows:!0,rowHeight:70,theme:`legacy`,onGridReady:e=>{e.api.sizeColumnsToFit(),window.addEventListener(`resize`,()=>{setTimeout(()=>e.api.sizeColumnsToFit(),100)})},overlayNoRowsTemplate:`<span style='padding: 1rem;'>No pending requests</span>`})})})]}),a&&(0,N.jsx)(`div`,{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-[100] animate-in fade-in duration-200`,children:(0,N.jsxs)(`div`,{className:`bg-white p-8 rounded-2xl w-full max-auto max-w-[450px] shadow-lg relative animate-in scale-in-95 duration-200 text-center`,children:[(0,N.jsx)(`h2`,{className:`mt-0 text-xl font-bold`,children:`Confirm Rejection`}),(0,N.jsx)(`p`,{className:`text-text-dim mb-8`,children:`Are you sure you want to delete this request? This action cannot be undone.`}),(0,N.jsxs)(`div`,{className:`flex justify-center gap-4`,children:[(0,N.jsx)(`button`,{onClick:()=>o(!1),className:`px-4 py-2 rounded-lg font-semibold text-sm border border-border-main text-text-main hover:bg-slate-50 hover:border-slate-300 transition-all cursor-pointer`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:p,disabled:l,className:`px-4 py-2 bg-danger text-white rounded-lg font-semibold text-sm hover:bg-red-600 transition-all cursor-pointer`,children:l?`Deleting...`:`Reject`})]})]})})]})};Da.registerModules([Pk]);var uM=()=>{let{users:e,loading:t,updateUsers:n}=ot(),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)({name:``,email:``,password:``,role:`user`}),[l,u]=(0,_.useState)(!1),[d,f]=(0,_.useState)(null),[p,m]=(0,_.useState)(!1),[h,g]=(0,_.useState)(!1),[v,y]=(0,_.useState)(null),[b,x]=(0,_.useState)(!1),S=async t=>{t.preventDefault(),o(!0);try{let t=await Jj(s.email,s.password,s.name,s.role),r=new Date,a=`${r.getMonth()+1}/${r.getDate()}/${r.getFullYear()}`;n([...e,{name:s.name,email:s.email,role:s.role,createdAt:a,recordId:t.recordId||Date.now().toString()}]),i(!1),c({name:``,email:``,password:``,role:`user`})}catch(e){alert(`Failed to create user: ${e.message}`)}finally{o(!1)}},C=e=>{y({...e,password:``}),g(!0)},w=async t=>{if(t.preventDefault(),v){x(!0);try{await Xj(v.recordId,v.email,v.name,v.role,v.password),n(e.map(e=>e.recordId===v.recordId?{...e,...v,password:e.password}:e)),g(!1),y(null)}catch(e){alert(`Failed to update user: ${e.message}`)}finally{x(!1)}}},T=e=>{f(e),u(!0)};return t?(0,N.jsx)(cM,{}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden bg-white rounded-[24px] border border-border-main shadow-sm`,children:[(0,N.jsxs)(`div`,{className:`p-6 flex justify-between items-center border-b border-border-main bg-white shrink-0`,children:[(0,N.jsx)(`h2`,{className:`m-0 text-xl font-semibold text-text-main`,children:`User Management`}),(0,N.jsxs)(`button`,{onClick:()=>i(!0),className:`inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-white text-[0.95rem] font-semibold rounded-full shadow-md hover:bg-slate-800 transition-all cursor-pointer border-none`,children:[(0,N.jsx)(Sj,{size:18}),` Add New User`]})]}),(0,N.jsx)(`div`,{className:`flex-1 w-full overflow-hidden mt-0`,children:(0,N.jsx)(`div`,{className:`ag-theme-alpine h-full w-full`,children:(0,N.jsx)(ij,{rowData:e,columnDefs:[{field:`name`,headerName:`Name`,flex:1,filter:!1},{field:`email`,headerName:`Email`,flex:1.5,filter:!1},{field:`role`,headerName:`Role`,width:120,cellRenderer:e=>(0,N.jsx)(`span`,{className:`inline-flex items-center px-3 py-1 rounded-full text-[0.75rem] font-semibold leading-none
                                                ${String(e.value).toLowerCase()===`admin`?`bg-indigo-100 text-indigo-700`:`bg-slate-100 text-slate-600`}`,children:e.value?e.value.charAt(0).toUpperCase()+e.value.slice(1).toLowerCase():``})},{field:`createdAt`,headerName:`Joined`,width:150,valueFormatter:e=>{if(!e.value)return``;let t=new Date(e.value);return isNaN(t.getTime())?e.value:t.toLocaleDateString(`en-US`,{month:`2-digit`,day:`2-digit`,year:`numeric`})}},{headerName:`Actions`,width:120,headerClass:`ag-header-cell-center`,cellClass:`ag-cell-center`,cellRenderer:e=>(0,N.jsxs)(`div`,{className:`flex gap-2 justify-center w-full`,children:[(0,N.jsx)(`button`,{onClick:()=>C(e.data),title:`Edit User`,className:`w-8 h-8 rounded-full border-none flex items-center justify-center bg-blue-50 text-blue-600 transition-all duration-200 hover:bg-blue-100 cursor-pointer`,children:(0,N.jsx)(xj,{size:16})}),(0,N.jsx)(`button`,{onClick:()=>T(e.data.recordId),title:`Delete User`,className:`w-8 h-8 rounded-full border-none flex items-center justify-center bg-danger text-white transition-all duration-200 hover:bg-red-600 cursor-pointer`,children:(0,N.jsx)(wj,{size:16})})]})}],defaultColDef:{sortable:!0,resizable:!0},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50],animateRows:!0,rowHeight:70,theme:`legacy`,onGridReady:e=>{e.api.sizeColumnsToFit(),window.addEventListener(`resize`,()=>{setTimeout(()=>e.api.sizeColumnsToFit(),100)})}})})})]}),r&&(0,N.jsx)(`div`,{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-[100] animate-in fade-in duration-200`,children:(0,N.jsxs)(`div`,{className:`bg-white p-8 rounded-2xl w-full max-auto max-w-[450px] shadow-lg relative animate-in scale-in-95 duration-200`,children:[(0,N.jsx)(`h2`,{className:`mt-0 mb-6 text-xl font-bold`,children:`Add New User`}),(0,N.jsxs)(`form`,{onSubmit:S,children:[(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Name`}),(0,N.jsx)(`input`,{type:`text`,required:!0,value:s.name,onChange:e=>c({...s,name:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all`})]}),(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Email`}),(0,N.jsx)(`input`,{type:`email`,required:!0,value:s.email,onChange:e=>c({...s,email:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all`})]}),(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Password`}),(0,N.jsx)(`input`,{type:`text`,required:!0,value:s.password,onChange:e=>c({...s,password:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all`})]}),(0,N.jsxs)(`div`,{className:`mb-8`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Role`}),(0,N.jsxs)(`select`,{value:s.role,onChange:e=>c({...s,role:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all appearance-none bg-white`,children:[(0,N.jsx)(`option`,{value:`user`,children:`User`}),(0,N.jsx)(`option`,{value:`admin`,children:`Admin`})]})]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-3`,children:[(0,N.jsx)(`button`,{type:`button`,onClick:()=>i(!1),className:`px-4 py-2 rounded-lg font-semibold text-sm border border-border-main text-text-main hover:bg-slate-50 hover:border-slate-300 transition-all cursor-pointer`,children:`Cancel`}),(0,N.jsx)(`button`,{type:`submit`,disabled:a,className:`px-4 py-2 bg-primary text-white rounded-lg font-semibold text-sm hover:bg-slate-800 transition-all cursor-pointer`,children:a?`Creating...`:`Create User`})]})]})]})}),l&&(0,N.jsx)(`div`,{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-[100] animate-in fade-in duration-200`,children:(0,N.jsxs)(`div`,{className:`bg-white p-8 rounded-2xl w-full max-auto max-w-[450px] shadow-lg relative animate-in scale-in-95 duration-200 text-center`,children:[(0,N.jsx)(`div`,{className:`mb-4 text-warning flex justify-center`,children:(0,N.jsx)(Cj,{size:48})}),(0,N.jsx)(`h2`,{className:`mt-0 text-xl font-bold`,children:`Confirm Deletion`}),(0,N.jsx)(`p`,{className:`text-text-dim mb-8`,children:`Are you sure you want to delete this user? This action cannot be undone.`}),(0,N.jsxs)(`div`,{className:`flex justify-center gap-4`,children:[(0,N.jsx)(`button`,{onClick:()=>u(!1),className:`px-4 py-2 rounded-lg font-semibold text-sm border border-border-main text-text-main hover:bg-slate-50 hover:border-slate-300 transition-all cursor-pointer`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:async()=>{if(d){m(!0);try{await Qj(d,`Users`),n(e.filter(e=>e.recordId!==d)),u(!1)}catch(e){console.error(`Delete failed:`,e)}finally{m(!1),f(null)}}},disabled:p,className:`px-4 py-2 bg-danger text-white rounded-lg font-semibold text-sm hover:bg-red-600 transition-all cursor-pointer`,children:p?`Deleting...`:`Delete`})]})]})}),h&&v&&(0,N.jsx)(`div`,{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-[100] animate-in fade-in duration-200`,children:(0,N.jsxs)(`div`,{className:`bg-white p-8 rounded-2xl w-full max-auto max-w-[450px] shadow-lg relative animate-in scale-in-95 duration-200`,children:[(0,N.jsx)(`h2`,{className:`mt-0 mb-6 text-xl font-bold`,children:`Edit User`}),(0,N.jsxs)(`form`,{onSubmit:w,children:[(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Name`}),(0,N.jsx)(`input`,{type:`text`,required:!0,value:v.name,onChange:e=>y({...v,name:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all`})]}),(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Email`}),(0,N.jsx)(`input`,{type:`email`,required:!0,value:v.email,onChange:e=>y({...v,email:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all`})]}),(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Password (New)`}),(0,N.jsx)(`input`,{type:`text`,placeholder:`Leave blank to keep current`,value:v.password,onChange:e=>y({...v,password:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all`})]}),(0,N.jsxs)(`div`,{className:`mb-8`,children:[(0,N.jsx)(`label`,{className:`block mb-2 text-sm font-semibold`,children:`Role`}),(0,N.jsxs)(`select`,{value:v.role,onChange:e=>y({...v,role:e.target.value}),className:`w-full px-4 py-3 rounded-lg border border-border-main outline-none focus:border-primary transition-all appearance-none bg-white`,children:[(0,N.jsx)(`option`,{value:`user`,children:`User`}),(0,N.jsx)(`option`,{value:`admin`,children:`Admin`})]})]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-3`,children:[(0,N.jsx)(`button`,{type:`button`,onClick:()=>g(!1),className:`px-4 py-2 rounded-lg font-semibold text-sm border border-border-main text-text-main hover:bg-slate-50 hover:border-slate-300 transition-all cursor-pointer`,children:`Cancel`}),(0,N.jsx)(`button`,{type:`submit`,disabled:b,className:`px-4 py-2 bg-primary text-white rounded-lg font-semibold text-sm hover:bg-slate-800 transition-all cursor-pointer`,children:b?`Updating...`:`Update User`})]})]})]})})]})};Da.registerModules([Pk]);var dM=()=>{let{attendance:e,loading:t}=ot(),[n,r]=(0,_.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}),i=n?e.filter(e=>{if(!e.date)return!1;let t=e.date;return t.includes(`T`)&&(t=t.split(`T`)[0]),t===n}):e;return t?(0,N.jsx)(cM,{}):(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden bg-white rounded-[24px] border border-border-main shadow-sm`,children:[(0,N.jsxs)(`div`,{className:`p-6 flex justify-between items-center border-b border-border-main bg-white shrink-0`,children:[(0,N.jsx)(`h2`,{className:`m-0 text-xl font-semibold text-text-main`,children:`Attendance Management`}),(0,N.jsxs)(`div`,{className:`flex gap-4 items-center`,children:[(0,N.jsxs)(`div`,{className:`relative flex items-center`,children:[(0,N.jsx)(hj,{size:18,className:`absolute left-3 text-text-dim pointer-events-none`}),(0,N.jsx)(`input`,{type:`date`,value:n,onChange:e=>r(e.target.value),className:`bg-bg-main pl-10 pr-4 py-2 rounded-full border border-border-main text-[0.9rem] text-text-main outline-none focus:ring-1 focus:ring-primary shadow-sm appearance-none`})]}),n&&(0,N.jsx)(`button`,{onClick:()=>r(``),className:`px-4 py-2 text-[0.85rem] font-semibold text-text-dim hover:text-text-main border border-border-main rounded-full bg-white transition-all cursor-pointer`,children:`Clear`})]})]}),(0,N.jsx)(`div`,{className:`flex-1 w-full overflow-hidden mt-0`,children:(0,N.jsx)(`div`,{className:`ag-theme-alpine h-full w-full`,children:(0,N.jsx)(ij,{rowData:i,columnDefs:[{field:`date`,headerName:`Date`,flex:1,filter:!1,valueFormatter:e=>{if(!e.value)return``;if(e.value.includes(`T`))return new Date(e.value).toLocaleDateString(`en-US`,{month:`2-digit`,day:`2-digit`,year:`numeric`});let t=e.value.split(`-`);return t.length===3?`${t[1]}/${t[2]}/${t[0]}`:e.value}},{field:`user`,headerName:`User`,flex:1,filter:!1},{field:`totalDuration`,headerName:`Duration`,flex:1,cellStyle:{fontWeight:700,color:`#0f172a`},valueFormatter:e=>{if(!e.value)return``;let t=String(e.value).split(`:`);if(t.length<2)return e.value;let n=parseInt(t[0],10),r=parseInt(t[1],10),i=t[2]?parseInt(t[2],10):0,a=[];return n>0&&a.push(`${n} hr`),r>0&&a.push(`${r} min`),i>0&&a.push(`${i} sec`),a.join(` `)||`0 sec`}}],defaultColDef:{sortable:!0,resizable:!0},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50],animateRows:!0,rowHeight:70,theme:`legacy`,onGridReady:e=>{e.api.sizeColumnsToFit(),window.addEventListener(`resize`,()=>{setTimeout(()=>e.api.sizeColumnsToFit(),100)})},overlayNoRowsTemplate:`<span style='padding: 1rem;'>No records found for this date</span>`})})})]})})};Da.registerModules([Pk]);var fM=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`});(0,_.useEffect)(()=>{(async()=>{r(!0);try{t(await Vj({}))}catch(e){console.error(`Failed to load global history:`,e)}finally{r(!1)}})()},[]);let o=i?e.filter(e=>e.date?new Date(e.date).toLocaleDateString(`en-CA`)===new Date(i).toLocaleDateString(`en-CA`):!1):e;return n?(0,N.jsx)(cM,{}):(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden bg-white rounded-[24px] border border-border-main shadow-sm`,children:[(0,N.jsxs)(`div`,{className:`p-6 flex justify-between items-center border-b border-border-main bg-white shrink-0`,children:[(0,N.jsx)(`h2`,{className:`m-0 text-xl font-semibold text-text-main`,children:`Progress Management`}),(0,N.jsxs)(`div`,{className:`flex gap-4 items-center`,children:[(0,N.jsxs)(`div`,{className:`relative flex items-center`,children:[(0,N.jsx)(hj,{size:18,className:`absolute left-3 text-text-dim pointer-events-none`}),(0,N.jsx)(`input`,{type:`date`,value:i,onChange:e=>a(e.target.value),className:`bg-bg-main pl-10 pr-4 py-2 rounded-full border border-border-main text-[0.9rem] text-text-main outline-none focus:ring-1 focus:ring-primary shadow-sm appearance-none`})]}),i&&(0,N.jsx)(`button`,{onClick:()=>a(``),className:`px-4 py-2 text-[0.85rem] font-semibold text-text-dim hover:text-text-main border border-border-main rounded-full bg-white transition-all cursor-pointer`,children:`Clear`})]})]}),(0,N.jsx)(`div`,{className:`flex-1 w-full overflow-hidden mt-0`,children:(0,N.jsx)(`div`,{className:`ag-theme-alpine h-full w-full`,children:(0,N.jsx)(ij,{rowData:o,columnDefs:[...i?[]:[{field:`date`,headerName:`Date`,flex:1,filter:!1,valueFormatter:e=>{if(!e.value)return``;let t=new Date(e.value);return isNaN(t.getTime())?e.value:t.toLocaleDateString(`en-US`,{month:`2-digit`,day:`2-digit`,year:`numeric`})}}],{field:`userName`,headerName:`User`,flex:1,filter:!1},{field:`sessionNo`,headerName:`Session`,width:100},{field:`startTime`,headerName:`Start`,width:100},{field:`endTime`,headerName:`End`,width:100},{field:`duration`,headerName:`Duration`,width:120,cellStyle:{fontWeight:600},valueFormatter:e=>{if(!e.value)return``;let t=String(e.value).split(`:`);if(t.length<2)return e.value;let n=parseInt(t[0],10),r=parseInt(t[1],10),i=t[2]?parseInt(t[2],10):0,a=[];return n>0&&a.push(`${n} hr`),r>0&&a.push(`${r} min`),i>0&&a.push(`${i} sec`),a.join(` `)||`0 sec`}},{field:`project`,headerName:`Project`,width:120},{field:`category`,headerName:`Category`,width:120},{field:`workDescription`,headerName:`Description`,width:200,tooltipField:`workDescription`,cellRenderer:e=>(0,N.jsxs)(`span`,{title:e.value,children:[e.value?.substring(0,30),e.value?.length>30?`...`:``]})},{field:`status`,headerName:`Status`,width:120,cellRenderer:e=>(0,N.jsx)(`span`,{className:`inline-flex items-center px-3 py-1 rounded-full text-[0.75rem] font-semibold leading-none
                                                ${e.value===`Completed`?`bg-emerald-100 text-emerald-700`:`bg-amber-100 text-amber-700`}`,children:e.value})},{field:`approvedState`,headerName:`Approved State`,width:140}],defaultColDef:{sortable:!0,resizable:!0},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50],animateRows:!0,rowHeight:70,theme:`legacy`,onGridReady:e=>{e.api.sizeColumnsToFit(),window.addEventListener(`resize`,()=>{setTimeout(()=>e.api.sizeColumnsToFit(),100)})},overlayLoadingTemplate:`<div class='loading-spinner'></div> Loading History...`,overlayNoRowsTemplate:`<span style='padding: 1rem;'>No history found</span>`})})})]})})},pM=()=>{let[e,t]=(0,_.useState)(!0),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)(null),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)({seconds:0,count:0}),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)((()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`})()),m=n.filter(e=>!e.date||!f?!1:e.date===f),[h,g]=(0,_.useState)(localStorage.getItem(`appUserName`)||``),[v,y]=(0,_.useState)(localStorage.getItem(`appUserEmail`)||``),[b,x]=(0,_.useState)(localStorage.getItem(`appUserRole`)||`user`),[S,C]=(0,_.useState)(null),[w,T]=(0,_.useState)(!1),[E,ee]=(0,_.useState)(!1),[D,te]=(0,_.useState)(null),[O,ne]=(0,_.useState)(!1),[re,ie]=(0,_.useState)(()=>{let e=localStorage.getItem(`reminderInterval`);return e?parseInt(e):0}),[ae,oe]=(0,_.useState)(!1);(0,_.useEffect)(()=>{localStorage.setItem(`reminderInterval`,re)},[re]),(0,_.useEffect)(()=>{`Notification`in window&&Notification.permission!==`granted`&&Notification.requestPermission()},[]),(0,_.useEffect)(()=>{if(!i||i.status!==`In Progress`||re<=0||o)return;let e=()=>{let e=new Date,t=i.lastReminderTime||i.startTimeFull||i.startTimeStr,n=new Date(t);isNaN(n.getTime())||i.status===`Paused`||o||(e-n)/1e3>=re&&(k(),A())};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[i,re,o]);let k=()=>{let e=Math.floor(re/3600),t=Math.floor(re%3600/60),n=re%60,r=``;if(e>0&&(r+=`${e} h `),t>0&&(r+=`${t} m `),(n>0||r===``)&&(r+=`${n} s`),Notification.permission===`granted`){let e=new Notification(`Still working?`,{body:`You've been active for ${r.trim()}. Click to check in.`,icon:`/attendance_tracker/favicon.ico`,tag:`check-in`});e.onclick=()=>{window.focus(),oe(!0),e.close()}}oe(!0)},A=()=>{if(!i)return;let e={...i,lastReminderTime:new Date().toISOString()};a(e),localStorage.setItem(`activeWorkSession`,JSON.stringify(e))};(0,_.useEffect)(()=>{h&&(se(),b===`admin`&&xe.pathname===`/`&&be(`/admin`));let e=localStorage.getItem(`activeWorkSession`);if(e)try{a(JSON.parse(e))}catch(e){console.error(`Error parsing local session`,e),localStorage.removeItem(`activeWorkSession`)}},[h,b]),(0,_.useEffect)(()=>{let t=new Date,r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`,i=n.filter(e=>{if(!e.date)return!1;let t=new Date(e.date);return isNaN(t.getTime())?!1:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`===r}),a=0;if(i.forEach(e=>{a+=mM(e.duration)}),l({seconds:a,count:i.length}),h&&!e){let e=hM(a);localStorage.setItem(`lastDailyTotal`,e),eM(r,h,e).catch(e=>console.error(`Auto-Sync Failed`,e))}},[n,h,e]);let se=async()=>{if(h){t(!0);try{r((await Vj({userName:h})).filter(e=>!(e.userName&&e.userName!==h)))}catch(e){console.error(`Failed to load`,e)}finally{t(!1)}}},ce=async(e=null)=>{if(!h){setIsUserModalOpen(!0);return}let t=e||new Date,r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`,i=t.toTimeString().slice(0,5),o=n.filter(e=>e.date&&String(e.date).includes(r)),s=1;if(o.length>0){let e=o.map(e=>parseInt(e.sessionNo)||0);s=Math.max(...e)+1}let c={date:r,userName:h,sessionNo:s.toString(),startTime:i,startTime:i,startTimeFull:t.toISOString(),status:`In Progress`,totalPausedSeconds:0,lastPauseTime:null,lastReminderTime:t.toISOString(),reminderInterval:re};a(c),localStorage.setItem(`activeWorkSession`,JSON.stringify(c))},le=()=>{if(!i)return;let e={...i,lastPauseTime:new Date().toISOString(),status:`Paused`};a(e),localStorage.setItem(`activeWorkSession`,JSON.stringify(e))},ue=()=>{if(!i||!i.lastPauseTime)return;let e=new Date,t=new Date(i.lastPauseTime),n=Math.floor((e-t)/1e3),r={...i,lastPauseTime:null,totalPausedSeconds:(i.totalPausedSeconds||0)+n,status:`In Progress`};a(r),localStorage.setItem(`activeWorkSession`,JSON.stringify(r))},j=()=>{s(!0)},M=async e=>{if(!i)return;let t=new Date,o=t.toTimeString().slice(0,5),c=new Date;if(i.startTimeFull)c=new Date(i.startTimeFull);else{let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,`0`),r=String(t.getDate()).padStart(2,`0`);c=new Date(`${e}-${n}-${r}T${i.startTime}:00`)}let l=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,`0`)}-${String(c.getDate()).padStart(2,`0`)}`,u=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`,d=l!==u,f={userName:i.userName,workDescription:e.workDescription,project:e.project,category:e.category,status:e.status||`Completed`,approvedState:e.approvedState||`Pending`,approvedBy:e.approvedState===`Completed`||e.approvedState===`Approved`?i.userName:``};if(s(!1),a(null),localStorage.removeItem(`activeWorkSession`),d){let e=new Date(c);e.setHours(23,59,59,999);let a=Math.floor((e-c)/1e3);a<0&&(a=0);let s={...f,date:l,sessionNo:i.sessionNo,startTime:i.startTime,endTime:`23:59`,duration:hM(a)},d=new Date(t);d.setHours(0,0,0,0);let p=Math.floor((t-d)/1e3);p<0&&(p=0);let m=n.filter(e=>e.date===u).map(e=>parseInt(e.sessionNo)||0),h=m.length>0?Math.max(...m)+1:1,g={...f,date:u,sessionNo:h.toString(),startTime:`00:00`,endTime:o,duration:hM(p)},_=Date.now(),v=_+1;r(e=>[{...g,recordId:v,status:`Completed`},{...s,recordId:_,status:`Completed`},...e]);try{await Uj(s),await Uj(g),await Zj(s),await Zj(g),se()}catch(e){console.error(`Overnight Save Error`,e),alert(`Saved locally, sync failed: `+e.message)}}else{let e=Math.floor((t-c)/1e3);if(i.totalPausedSeconds&&(e-=i.totalPausedSeconds),i.lastPauseTime){let n=new Date(i.lastPauseTime),r=Math.floor((t-n)/1e3);e-=r}e<0&&(e=0);let n={...f,date:l,sessionNo:i.sessionNo,startTime:i.startTime,endTime:o,duration:hM(e)},a=Date.now();r(e=>[{...n,recordId:a,status:`Completed`},...e]);try{let e=await Uj(n);await Zj(n),e&&e.recordId&&r(t=>t.map(t=>t.recordId===a?{...t,recordId:e.recordId}:t)),se()}catch(e){console.error(e),alert(`Sync Error: `+e.message)}}},de=()=>{let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`,r=e.toTimeString().slice(0,5),i=n.filter(e=>e.date===t).map(e=>parseInt(e.sessionNo)||0);C({date:t,userName:h,sessionNo:(i.length>0?Math.max(...i)+1:1).toString(),startTime:r,endTime:r,duration:`0 sec`,workDescription:``,project:``,category:``,status:`Completed`,approvedState:`Pending`}),T(!0)},fe=e=>{C(e),T(!0)},pe=async e=>{let t=!e.recordId;if((e.approvedState===`Approved`||e.approvedState===`Completed`)&&(e.approvedBy||=h),T(!1),C(null),t&&e.endTime&&e.startTime&&e.endTime<e.startTime){let t=e.date,i=me(e.startTime,`23:59`),a={...e,endTime:`23:59`,duration:hM(i),recordId:Date.now()},o=new Date(t);o.setDate(o.getDate()+1);let s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,`0`)}-${String(o.getDate()).padStart(2,`0`)}`,c=n.filter(e=>e.date===s).map(e=>parseInt(e.sessionNo)||0),l=c.length>0?Math.max(...c)+1:1,u=me(`00:00`,e.endTime),d={...e,date:s,sessionNo:l.toString(),startTime:`00:00`,endTime:e.endTime,duration:hM(u),recordId:Date.now()+1};r(e=>[d,a,...e]);try{await Zj(a),await Zj(d),se()}catch(e){alert(`Split save error: `+e.message),se()}}else if(t){let t=Date.now(),n={...e,recordId:t,status:e.status||`Completed`};r(e=>[n,...e]);try{let n=await Zj(e);n&&n.recordId&&r(e=>e.map(e=>e.recordId===t?{...e,recordId:n.recordId}:e)),se()}catch(e){console.error(e),alert(`Error creating record: `+e.message),se()}}else try{r(t=>t.map(t=>t.recordId===e.recordId?e:t)),await Wj(e),setTimeout(se,500)}catch(e){alert(`Error updating: `+e.message),se()}},me=(e,t)=>{let n=new Date().toISOString().slice(0,10),r=new Date(`${n}T${e}:00`),i=(new Date(`${n}T${t}:00`)-r)/1e3;return i>0?i:0},he=e=>{te(e),ee(!0)},ge=async()=>{if(!D)return;let e=D,t=n.find(t=>t.recordId===e);if(!t){console.error(`Session not found for deletion`);return}ee(!1),C(null),T(!1);let i=n.filter(t=>t.recordId!==e),a=i.filter(e=>e.date===t.date);a.sort((e,t)=>!e.startTime||!t.startTime?0:e.startTime.localeCompare(t.startTime));let o=a.map((e,t)=>({...e,sessionNo:(t+1).toString()}));r(i.map(e=>e.date===t.date&&o.find(t=>t.recordId===e.recordId)||e));try{await Gj(e);let t=[];o.forEach(e=>{let r=n.find(t=>t.recordId===e.recordId);r&&String(r.sessionNo)!==String(e.sessionNo)&&t.push(e)}),t.length>0&&await Promise.all(t.map(e=>Wj(e))),se()}catch(e){console.error(e),alert(`Background Sync Error: `+e.message+`. Please refresh.`),se()}},_e=e=>{g(e.name),y(e.email),x(e.role||`user`),localStorage.setItem(`appUserName`,e.name),localStorage.setItem(`appUserEmail`,e.email),localStorage.setItem(`appUserRole`,e.role||`user`),e.role?.toLowerCase()===`admin`&&be(`/admin`)},ve=()=>{ne(!0)},ye=()=>{g(``),y(``),x(`user`),localStorage.removeItem(`appUserName`),localStorage.removeItem(`appUserEmail`),localStorage.removeItem(`appUserRole`),ne(!1),be(`/`)};(0,_.useEffect)(()=>{let e=e=>{i&&i.status===`In Progress`&&(e.preventDefault(),e.returnValue=`You have an active session. Are you sure you want to leave?`)};return window.addEventListener(`beforeunload`,e),()=>{window.removeEventListener(`beforeunload`,e)}},[i]);let be=rt(),xe=et();return h?b?.toLowerCase()===`admin`?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(Ft,{children:[(0,N.jsxs)(Nt,{path:`/admin`,element:(0,N.jsx)(aM,{onLogout:()=>ne(!0)}),children:[(0,N.jsx)(Nt,{index:!0,element:(0,N.jsx)(oM,{})}),(0,N.jsx)(Nt,{path:`requests`,element:(0,N.jsx)(lM,{})}),(0,N.jsx)(Nt,{path:`users`,element:(0,N.jsx)(uM,{})}),(0,N.jsx)(Nt,{path:`attendance`,element:(0,N.jsx)(dM,{})}),(0,N.jsx)(Nt,{path:`history`,element:(0,N.jsx)(fM,{})})]}),(0,N.jsx)(Nt,{path:`*`,element:(0,N.jsx)(jt,{to:`/admin`,replace:!0})})]}),(0,N.jsx)(rM,{isOpen:O,onClose:()=>ne(!1),onConfirm:ye})]}):(0,N.jsxs)(Vn,{userProfile:{name:h||`Guest`,role:b},onEditProfile:ve,children:[(0,N.jsxs)(`div`,{className:`fade-in-entry`,children:[(0,N.jsx)(`div`,{style:{marginBottom:`0.8rem`,display:`flex`,justifyContent:`flex-end`,alignItems:`center`,gap:`1rem`},children:xe.pathname===`/`&&(0,N.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`},children:[(0,N.jsxs)(`button`,{onClick:de,style:{padding:`0.6rem 1.2rem`,background:`linear-gradient(145deg, #334155, #1e293b)`,color:`white`,borderRadius:`10px`,border:`1px solid rgba(255,255,255,0.1)`,fontWeight:700,fontSize:`0.85rem`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`0.5rem`,boxShadow:`0 4px 6px rgba(15, 23, 42, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)`,transition:`all 0.2s ease`,letterSpacing:`0.5px`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-1px)`,e.currentTarget.style.boxShadow=`0 6px 12px rgba(15, 23, 42, 0.25), inset 0 1px 0 rgba(255,255,255,0.1)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`0 4px 6px rgba(15, 23, 42, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)`},children:[(0,N.jsx)(`span`,{style:{fontSize:`1.1rem`,lineHeight:.5,marginBottom:`2px`},children:`+`}),`ADD RECORD`]}),(0,N.jsxs)(`button`,{onClick:se,disabled:e,style:{padding:`0.6rem 1rem`,backgroundColor:`white`,color:`#475569`,borderRadius:`10px`,border:`1px solid #e2e8f0`,fontWeight:700,fontSize:`0.85rem`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`0.5rem`,transition:`all 0.2s ease`,boxShadow:`0 1px 2px rgba(0,0,0,0.05)`,letterSpacing:`0.5px`},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=`#f1f5f9`,e.currentTarget.style.borderColor=`#cbd5e1`,e.currentTarget.style.color=`#1e293b`,e.currentTarget.style.transform=`translateY(-1px)`},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=`white`,e.currentTarget.style.borderColor=`#e2e8f0`,e.currentTarget.style.color=`#475569`,e.currentTarget.style.transform=`translateY(0)`},children:[(0,N.jsx)(`span`,{style:{fontSize:`0.9rem`,animation:e?`spin 1s linear infinite`:`none`,fontWeight:`bold`},children:``}),e?`...`:`REFRESH`]}),(0,N.jsx)(`button`,{onClick:()=>be(`/history`),style:{padding:`0.6rem 1.2rem`,background:`linear-gradient(145deg, #334155, #1e293b)`,color:`white`,borderRadius:`10px`,border:`1px solid rgba(255,255,255,0.1)`,fontWeight:700,fontSize:`0.85rem`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`0.5rem`,boxShadow:`0 4px 6px rgba(15, 23, 42, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)`,transition:`all 0.2s ease`,letterSpacing:`0.5px`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-1px)`,e.currentTarget.style.boxShadow=`0 6px 12px rgba(15, 23, 42, 0.25), inset 0 1px 0 rgba(255,255,255,0.1)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`0 4px 6px rgba(15, 23, 42, 0.2), inset 0 1px 0 rgba(255,255,255,0.1)`},children:(0,N.jsx)(`span`,{children:`HISTORY `})})]})}),(0,N.jsxs)(Ft,{children:[(0,N.jsx)(Nt,{path:`/`,element:(0,N.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`0.8fr 1.2fr`,gap:`2.5rem`,alignItems:`stretch`,padding:`1rem`},children:[(0,N.jsx)(Un,{activeSession:i,onStart:ce,onPause:le,onResume:ue,onEnd:j,reminderInterval:re,setReminderInterval:ie}),(0,N.jsx)(Ij,{totalSeconds:c.seconds,sessionCount:c.count})]})}),(0,N.jsx)(Nt,{path:`/history`,element:(0,N.jsx)(`div`,{children:(0,N.jsx)(Oj,{sessions:m,onEdit:fe,onDelete:he,historyDate:f,setHistoryDate:p,onBack:()=>be(`/`)})})})]})]}),(0,N.jsx)(Mj,{isOpen:o,onClose:()=>s(!1),onSubmit:M}),(0,N.jsx)(Pj,{isOpen:w,session:S,onClose:()=>T(!1),onSave:pe,onDelete:he}),(0,N.jsx)(nM,{isOpen:E,onClose:()=>ee(!1),onConfirm:ge}),(0,N.jsx)(iM,{isOpen:ae,onContinue:()=>{oe(!1),A()},onStop:()=>{oe(!1),j()}}),(0,N.jsx)(rM,{isOpen:O,onClose:()=>ne(!1),onConfirm:ye})]}):(0,N.jsx)(tM,{onLogin:_e})},mM=e=>{if(!e)return 0;let t=String(e).toLowerCase();if(t.includes(`:`)&&(t.includes(`hr`)||t.includes(`min`)||t.includes(`sec`))){let e=t.replace(/[a-z]/g,``).split(`:`).map(e=>parseInt(e.trim())||0);if(e.length===3)return e[0]*3600+e[1]*60+e[2]}let n=0,r=t.match(/(\d+)\s*(?:hr|hours|hrs)/),i=t.match(/(\d+)\s*(?:min|mins)/),a=t.match(/(\d+)\s*(?:sec|secs|seconds)/);if(r&&(n+=parseInt(r[1])*3600),i&&(n+=parseInt(i[1])*60),a&&(n+=parseInt(a[1])),n===0){let e=parseFloat(t);!isNaN(e)&&e>0&&(n=Math.floor(e))}return n},hM=e=>{if(isNaN(e)||e<0)return`00 HRS : 00 MIN : 00 SEC`;let t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return`${t<10?`0`+t:t} HRS : ${n<10?`0`+n:n} MIN : ${r<10?`0`+r:r} SEC`},gM=pM;function _M(){return(0,N.jsx)(`div`,{className:`App`,children:(0,N.jsx)(yn,{basename:`/attendance_tracker`,children:(0,N.jsx)(gM,{})})})}var vM=_M;(0,g.createRoot)(document.getElementById(`root`)).render((0,N.jsx)(_.StrictMode,{children:(0,N.jsx)(vM,{})}));